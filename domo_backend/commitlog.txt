commit bfc4a3a810e1ecb504e01c3d56e2a2f0bdd8dbaf
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Sun Feb 1 15:20:11 2026 +0900

    Remove vectorwave decorator from login router
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/routers/auth.py b/app/routers/auth.py
index 4542263..04c1730 100644
--- a/app/routers/auth.py
+++ b/app/routers/auth.py
@@ -148,7 +148,6 @@ def verify_email(req: VerificationRequest, db: Session = Depends(get_db)):
 
 # --- 3. ë¡œê·¸ì¸ API (ì¸ì¦ ì—¬ë¶€ ì²´í¬ ì¶”ê°€) ---
 @router.post("/login")
-@vectorize(search_description="User login", capture_return_value=True, replay=True) # ğŸ‘ˆ ì¶”ê°€
 def login(response: Response, login_data: UserLogin, db: Session = Depends(get_db)):
     user = db.exec(select(User).where(User.email == login_data.email)).first()
 

commit 4a23fbeb4014116fdf38a74f01704921f2877f79
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Sun Feb 1 15:17:27 2026 +0900

    Fix file delete relationship
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/routers/file.py b/app/routers/file.py
index 144149f..f112683 100644
--- a/app/routers/file.py
+++ b/app/routers/file.py
@@ -282,6 +282,7 @@ async def delete_file(
         user_id: int = Depends(get_current_user_id),
         db: Session = Depends(get_db)
 ):
+    # 1. íŒŒì¼ ë©”íƒ€ë°ì´í„° ì¡°íšŒ
     file_meta = db.get(FileMetadata, file_id)
     if not file_meta:
         raise HTTPException(status_code=404, detail="File not found")
@@ -290,18 +291,27 @@ async def delete_file(
     filename = file_meta.filename
     project_id = file_meta.project_id
 
-    # ì‹¤ì œ íŒŒì¼ ì‚­ì œ (ì„ íƒ ì‚¬í•­: ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ ì •ë¦¬)
+    # 2. [í•µì‹¬] ì—°ê´€ëœ ë²„ì „ ì •ë³´(FileVersion) ë¨¼ì € ì‚­ì œ
+    #    ë¶€ëª¨(FileMetadata)ë¥¼ ì§€ìš°ê¸° ì „ì— ìì‹(FileVersion)ì„ ë¨¼ì € ì§€ì›Œì•¼
+    #    FK ì œì•½ ì¡°ê±´(NotNullViolation) ì—ëŸ¬ê°€ ë‚˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
     versions = db.exec(select(FileVersion).where(FileVersion.file_id == file_id)).all()
+
     for v in versions:
+        # ì‹¤ì œ ë””ìŠ¤í¬ì— ìˆëŠ” íŒŒì¼ ì‚­ì œ (ì„ íƒ ì‚¬í•­)
         if os.path.exists(v.saved_path):
             try:
                 os.remove(v.saved_path)
-            except:
-                pass
+            except OSError:
+                pass # íŒŒì¼ì´ ì´ë¯¸ ì—†ìœ¼ë©´ ë¬´ì‹œ
+
+        # DBì—ì„œ ë²„ì „ í–‰ ì‚­ì œ
+        db.delete(v)
 
+    # 3. ì´ì œ ì•ˆì „í•˜ê²Œ ë©”íƒ€ë°ì´í„° ì‚­ì œ
     db.delete(file_meta)
     db.commit()
 
+    # 4. í™œë™ ë¡œê·¸ ê¸°ë¡
     if project:
         user = db.get(User, user_id)
         log_activity(
@@ -309,11 +319,12 @@ async def delete_file(
             content=f"ğŸ—‘ï¸ '{user.name}'ë‹˜ì´ íŒŒì¼ '{filename}'ì„(ë¥¼) ì‚­ì œí–ˆìŠµë‹ˆë‹¤."
         )
 
-    # ğŸ”¥ [SSE] íŒŒì¼ ì‚­ì œ ì•Œë¦¼
+    # 5. [SSE] ì‹¤ì‹œê°„ ì•Œë¦¼ (jsonable_encoder ì‚¬ìš©)
+    #    idëŠ” intë¼ ê´œì°®ì§€ë§Œ, í™•ì¥ì„±ì„ ìœ„í•´ encoder ì‚¬ìš© ê¶Œì¥
     await board_event_manager.broadcast(project_id, {
         "type": "FILE_DELETED",
         "user_id": user_id,
-        "data": {"id": file_id}  # idëŠ” ë‹¨ìˆœ intë¼ encoder ì—†ì–´ë„ ë˜ì§€ë§Œ ì•ˆì „í•˜ê²Œ
+        "data": {"id": file_id}
     })
 
     return {"message": "íŒŒì¼ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤."}
\ No newline at end of file

commit e5a36b5898b3413dd24e18954e4a92d2748bacb6
Author: UZIH05 <luv.wlgjs@gmail.com>
Date:   Sun Feb 1 15:09:56 2026 +0900

    fix: serialize Card relationships in SSE broadcast
    
    jsonable_encoder(card) calls model_dump() which excludes SQLModel
    Relationship fields (files, assignees). Replace with serialize_card()
    helper that uses CardResponse.model_validate(from_attributes=True) to
    properly include all relationships in CARD_UPDATED broadcasts.
    
    Signed-off-by: UZIH05 <luv.wlgjs@gmail.com>

diff --git a/app/routers/board.py b/app/routers/board.py
index f261805..0361a63 100644
--- a/app/routers/board.py
+++ b/app/routers/board.py
@@ -29,6 +29,16 @@ from app.utils.connection_manager import board_event_manager
 
 router = APIRouter(tags=["Board & Cards"])
 
+# =================================================================
+# Card ORM -> dict serialization helper
+# jsonable_encoder(card) cannot serialize SQLModel Relationship fields
+# (files, assignees). Use CardResponse.model_validate instead.
+# =================================================================
+def serialize_card(card: Card) -> dict:
+    """Card ORM -> dict with files/assignees included"""
+    return CardResponse.model_validate(card, from_attributes=True).model_dump(mode="json")
+
+
 # =================================================================
 # ğŸ“¡ [ì‹ ê·œ] ë³´ë“œ ì‹¤ì‹œê°„ êµ¬ë… (SSE)
 # =================================================================
@@ -602,7 +612,7 @@ async def update_card(
     await board_event_manager.broadcast(card.project_id, {
         "type": "CARD_UPDATED",
         "user_id": user_id,
-        "data": jsonable_encoder(card)
+        "data": serialize_card(card)
     })
 
     return card
@@ -661,7 +671,7 @@ async def attach_file_to_card(card_id: int, file_id: int, user_id: int = Depends
     # ğŸ”¥ [SSE] jsonable_encoder ì‚¬ìš©
     await board_event_manager.broadcast(card.project_id, {
         "type": "CARD_UPDATED",
-        "data": jsonable_encoder(card)
+        "data": serialize_card(card)
     })
 
     return card
@@ -677,6 +687,7 @@ async def detach_file_from_card(card_id: int, file_id: int, user_id: int = Depen
 
     user = db.get(User, user_id)
     card = db.get(Card, card_id)
+    db.refresh(card)  # relationship(files) stale ë°©ì§€
     file = db.get(FileMetadata, file_id)
     project_id = card.project_id
     project = db.get(Project, card.project_id)
@@ -689,7 +700,7 @@ async def detach_file_from_card(card_id: int, file_id: int, user_id: int = Depen
     # ğŸ”¥ [SSE] jsonable_encoder ì‚¬ìš©
     await board_event_manager.broadcast(project_id, {
         "type": "CARD_UPDATED",
-        "data": jsonable_encoder(card)
+        "data": serialize_card(card)
     })
 
     return {"message": "íŒŒì¼ ì—°ê²°ì´ í•´ì œë˜ì—ˆìŠµë‹ˆë‹¤."}
@@ -716,7 +727,7 @@ async def create_comment(card_id: int, comment_data: CardCommentCreate, user_id:
     # ğŸ”¥ [SSE] jsonable_encoder ì‚¬ìš©
     await board_event_manager.broadcast(project_id, {
         "type": "CARD_UPDATED",
-        "data": jsonable_encoder(card)
+        "data": serialize_card(card)
     })
 
     return new_comment
@@ -724,4 +735,4 @@ async def create_comment(card_id: int, comment_data: CardCommentCreate, user_id:
 @router.get("/cards/{card_id}/comments", response_model=List[CardCommentResponse])
 def get_card_comments(card_id: int, db: Session = Depends(get_db)):
     comments = db.exec(select(CardComment).where(CardComment.card_id == card_id).order_by(CardComment.created_at.asc())).all()
-    return comments
\ No newline at end of file
+    return comments

commit 481c6d211ac8c01a39b76d186a602acc194aecf7
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Sun Feb 1 14:46:22 2026 +0900

    SSE response in file.py type error handling
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/routers/file.py b/app/routers/file.py
index af82848..144149f 100644
--- a/app/routers/file.py
+++ b/app/routers/file.py
@@ -1,45 +1,45 @@
+# app/routers/file.py
+
 import os
-import shutil
 import uuid
-from fastapi import APIRouter, Depends, HTTPException, UploadFile, File
-from fastapi.responses import FileResponse as StreamFileResponse
-from sqlmodel import Session, select, desc
+import shutil
+from typing import List
 from datetime import datetime
+from fastapi import APIRouter, Depends, HTTPException, UploadFile, File, BackgroundTasks
+from fastapi.encoders import jsonable_encoder  # ğŸ‘ˆ [í•µì‹¬] ì§ë ¬í™” í•´ê²°ì‚¬ ì„í¬íŠ¸
+from sqlmodel import Session, select, desc
 
 from app.database import get_db
 from app.routers.workspace import get_current_user_id
 from app.models.file import FileMetadata, FileVersion
-from app.models.workspace import Project, WorkspaceMember
-from app.schemas import FileResponse, FileVersionResponse
-from typing import List
-from app.utils.logger import log_activity
 from app.models.workspace import Project
 from app.models.user import User
-from app.models.board import CardFileLink
-from vectorwave import *
+from app.schemas import FileResponse, FileVersionResponse
+from app.utils.logger import log_activity
 from app.utils.connection_manager import board_event_manager
+from vectorwave import vectorize
 
-router = APIRouter(tags=["File Management"])
-
-UPLOAD_DIR = "/app/uploads"  # docker-composeì—ì„œ ë§ˆìš´íŠ¸í•œ ê²½ë¡œ
+router = APIRouter(tags=["Files"])
 
-# ì„œë²„ ì‹œì‘ ì‹œ í´ë”ê°€ ì—†ìœ¼ë©´ ìƒì„±
+UPLOAD_DIR = "/app/uploads/files"
 os.makedirs(UPLOAD_DIR, exist_ok=True)
 
-
-# 1. íŒŒì¼ ì—…ë¡œë“œ (ìë™ ë²„ì „ ê´€ë¦¬)
 @router.post("/projects/{project_id}/files", response_model=FileResponse)
-@vectorize(search_description="Upload file", capture_return_value=True, replay=True)  # ğŸ‘ˆ ì¶”ê°€
+@vectorize(search_description="Upload file to project", capture_return_value=True, replay=True)
 async def upload_file(
         project_id: int,
         file: UploadFile = File(...),
         user_id: int = Depends(get_current_user_id),
         db: Session = Depends(get_db)
 ):
-    # 0. í”„ë¡œì íŠ¸ ê¶Œí•œ í™•ì¸ (ìƒëµ ê°€ëŠ¥í•˜ë‚˜ ë³´ì•ˆìƒ ê¶Œì¥)
-    # ... (WorkspaceMember ì²´í¬ ë¡œì§) ...
+    # 1. í”„ë¡œì íŠ¸ í™•ì¸
+    project = db.get(Project, project_id)
+    if not project:
+        raise HTTPException(status_code=404, detail="Project not found")
 
-    # 1. ì‹¤ì œ íŒŒì¼ ì €ì¥ (ì´ë¦„ ì¶©ëŒ ë°©ì§€ë¥¼ ìœ„í•´ UUID ì‚¬ìš©)
+    user = db.get(User, user_id)
+
+    # 2. íŒŒì¼ ì €ì¥
     file_ext = os.path.splitext(file.filename)[1]
     saved_filename = f"{uuid.uuid4()}{file_ext}"
     saved_path = os.path.join(UPLOAD_DIR, saved_filename)
@@ -49,7 +49,7 @@ async def upload_file(
 
     file_size = os.path.getsize(saved_path)
 
-    # 2. ê°™ì€ ì´ë¦„ì˜ íŒŒì¼ì´ ìˆëŠ”ì§€ í™•ì¸
+    # 3. DB ë©”íƒ€ë°ì´í„° í™•ì¸ ë° ë²„ì „ ê´€ë¦¬
     existing_file = db.exec(
         select(FileMetadata)
         .where(FileMetadata.project_id == project_id)
@@ -57,9 +57,10 @@ async def upload_file(
     ).first()
 
     current_version_num = 1
+    target_file_id = None
 
     if existing_file:
-        # ì´ë¯¸ ì¡´ì¬í•˜ë©´: ë©”íƒ€ë°ì´í„° ì—…ë°ì´íŠ¸ & ë²„ì „ UP
+        # ì´ë¯¸ ì¡´ì¬í•˜ë©´: ë©”íƒ€ë°ì´í„° ì—…ë°ì´íŠ¸
         last_version = db.exec(
             select(FileVersion)
             .where(FileVersion.file_id == existing_file.id)
@@ -73,7 +74,7 @@ async def upload_file(
         existing_file.updated_at = datetime.now()
         db.add(existing_file)
     else:
-        # ì—†ìœ¼ë©´: ìƒˆë¡œ ìƒì„± (v1)
+        # ì—†ìœ¼ë©´: ìƒˆë¡œ ìƒì„±
         new_file = FileMetadata(
             project_id=project_id,
             filename=file.filename,
@@ -85,7 +86,7 @@ async def upload_file(
         target_file_id = new_file.id
         existing_file = new_file
 
-    # 3. ë²„ì „ ì •ë³´ ì €ì¥
+    # 4. ë²„ì „ ì •ë³´ ì €ì¥
     new_version = FileVersion(
         file_id=target_file_id,
         version=current_version_num,
@@ -97,24 +98,8 @@ async def upload_file(
     db.commit()
     db.refresh(new_version)
 
-    try:
-        user = db.get(User, user_id)
-        project = db.get(Project, project_id)
-
-        # v1ì´ë©´ "ì—…ë¡œë“œ", v2 ì´ìƒì´ë©´ "ì—…ë°ì´íŠ¸"
-        action_msg = "ì—…ë¡œë“œ" if current_version_num == 1 else f"ìƒˆ ë²„ì „(v{current_version_num}) ì—…ë°ì´íŠ¸"
-
-        log_activity(
-            db=db,
-            user_id=user_id,
-            workspace_id=project.workspace_id if project else None,
-            action_type="UPLOAD",
-            content=f"ğŸ’¾ '{user.name}'ë‹˜ì´ '{project.name}' í”„ë¡œì íŠ¸ì— íŒŒì¼ '{file.filename}'ì„(ë¥¼) {action_msg}í–ˆìŠµë‹ˆë‹¤."
-        )
-    except Exception as e:
-        print(f"ë¡œê·¸ ì €ì¥ ì‹¤íŒ¨: {e}")  # ë¡œê·¸ ì‹¤íŒ¨ê°€ íŒŒì¼ ì—…ë¡œë“œë¥¼ ë§‰ìœ¼ë©´ ì•ˆ ë˜ë¯€ë¡œ ì˜ˆì™¸ ì²˜ë¦¬
-
-    response = FileResponse(
+    # 5. ì‘ë‹µ ë°ì´í„° ìƒì„±
+    response_data = FileResponse(
         id=existing_file.id,
         project_id=existing_file.project_id,
         filename=existing_file.filename,
@@ -129,23 +114,31 @@ async def upload_file(
         )
     )
 
+    # 6. ë¡œê·¸ ê¸°ë¡
+    action_msg = "ì—…ë¡œë“œ" if current_version_num == 1 else f"ìƒˆ ë²„ì „(v{current_version_num}) ì—…ë°ì´íŠ¸"
+    log_activity(
+        db=db, user_id=user_id, workspace_id=project.workspace_id, action_type="UPLOAD",
+        content=f"ğŸ’¾ '{user.name}'ë‹˜ì´ íŒŒì¼ '{file.filename}'ì„(ë¥¼) {action_msg}í–ˆìŠµë‹ˆë‹¤."
+    )
+
+    # ğŸ”¥ [SSE] íŒŒì¼ ì—…ë¡œë“œ ì•Œë¦¼ (jsonable_encoder ì ìš©!)
     await board_event_manager.broadcast(project_id, {
         "type": "FILE_UPLOADED",
-        "data": response.model_dump()
+        "user_id": user_id,
+        "data": jsonable_encoder(response_data)  # ğŸ‘ˆ ì—¬ê¸°ê°€ í•µì‹¬!
     })
 
-    return response
-
+    return response_data
 
+# ğŸ“¦ [ì‹ ê·œ] ë‹¤ì¤‘ íŒŒì¼ ì—…ë¡œë“œ (ë°°ì¹˜)
 @router.post("/projects/{project_id}/files/batch", response_model=List[FileResponse])
 @vectorize(search_description="Batch upload files", capture_return_value=True)
 async def upload_files_batch(
         project_id: int,
-        files: List[UploadFile] = File(...),  # ğŸ‘ˆ í•µì‹¬: íŒŒì¼ì„ ë¦¬ìŠ¤íŠ¸ë¡œ ë°›ìŒ
+        files: List[UploadFile] = File(...),
         user_id: int = Depends(get_current_user_id),
         db: Session = Depends(get_db)
 ):
-    # 0. í”„ë¡œì íŠ¸ í™•ì¸ (í•œ ë²ˆë§Œ ì¡°íšŒ)
     project = db.get(Project, project_id)
     if not project:
         raise HTTPException(status_code=404, detail="Project not found")
@@ -153,23 +146,18 @@ async def upload_files_batch(
     user = db.get(User, user_id)
     results = []
 
-    # 1. íŒŒì¼ ëª©ë¡ ìˆœíšŒí•˜ë©° ì²˜ë¦¬
     for file in files:
-        # --- (ê¸°ì¡´ ë‹¨ê±´ ì—…ë¡œë“œ ë¡œì§ ì¬ì‚¬ìš©) ---
-
         # A. íŒŒì¼ ì €ì¥
         file_ext = os.path.splitext(file.filename)[1]
         saved_filename = f"{uuid.uuid4()}{file_ext}"
         saved_path = os.path.join(UPLOAD_DIR, saved_filename)
 
-        # ë¹„ë™ê¸° íŒŒì¼ ì½ê¸°/ì“°ê¸°ë¥¼ ìœ„í•´ file.read() ë“±ì„ ì“¸ ìˆ˜ë„ ìˆì§€ë§Œ,
-        # ëŒ€ìš©ëŸ‰ ì²˜ë¦¬ë¥¼ ìœ„í•´ ê¸°ì¡´ì²˜ëŸ¼ copyfileobj ì‚¬ìš© (Blocking ë°©ì§€ ìœ„í•´ run_in_threadpool ë“±ì„ ê³ ë ¤í•  ìˆ˜ ìˆìœ¼ë‚˜ ì—¬ê¸°ì„  ë‹¨ìˆœí™”)
         with open(saved_path, "wb") as buffer:
             shutil.copyfileobj(file.file, buffer)
 
         file_size = os.path.getsize(saved_path)
 
-        # B. DB ë©”íƒ€ë°ì´í„° í™•ì¸ ë° ë²„ì „ ê´€ë¦¬
+        # B. DB ì²˜ë¦¬ (ë‹¨ê±´ê³¼ ë™ì¼ ë¡œì§)
         existing_file = db.exec(
             select(FileMetadata)
             .where(FileMetadata.project_id == project_id)
@@ -180,28 +168,24 @@ async def upload_files_batch(
         target_file_id = None
 
         if existing_file:
-            # ì´ë¯¸ ì¡´ì¬í•˜ë©´: ë©”íƒ€ë°ì´í„° ì—…ë°ì´íŠ¸
             last_version = db.exec(
                 select(FileVersion)
                 .where(FileVersion.file_id == existing_file.id)
                 .order_by(desc(FileVersion.version))
             ).first()
-
             if last_version:
                 current_version_num = last_version.version + 1
-
             target_file_id = existing_file.id
             existing_file.updated_at = datetime.now()
             db.add(existing_file)
         else:
-            # ì—†ìœ¼ë©´: ìƒˆë¡œ ìƒì„±
             new_file = FileMetadata(
                 project_id=project_id,
                 filename=file.filename,
                 owner_id=user_id
             )
             db.add(new_file)
-            db.commit()  # ID ìƒì„±ì„ ìœ„í•´ ì»¤ë°‹
+            db.commit()
             db.refresh(new_file)
             target_file_id = new_file.id
             existing_file = new_file
@@ -218,7 +202,7 @@ async def upload_files_batch(
         db.commit()
         db.refresh(new_version)
 
-        # D. ê²°ê³¼ ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€
+        # D. ê²°ê³¼ ë¦¬ìŠ¤íŠ¸ ì¶”ê°€
         results.append(FileResponse(
             id=existing_file.id,
             project_id=existing_file.project_id,
@@ -234,7 +218,7 @@ async def upload_files_batch(
             )
         ))
 
-        # E. ë¡œê·¸ ê¸°ë¡ (ê°œë³„ íŒŒì¼ë§ˆë‹¤ ë‚¨ê¹€)
+        # E. ë¡œê·¸ ê¸°ë¡
         try:
             action_msg = "ì—…ë¡œë“œ" if current_version_num == 1 else f"ìƒˆ ë²„ì „(v{current_version_num}) ì—…ë°ì´íŠ¸"
             log_activity(
@@ -247,47 +231,33 @@ async def upload_files_batch(
         except Exception:
             pass
 
-    await board_event_manager.broadcast(project_id, {
-        "type": "FILES_UPLOADED",
-        "data": [r.model_dump() for r in results]
-    })
+    # ğŸ”¥ [SSE] ë°°ì¹˜ ì—…ë¡œë“œ ì•Œë¦¼ (jsonable_encoder ì ìš©!)
+    if results:
+        await board_event_manager.broadcast(project_id, {
+            "type": "FILES_BATCH_UPLOADED",
+            "user_id": user_id,
+            "data": jsonable_encoder(results)  # ğŸ‘ˆ ì—¬ê¸°ê°€ í•µì‹¬!
+        })
 
     return results
 
-
 @router.get("/projects/{project_id}/files", response_model=List[FileResponse])
-@vectorize(search_description="List all files in project", capture_return_value=True)
+@vectorize(search_description="List project files", capture_return_value=True)
 def get_project_files(
         project_id: int,
-        db: Session = Depends(get_db),
-        user_id: int = Depends(get_current_user_id)
+        db: Session = Depends(get_db)
 ):
-    """
-    í•´ë‹¹ í”„ë¡œì íŠ¸ì— ì—…ë¡œë“œëœ ëª¨ë“  íŒŒì¼ì˜ ëª©ë¡ê³¼ ìµœì‹  ë²„ì „ ì •ë³´ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
-    """
-    # 1. í”„ë¡œì íŠ¸ ì¡´ì¬ ì—¬ë¶€ í™•ì¸
-    project = db.get(Project, project_id)
-    if not project:
-        raise HTTPException(status_code=404, detail="Project not found")
-
-    # 2. íŒŒì¼ ë©”íƒ€ë°ì´í„° ì¡°íšŒ (ìµœì‹ ìˆœ ì •ë ¬)
-    files = db.exec(
-        select(FileMetadata)
-        .where(FileMetadata.project_id == project_id)
-        .order_by(FileMetadata.created_at.desc())
-    ).all()
+    files = db.exec(select(FileMetadata).where(FileMetadata.project_id == project_id)).all()
 
     results = []
     for f in files:
-        # 3. ê° íŒŒì¼ì˜ 'ìµœì‹  ë²„ì „' ì •ë³´ ê°€ì ¸ì˜¤ê¸°
-        latest_ver = db.exec(
+        latest_v = db.exec(
             select(FileVersion)
             .where(FileVersion.file_id == f.id)
             .order_by(desc(FileVersion.version))
         ).first()
 
-        # ë²„ì „ ì •ë³´ê°€ ìˆëŠ” ê²½ìš°ì—ë§Œ ê²°ê³¼ì— í¬í•¨
-        if latest_ver:
+        if latest_v:
             results.append(FileResponse(
                 id=f.id,
                 project_id=f.project_id,
@@ -295,112 +265,55 @@ def get_project_files(
                 owner_id=f.owner_id,
                 created_at=f.created_at,
                 latest_version=FileVersionResponse(
-                    id=latest_ver.id,
-                    version=latest_ver.version,
-                    file_size=latest_ver.file_size,
-                    created_at=latest_ver.created_at,
-                    uploader_id=latest_ver.uploader_id
+                    id=latest_v.id,
+                    version=latest_v.version,
+                    file_size=latest_v.file_size,
+                    created_at=latest_v.created_at,
+                    uploader_id=latest_v.uploader_id
                 )
             ))
 
     return results
 
-
-# 2. íŒŒì¼ ë‹¤ìš´ë¡œë“œ (íŠ¹ì • ë²„ì „)
-@router.get("/files/download/{version_id}")
-@vectorize(search_description="Download file version", capture_return_value=False, replay=True)
-def download_file_version(version_id: int, db: Session = Depends(get_db)):
-    version = db.get(FileVersion, version_id)
-    if not version:
-        raise HTTPException(status_code=404, detail="íŒŒì¼ ë²„ì „ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
-
-    file_meta = db.get(FileMetadata, version.file_id)
-
-    # ë‹¤ìš´ë¡œë“œ ì‹œ ì›ë˜ íŒŒì¼ëª…ìœ¼ë¡œ ì œê³µ
-    return StreamFileResponse(
-        path=version.saved_path,
-        filename=f"v{version.version}_{file_meta.filename}",
-        media_type="application/octet-stream"
-    )
-
-
-@router.get("/files/{file_id}/versions", response_model=List[FileVersionResponse])
-@vectorize(search_description="Get file version history", capture_return_value=True, replay=True)  # ğŸ‘ˆ ì¶”ê°€
-def get_file_history(
-        file_id: int,
-        db: Session = Depends(get_db)
-):
-    # 1. íŒŒì¼ ë©”íƒ€ë°ì´í„° ì¡´ì¬ í™•ì¸
-    file_meta = db.get(FileMetadata, file_id)
-    if not file_meta:
-        raise HTTPException(status_code=404, detail="íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
-
-    # 2. í•´ë‹¹ íŒŒì¼ì˜ ëª¨ë“  ë²„ì „ì„ ìµœì‹ ìˆœ(ë‚´ë¦¼ì°¨ìˆœ)ìœ¼ë¡œ ì¡°íšŒ
-    versions = db.exec(
-        select(FileVersion)
-        .where(FileVersion.file_id == file_id)
-        .order_by(desc(FileVersion.version))
-    ).all()
-
-    return versions
-
-
 @router.delete("/files/{file_id}")
-@vectorize(search_description="Delete file", capture_return_value=True, replay=True)  # ğŸ‘ˆ ì¶”ê°€
+@vectorize(search_description="Delete file", capture_return_value=True)
 async def delete_file(
         file_id: int,
         user_id: int = Depends(get_current_user_id),
         db: Session = Depends(get_db)
 ):
-    # 1. íŒŒì¼ ë©”íƒ€ë°ì´í„° í™•ì¸
     file_meta = db.get(FileMetadata, file_id)
     if not file_meta:
-        raise HTTPException(status_code=404, detail="íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
-    project_id = file_meta.project_id
+        raise HTTPException(status_code=404, detail="File not found")
 
-    # 2. ë¡œê·¸ë¥¼ ìœ„í•œ ì •ë³´ ë¯¸ë¦¬ ì €ì¥ (ì‚­ì œ í›„ì—” ì¡°íšŒ ë¶ˆê°€)
-    filename = file_meta.filename
     project = db.get(Project, file_meta.project_id)
-    workspace_id = project.workspace_id if project else None
+    filename = file_meta.filename
+    project_id = file_meta.project_id
 
-    # 3. ë¬¼ë¦¬ì  íŒŒì¼ ì‚­ì œ (ëª¨ë“  ë²„ì „ ë°˜ë³µ)
+    # ì‹¤ì œ íŒŒì¼ ì‚­ì œ (ì„ íƒ ì‚¬í•­: ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ ì •ë¦¬)
     versions = db.exec(select(FileVersion).where(FileVersion.file_id == file_id)).all()
-    for version in versions:
-        # ì‹¤ì œ íŒŒì¼ì´ ë””ìŠ¤í¬ì— ìˆìœ¼ë©´ ì‚­ì œ
-        if os.path.exists(version.saved_path):
+    for v in versions:
+        if os.path.exists(v.saved_path):
             try:
-                os.remove(version.saved_path)
-            except Exception as e:
-                print(f"íŒŒì¼ ì‚­ì œ ì‹¤íŒ¨ (ID: {version.id}): {e}")
+                os.remove(v.saved_path)
+            except:
+                pass
 
-        # DBì—ì„œ ë²„ì „ ì •ë³´ ì‚­ì œ
-        db.delete(version)
-
-    # 4. ì¹´ë“œì™€ì˜ ì—°ê²° ê´€ê³„(ë§í¬) ì‚­ì œ
-    links = db.exec(select(CardFileLink).where(CardFileLink.file_id == file_id)).all()
-    for link in links:
-        db.delete(link)
-
-    # 5. ë©”íƒ€ë°ì´í„°(ê»ë°ê¸°) ì‚­ì œ
     db.delete(file_meta)
     db.commit()
 
-    # 6. ë¡œê·¸ ê¸°ë¡
-    try:
+    if project:
         user = db.get(User, user_id)
         log_activity(
-            db=db,
-            user_id=user_id,
-            workspace_id=workspace_id,
-            action_type="DELETE",
-            content=f"ğŸ—‘ï¸ '{user.name}'ë‹˜ì´ íŒŒì¼ '{filename}'ì„(ë¥¼) ì˜êµ¬ ì‚­ì œí–ˆìŠµë‹ˆë‹¤."
+            db=db, user_id=user_id, workspace_id=project.workspace_id, action_type="DELETE",
+            content=f"ğŸ—‘ï¸ '{user.name}'ë‹˜ì´ íŒŒì¼ '{filename}'ì„(ë¥¼) ì‚­ì œí–ˆìŠµë‹ˆë‹¤."
         )
-    except Exception as e:
-        print(f"ë¡œê·¸ ì €ì¥ ì‹¤íŒ¨: {e}")
 
+    # ğŸ”¥ [SSE] íŒŒì¼ ì‚­ì œ ì•Œë¦¼
     await board_event_manager.broadcast(project_id, {
         "type": "FILE_DELETED",
-        "data": {"id": file_id}
+        "user_id": user_id,
+        "data": {"id": file_id}  # idëŠ” ë‹¨ìˆœ intë¼ encoder ì—†ì–´ë„ ë˜ì§€ë§Œ ì•ˆì „í•˜ê²Œ
     })
 
-    return {"message": "íŒŒì¼ê³¼ ëª¨ë“  ë²„ì „ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤."}
+    return {"message": "íŒŒì¼ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤."}
\ No newline at end of file

commit 617c56ac01f5d3ad838744ac41cdb928dce29573
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Sun Feb 1 14:20:56 2026 +0900

    Fix voice chat multiple participation error
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/routers/voice.py b/app/routers/voice.py
index f5f2f62..98b1056 100644
--- a/app/routers/voice.py
+++ b/app/routers/voice.py
@@ -1,102 +1,127 @@
+# app/routers/voice.py
+
 from fastapi import APIRouter, WebSocket, WebSocketDisconnect
-from app.utils.connection_manager import voice_manager
-import logging
+from typing import Dict, List, Optional
+import json
 
 router = APIRouter(tags=["Voice Chat"])
-logger = logging.getLogger(__name__)
 
+class ConnectionManager:
+    def __init__(self):
+        # project_id -> { user_id: WebSocket }
+        self.active_connections: Dict[str, Dict[int, WebSocket]] = {}
+
+    async def connect(self, websocket: WebSocket, project_id: str, user_id: int):
+        await websocket.accept()
+        if project_id not in self.active_connections:
+            self.active_connections[project_id] = {}
+
+        # ì´ë¯¸ ì ‘ì† ì¤‘ì´ë¼ë©´ ê¸°ì¡´ ì—°ê²° ëŠê¸° (ì¤‘ë³µ ì ‘ì† ë°©ì§€)
+        if user_id in self.active_connections[project_id]:
+            try:
+                await self.active_connections[project_id][user_id].close()
+            except:
+                pass
+
+        self.active_connections[project_id][user_id] = websocket
+
+    def disconnect(self, project_id: str, user_id: int):
+        if project_id in self.active_connections:
+            if user_id in self.active_connections[project_id]:
+                del self.active_connections[project_id][user_id]
+            if not self.active_connections[project_id]:
+                del self.active_connections[project_id]
+
+    async def broadcast(self, message: dict, project_id: str, exclude_user: int = None):
+        """ë°©ì— ìˆëŠ” ëª¨ë“  ì‚¬ëŒì—ê²Œ ë©”ì‹œì§€ ì „ì†¡ (ë‚˜ ì œì™¸)"""
+        if project_id in self.active_connections:
+            # ë”•ì…”ë„ˆë¦¬ ë³€ê²½ ì—ëŸ¬ ë°©ì§€ë¥¼ ìœ„í•´ ë¦¬ìŠ¤íŠ¸ë¡œ ë³µì‚¬ í›„ ìˆœíšŒ
+            for uid, connection in list(self.active_connections[project_id].items()):
+                if uid != exclude_user:
+                    try:
+                        await connection.send_text(json.dumps(message))
+                    except Exception:
+                        # ì—°ê²°ì´ ëŠê¸´ ì†Œì¼“ ì •ë¦¬
+                        self.disconnect(project_id, uid)
+
+    async def send_personal_message(self, message: dict, project_id: str, to_user: int):
+        """íŠ¹ì • ì‚¬ìš©ìì—ê²Œë§Œ ê·“ì†ë§ ì „ì†¡ (1:1 ì‹œê·¸ë„ë§)"""
+        if project_id in self.active_connections:
+            if to_user in self.active_connections[project_id]:
+                try:
+                    target_ws = self.active_connections[project_id][to_user]
+                    await target_ws.send_text(json.dumps(message))
+                except Exception:
+                    self.disconnect(project_id, to_user)
+
+manager = ConnectionManager()
 
 @router.websocket("/ws/projects/{project_id}/voice")
-async def voice_chat_endpoint(websocket: WebSocket, project_id: int):
-    """
-    ìŒì„± ì±„íŒ… WebSocket ì—”ë“œí¬ì¸íŠ¸
-    WebRTC Signaling ì„œë²„ ì—­í•  ìˆ˜í–‰
-    
-    Signaling Flow:
-    1. Client A connects -> receives "room_info" with existing peer count
-    2. Client A sends "join" with senderId
-    3. Server broadcasts "join" to all other clients
-    4. Existing clients receive "join" and send "offer" to new client
-    5. New client receives "offer" and responds with "answer"
-    6. Both exchange "ice" candidates
-    7. WebRTC connection established
-    """
-    # ì—°ê²° ìˆ˜ë½
-    await voice_manager.connect(websocket, project_id)
-    logger.info(f"[Voice] New WebSocket connection to project {project_id}")
-    
-    # í•´ë‹¹ ì†Œì¼“ì˜ userId ì €ì¥ìš© (disconnect ì‹œ ì‚¬ìš©)
-    user_id = None
-    
+async def voice_chat_endpoint(websocket: WebSocket, project_id: str):
+    # 1. ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ë‚˜ í—¤ë” ë“±ì—ì„œ user_idë¥¼ ê°€ì ¸ì˜¤ëŠ” ë¡œì§ì´ í•„ìš”í•˜ì§€ë§Œ,
+    #    í˜„ì¬ êµ¬ì¡°ìƒ í´ë¼ì´ì–¸íŠ¸ê°€ ì²« ë©”ì‹œì§€ë¡œ joinì„ ë³´ë‚¸ë‹¤ê³  ê°€ì •í•˜ê³  ì„ì‹œ ì²˜ë¦¬
+    #    (ì‹¤ì œë¡œëŠ” í† í°ì—ì„œ user_idë¥¼ êº¼ë‚´ëŠ” ê²ƒì´ ì•ˆì „í•¨)
+
+    current_user_id = None
+
     try:
+        # ì¼ë‹¨ ì—°ê²° ìˆ˜ë½ (ë‚˜ì¤‘ì— user_id ë°›ìœ¼ë©´ ë“±ë¡)
+        await websocket.accept()
+
         while True:
-            # í´ë¼ì´ì–¸íŠ¸ë¡œë¶€í„° ë©”ì‹œì§€ ìˆ˜ì‹ 
-            data = await websocket.receive_json()
-            msg_type = data.get("type")
-            sender_id = data.get("senderId")
-            
-            logger.info(f"[Voice] Received: type={msg_type}, senderId={sender_id}, project={project_id}")
-            
+            data = await websocket.receive_text()
+            message = json.loads(data)
+
+            msg_type = message.get("type")
+
+            # [1] ì…ì¥ ì²˜ë¦¬ (Join)
             if msg_type == "join":
-                # userId ì €ì¥ (disconnect ì‹œ ì‚¬ìš©)
-                user_id = sender_id
-                voice_manager.register_user(websocket, project_id, sender_id)
-                
-                # í˜„ì¬ ë°©ì˜ ë‹¤ë¥¸ ì°¸ì—¬ì ìˆ˜ í™•ì¸
-                peer_count = voice_manager.get_peer_count(project_id, websocket)
-                logger.info(f"[Voice] User {sender_id} joined. Existing peers: {peer_count}")
-                
-                # 1. ê¸°ì¡´ ì°¸ì—¬ìë“¤ì—ê²Œ ìƒˆ ì°¸ì—¬ìì˜ join ì•Œë¦¼
-                #    -> ê¸°ì¡´ ì°¸ì—¬ìë“¤ì´ ì´ ë©”ì‹œì§€ë¥¼ ë°›ìœ¼ë©´ ìƒˆ ì°¸ì—¬ìì—ê²Œ Offerë¥¼ ì „ì†¡
-                await voice_manager.broadcast(data, project_id, websocket)
-                logger.info(f"[Voice] Broadcasted join to {peer_count} peers")
-                
-            elif msg_type == "offer":
-                target_id = data.get("targetId")
-                logger.info(f"[Voice] Forwarding offer: {sender_id} -> {target_id}")
-                await voice_manager.broadcast(data, project_id, websocket)
-                
-            elif msg_type == "answer":
-                target_id = data.get("targetId")
-                logger.info(f"[Voice] Forwarding answer: {sender_id} -> {target_id}")
-                await voice_manager.broadcast(data, project_id, websocket)
-                
-            elif msg_type == "ice":
-                target_id = data.get("targetId")
-                logger.info(f"[Voice] Forwarding ICE: {sender_id} -> {target_id}")
-                await voice_manager.broadcast(data, project_id, websocket)
-                
+                current_user_id = message.get("senderId") or message.get("userId")
+                if current_user_id is None:
+                    continue
+
+                # ë§¤ë‹ˆì €ì— ì •ì‹ ë“±ë¡
+                # (connect ë©”ì„œë“œë¥¼ ì§ì ‘ í˜¸ì¶œí•˜ì§€ ì•Šê³  ì—¬ê¸°ì„œ ìˆ˜ë™ ì²˜ë¦¬)
+                if project_id not in manager.active_connections:
+                    manager.active_connections[project_id] = {}
+                manager.active_connections[project_id][current_user_id] = websocket
+
+                # ê¸°ì¡´ ë©¤ë²„ë“¤ì—ê²Œ "ë‚˜ ì™”ì–´!" ì•Œë¦¼ (Broadcast)
+                await manager.broadcast(
+                    {"type": "user_joined", "userId": current_user_id},
+                    project_id,
+                    exclude_user=current_user_id
+                )
+
+                # ë‚˜ì—ê²Œ "í˜„ì¬ ë°©ì— ìˆëŠ” ì‚¬ëŒë“¤" ëª©ë¡ ë³´ë‚´ì£¼ê¸° (Mesh ì—°ê²° ì‹œì‘ìš©)
+                existing_users = [
+                    uid for uid in manager.active_connections[project_id].keys()
+                    if uid != current_user_id
+                ]
+                await websocket.send_text(json.dumps({
+                    "type": "existing_users",
+                    "users": existing_users
+                }))
+
+            # [2] ì‹œê·¸ë„ë§ ë©”ì‹œì§€ (Offer, Answer, ICE) -> ê·“ì†ë§ ì²˜ë¦¬!
+            elif msg_type in ["offer", "answer", "ice", "candidate"]:
+                to_user = message.get("to") # í´ë¼ì´ì–¸íŠ¸ê°€ ë°˜ë“œì‹œ 'to'ë¥¼ ë³´ë‚´ì¤˜ì•¼ í•¨
+                if to_user is not None:
+                    # íŠ¹ì •ì¸ì—ê²Œë§Œ ì „ì†¡
+                    await manager.send_personal_message(message, project_id, to_user)
+                else:
+                    # toê°€ ì—†ìœ¼ë©´ ì˜ˆì „ì²˜ëŸ¼ ë°©ì†¡ (í•˜ìœ„ í˜¸í™˜)
+                    await manager.broadcast(message, project_id, exclude_user=current_user_id)
+
+            # [3] ê¸°íƒ€ ë©”ì‹œì§€
             else:
-                # ê¸°íƒ€ ë©”ì‹œì§€
-                logger.info(f"[Voice] Unknown message type: {msg_type}")
-                await voice_manager.broadcast(data, project_id, websocket)
-                
+                await manager.broadcast(message, project_id, exclude_user=current_user_id)
+
     except WebSocketDisconnect:
-        logger.info(f"[Voice] WebSocket disconnected: user={user_id}, project={project_id}")
-        
-        # ì—°ê²° í•´ì œ ì²˜ë¦¬
-        voice_manager.disconnect(websocket, project_id)
-        
-        # ë‹¤ë¥¸ ì°¸ì—¬ìë“¤ì—ê²Œ í‡´ì¥ ì•Œë¦¼ (senderId í¬í•¨!)
-        if user_id is not None:
-            await voice_manager.broadcast_all(
-                {
-                    "type": "user_left",
-                    "senderId": user_id,
-                },
-                project_id
-            )
-            logger.info(f"[Voice] Broadcasted user_left for user {user_id}")
-            
-    except Exception as e:
-        logger.error(f"[Voice] Error: {e}", exc_info=True)
-        voice_manager.disconnect(websocket, project_id)
-        
-        if user_id is not None:
-            await voice_manager.broadcast_all(
-                {
-                    "type": "user_left",
-                    "senderId": user_id,
-                },
+        if current_user_id is not None:
+            manager.disconnect(project_id, current_user_id)
+            # í‡´ì¥ ì•Œë¦¼
+            await manager.broadcast(
+                {"type": "user_left", "userId": current_user_id},
                 project_id
-            )
+            )
\ No newline at end of file

commit b9b97134a69c19d8e7ae4a11b7a5f44bfadfcd51
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Fri Jan 30 19:42:33 2026 +0900

    fix cookie setting
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/routers/auth.py b/app/routers/auth.py
index d303ea4..4542263 100644
--- a/app/routers/auth.py
+++ b/app/routers/auth.py
@@ -171,8 +171,8 @@ def login(response: Response, login_data: UserLogin, db: Session = Depends(get_d
         key="session_id",
         value=session.session_id,
         httponly=True,
-        secure=False,
-        samesite="lax",
+        secure=True,          # False â†’ True
+        samesite="none",      # "lax" â†’ "none"
         max_age=60 * 60 * 24
     )
 

commit 9b21ded88182405dc604a5cff525864fc74d04cd
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Fri Jan 30 15:51:42 2026 +0900

    Fix json serialization error in datetime
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/routers/board.py b/app/routers/board.py
index d27917b..f261805 100644
--- a/app/routers/board.py
+++ b/app/routers/board.py
@@ -1,7 +1,14 @@
 # app/routers/board.py
-from fastapi import APIRouter, Depends, HTTPException
+from fastapi import APIRouter, Depends, HTTPException, Request
 from sqlmodel import Session, select
-from typing import List
+from typing import List, Optional
+from datetime import datetime
+import json
+import asyncio
+
+from fastapi.encoders import jsonable_encoder  # ğŸ‘ˆ [í•µì‹¬] ì´ê±¸ë¡œ datetime ì§ë ¬í™” ë¬¸ì œ í•´ê²°!
+from fastapi.responses import StreamingResponse
+
 from app.database import get_db
 from app.routers.workspace import get_current_user_id
 from app.models.board import BoardColumn, Card, CardAssignee
@@ -10,19 +17,61 @@ from app.schemas import (
     BoardColumnCreate, BoardColumnResponse, CardCreate, CardResponse, CardUpdate,
     CardCommentCreate, CardCommentResponse, BoardColumnUpdate, FileResponse,
     CardConnectionCreate, CardConnectionResponse, TransformSchema, CardConnectionUpdate,
-    BatchCardUpdateRequest, CardResponse
+    BatchCardUpdateRequest
 )
-from datetime import datetime
-from app.utils.logger import log_activity
 from app.models.user import User
 from app.models.file import FileMetadata
 from app.models.board import CardFileLink, CardComment, CardDependency
+from app.utils.logger import log_activity
 from vectorwave import *
 from fastapi import WebSocket, WebSocketDisconnect
 from app.utils.connection_manager import board_event_manager
 
 router = APIRouter(tags=["Board & Cards"])
 
+# =================================================================
+# ğŸ“¡ [ì‹ ê·œ] ë³´ë“œ ì‹¤ì‹œê°„ êµ¬ë… (SSE)
+# =================================================================
+@router.get("/projects/{project_id}/board/events")
+async def stream_board_events(
+        project_id: int,
+        request: Request,
+        user_id: int = Depends(get_current_user_id),
+        db: Session = Depends(get_db)
+):
+    """
+    ë³´ë“œ ë³€ê²½ ì‚¬í•­ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ìˆ˜ì‹ í•©ë‹ˆë‹¤. (SSE)
+    """
+    # 1. í”„ë¡œì íŠ¸ í™•ì¸
+    project = db.get(Project, project_id)
+    if not project:
+        raise HTTPException(status_code=404, detail="Project not found")
+
+    # 2. ì´ë²¤íŠ¸ í ìƒì„± ë° ë“±ë¡
+    queue = await board_event_manager.connect(project_id)
+
+    async def event_generator():
+        try:
+            while True:
+                # í´ë¼ì´ì–¸íŠ¸ ì—°ê²° ëŠê¹€ ì²´í¬
+                if await request.is_disconnected():
+                    break
+
+                try:
+                    # íì—ì„œ ë©”ì‹œì§€ êº¼ë‚´ê¸° (15ì´ˆ ëŒ€ê¸°)
+                    data = await asyncio.wait_for(queue.get(), timeout=15.0)
+
+                    # ë”•ì…”ë„ˆë¦¬ë¥¼ JSON ë¬¸ìì—´ë¡œ ë³€í™˜ (jsonable_encoder ë•ë¶„ì— datetime ë¬¸ì œ ì—†ìŒ)
+                    yield f"data: {json.dumps(data, ensure_ascii=False)}\n\n"
+                except asyncio.TimeoutError:
+                    # ì—°ê²° ìœ ì§€ìš© í•‘ (Ping)
+                    yield ": keep-alive\n\n"
+        finally:
+            board_event_manager.disconnect(project_id, queue)
+
+    return StreamingResponse(event_generator(), media_type="text/event-stream")
+
+
 # =================================================================
 # 1. ì»¬ëŸ¼(Group) ê´€ë ¨ API
 # =================================================================
@@ -57,9 +106,10 @@ async def create_column(
     db.commit()
     db.refresh(new_col)
 
+    # ğŸ”¥ [SSE] jsonable_encoder ì‚¬ìš©
     await board_event_manager.broadcast(project_id, {
         "type": "COLUMN_CREATED",
-        "data": new_col.model_dump()
+        "data": jsonable_encoder(new_col)
     })
 
     return BoardColumnResponse(
@@ -107,9 +157,10 @@ async def update_column(
     db.commit()
     db.refresh(col)
 
+    # ğŸ”¥ [SSE] jsonable_encoder ì‚¬ìš©
     await board_event_manager.broadcast(col.project_id, {
         "type": "COLUMN_UPDATED",
-        "data": col.model_dump()
+        "data": jsonable_encoder(col)
     })
 
     return BoardColumnResponse(
@@ -246,13 +297,21 @@ async def create_card_connection(
     db.commit()
     db.refresh(new_dependency)
 
+    response_data = CardConnectionResponse(
+        id=new_dependency.id,
+        from_card_id=new_dependency.from_card_id,
+        to_card_id=new_dependency.to_card_id,
+        board_id=from_card.project_id,
+        style=new_dependency.style,
+        shape=new_dependency.shape,
+        source_handle=new_dependency.source_handle,
+        target_handle=new_dependency.target_handle
+    )
+
+    # ğŸ”¥ [SSE] jsonable_encoder ì‚¬ìš©
     await board_event_manager.broadcast(from_card.project_id, {
         "type": "CONNECTION_CREATED",
-        "data": {
-            "id": new_dependency.id,
-            "from": new_dependency.from_card_id,
-            "to": new_dependency.to_card_id
-        }
+        "data": jsonable_encoder(response_data)
     })
 
     # ë¡œê·¸ ê¸°ë¡
@@ -264,16 +323,7 @@ async def create_card_connection(
         content=f"ğŸ”— '{user.name}'ë‹˜ì´ ì¹´ë“œ '{from_card.title}'ì™€(ê³¼) '{to_card.title}'ì„(ë¥¼) ì—°ê²°í–ˆìŠµë‹ˆë‹¤."
     )
 
-    return CardConnectionResponse(
-        id=new_dependency.id,
-        from_card_id=new_dependency.from_card_id,
-        to_card_id=new_dependency.to_card_id,
-        board_id=from_card.project_id,
-        style=new_dependency.style,
-        shape=new_dependency.shape,
-        source_handle=new_dependency.source_handle,
-        target_handle=new_dependency.target_handle
-    )
+    return response_data
 
 @router.patch("/cards/connections/{connection_id}", response_model=CardConnectionResponse)
 @vectorize(search_description="Update card connection", capture_return_value=True)
@@ -326,22 +376,7 @@ async def update_card_connection(
         content=f"ğŸ”— '{user.name}'ë‹˜ì´ ì¹´ë“œ ì—°ê²°ì„ ìˆ˜ì •í–ˆìŠµë‹ˆë‹¤."
     )
 
-    await board_event_manager.broadcast(card_from.project_id, {
-        "type": "CONNECTION_UPDATED",
-        "data": {
-            "id": conn.id,
-            "from": conn.from_card_id,
-            "to": conn.to_card_id,
-            "style": conn.style,
-            "shape": conn.shape,
-            "sourceHandle": conn.source_handle,
-            "targetHandle": conn.target_handle
-        }
-    })
-
-
-    # 7. ì‘ë‹µ ë°˜í™˜
-    return CardConnectionResponse(
+    response_data = CardConnectionResponse(
         id=conn.id,
         from_card_id=conn.from_card_id,
         to_card_id=conn.to_card_id,
@@ -352,6 +387,15 @@ async def update_card_connection(
         target_handle=conn.target_handle
     )
 
+    # ğŸ”¥ [SSE] jsonable_encoder ì‚¬ìš©
+    await board_event_manager.broadcast(card_from.project_id, {
+        "type": "CONNECTION_UPDATED",
+        "data": jsonable_encoder(response_data)
+    })
+
+    # 7. ì‘ë‹µ ë°˜í™˜
+    return response_data
+
 @router.delete("/cards/connections/{connection_id}")
 @vectorize(search_description="Delete card connection", capture_return_value=True, replay=True)
 async def delete_card_connection(
@@ -403,6 +447,7 @@ async def update_cards_batch(
         user_id: int = Depends(get_current_user_id)
 ):
     updated_cards = []
+    project_id = None
 
     # 1. ìš”ì²­ë°›ì€ ëª¨ë“  ì¹´ë“œë¥¼ ìˆœíšŒ
     for item in request.cards:
@@ -410,16 +455,17 @@ async def update_cards_batch(
         if not card:
             continue  # ì—†ìœ¼ë©´ ìŠ¤í‚µ (í˜¹ì€ ì—ëŸ¬ ì²˜ë¦¬)
 
+        # í”„ë¡œì íŠ¸ ID í™•ë³´
+        if project_id is None:
+            project_id = card.project_id
+
         # 2. ë°ì´í„° ì—…ë°ì´íŠ¸ (ê°’ì´ ìˆëŠ” ê²ƒë§Œ)
-        # CardUpdate ìŠ¤í‚¤ë§ˆì— ì •ì˜ëœ í•„ë“œë“¤ì„ ë°˜ë³µí•˜ë©° ì ìš©
         update_data = item.model_dump(exclude_unset=True)
 
         # idëŠ” ì—…ë°ì´íŠ¸ ëŒ€ìƒì´ ì•„ë‹ˆë¯€ë¡œ ì œì™¸
         if "id" in update_data:
             del update_data["id"]
 
-        # assignee_ids ë“± ê´€ê³„í˜• ë°ì´í„°ëŠ” ë³„ë„ ì²˜ë¦¬ê°€ í•„ìš”í•  ìˆ˜ ìˆìŒ
-        # ì—¬ê¸°ì„œëŠ” ê°„ë‹¨í•œ í•„ë“œ(x, y, order, column_id ë“±) ìœ„ì£¼ë¡œ ì²˜ë¦¬
         if "assignee_ids" in update_data:
             # ë‹´ë‹¹ì ë³€ê²½ ë¡œì§ì´ í•„ìš”í•˜ë‹¤ë©´ ì—¬ê¸°ì— ì¶”ê°€ (ê¸°ì¡´ ë¡œì§ ì°¸ì¡°)
             pass
@@ -438,10 +484,12 @@ async def update_cards_batch(
     for card in updated_cards:
         db.refresh(card)
 
-    await board_event_manager.broadcast(updated_cards[0].project_id, {
-        "type": "CARD_BATCH_UPDATED",
-        "data": [c.model_dump() for c in updated_cards]
-    })
+    # ğŸ”¥ [SSE] jsonable_encoder ì‚¬ìš©
+    if project_id and updated_cards:
+        await board_event_manager.broadcast(project_id, {
+            "type": "CARD_BATCH_UPDATED",
+            "data": jsonable_encoder(updated_cards)
+        })
 
     return updated_cards
 
@@ -486,9 +534,11 @@ async def create_card(
     db.commit()
     db.refresh(new_card)
 
+    # ğŸ”¥ [SSE] jsonable_encoder ì‚¬ìš© (datetime ì—ëŸ¬ í•´ê²°!)
     await board_event_manager.broadcast(project_id, {
         "type": "CARD_CREATED",
-        "data": new_card.model_dump()
+        "user_id": user_id,
+        "data": jsonable_encoder(new_card)
     })
 
     user = db.get(User, user_id)
@@ -525,7 +575,12 @@ def get_project_cards(project_id: int, db: Session = Depends(get_db)):
 
 @router.patch("/cards/{card_id}", response_model=CardResponse)
 @vectorize(search_description="Update card", capture_return_value=True, replay=True)
-async def update_card(card_id: int, card_data: CardUpdate, db: Session = Depends(get_db)):
+async def update_card(
+        card_id: int,
+        card_data: CardUpdate,
+        db: Session = Depends(get_db),
+        user_id: int = Depends(get_current_user_id)
+):
     card = db.get(Card, card_id)
     if not card: raise HTTPException(status_code=404, detail="ì¹´ë“œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
 
@@ -543,16 +598,22 @@ async def update_card(card_id: int, card_data: CardUpdate, db: Session = Depends
     db.commit()
     db.refresh(card)
 
+    # ğŸ”¥ [SSE] jsonable_encoder ì‚¬ìš©
     await board_event_manager.broadcast(card.project_id, {
         "type": "CARD_UPDATED",
-        "data": card.model_dump()
+        "user_id": user_id,
+        "data": jsonable_encoder(card)
     })
 
     return card
 
 @router.delete("/cards/{card_id}")
 @vectorize(search_description="Delete card", capture_return_value=True)
-async def delete_card(card_id: int, user_id: int = Depends(get_current_user_id), db: Session = Depends(get_db)):
+async def delete_card(
+        card_id: int,
+        user_id: int = Depends(get_current_user_id),
+        db: Session = Depends(get_db)
+):
     card = db.get(Card, card_id)
     if not card: raise HTTPException(status_code=404, detail="ì¹´ë“œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
 
@@ -597,9 +658,10 @@ async def attach_file_to_card(card_id: int, file_id: int, user_id: int = Depends
         content=f"ğŸ“ '{user.name}'ë‹˜ì´ ì¹´ë“œ '{card.title}'ì— íŒŒì¼ '{file.filename}'ì„(ë¥¼) ì²¨ë¶€í–ˆìŠµë‹ˆë‹¤."
     )
 
+    # ğŸ”¥ [SSE] jsonable_encoder ì‚¬ìš©
     await board_event_manager.broadcast(card.project_id, {
         "type": "CARD_UPDATED",
-        "data": card.model_dump()
+        "data": jsonable_encoder(card)
     })
 
     return card
@@ -624,9 +686,10 @@ async def detach_file_from_card(card_id: int, file_id: int, user_id: int = Depen
         content=f"ğŸ“ '{user.name}'ë‹˜ì´ ì¹´ë“œ '{card.title}'ì—ì„œ íŒŒì¼ '{file.filename}'ì„(ë¥¼) ë¶„ë¦¬í–ˆìŠµë‹ˆë‹¤."
     )
 
+    # ğŸ”¥ [SSE] jsonable_encoder ì‚¬ìš©
     await board_event_manager.broadcast(project_id, {
         "type": "CARD_UPDATED",
-        "data": card.model_dump()
+        "data": jsonable_encoder(card)
     })
 
     return {"message": "íŒŒì¼ ì—°ê²°ì´ í•´ì œë˜ì—ˆìŠµë‹ˆë‹¤."}
@@ -650,9 +713,10 @@ async def create_comment(card_id: int, comment_data: CardCommentCreate, user_id:
     db.commit()
     db.refresh(new_comment)
 
+    # ğŸ”¥ [SSE] jsonable_encoder ì‚¬ìš©
     await board_event_manager.broadcast(project_id, {
         "type": "CARD_UPDATED",
-        "data": card.model_dump()
+        "data": jsonable_encoder(card)
     })
 
     return new_comment
@@ -660,4 +724,4 @@ async def create_comment(card_id: int, comment_data: CardCommentCreate, user_id:
 @router.get("/cards/{card_id}/comments", response_model=List[CardCommentResponse])
 def get_card_comments(card_id: int, db: Session = Depends(get_db)):
     comments = db.exec(select(CardComment).where(CardComment.card_id == card_id).order_by(CardComment.created_at.asc())).all()
-    return comments
+    return comments
\ No newline at end of file

commit 82a01ffbde38aeac000c94d69596d7d6c1c34743
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Thu Jan 29 14:13:31 2026 +0900

    Support real time sync system for board and fix workspace invitation related error
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/models/invitation.py b/app/models/invitation.py
index d8d1d43..6b6be7c 100644
--- a/app/models/invitation.py
+++ b/app/models/invitation.py
@@ -8,7 +8,7 @@ class Invitation(SQLModel, table=True):
 
     id: Optional[int] = Field(default=None, primary_key=True)
     token: str = Field(index=True, unique=True)  # ì´ˆëŒ€ ì½”ë“œ (URLì— ë“¤ì–´ê°ˆ ê°’)
-    workspace_id: int = Field(foreign_key="workspaces.id")
+    workspace_id: int = Field(foreign_key="workspaces.id", ondelete="CASCADE")
     inviter_id: int = Field(foreign_key="users.id") # ì´ˆëŒ€í•œ ì‚¬ëŒ
 
     role: str = Field(default="member") # ì´ˆëŒ€ë°›ì€ ì‚¬ëŒì´ ê°€ì§ˆ ê¶Œí•œ
diff --git a/app/models/workspace.py b/app/models/workspace.py
index 8c1996c..a346db3 100644
--- a/app/models/workspace.py
+++ b/app/models/workspace.py
@@ -33,6 +33,9 @@ class Workspace(SQLModel, table=True):
                                                     sa_relationship_kwargs={"cascade": "all, delete"})
     activity_logs: List["ActivityLog"] = Relationship(back_populates="workspace",
                                                       sa_relationship_kwargs={"cascade": "all, delete"})
+    invitations: List["Invitation"] = Relationship(
+        sa_relationship_kwargs={"cascade": "all, delete"}
+    )
 
 
 # 3. í”„ë¡œì íŠ¸ (ì›Œí¬ìŠ¤í˜ì´ìŠ¤ í•˜ìœ„ ì‘ì—… ë‹¨ìœ„)
diff --git a/app/routers/board.py b/app/routers/board.py
index d92763b..d27917b 100644
--- a/app/routers/board.py
+++ b/app/routers/board.py
@@ -18,6 +18,8 @@ from app.models.user import User
 from app.models.file import FileMetadata
 from app.models.board import CardFileLink, CardComment, CardDependency
 from vectorwave import *
+from fastapi import WebSocket, WebSocketDisconnect
+from app.utils.connection_manager import board_event_manager
 
 router = APIRouter(tags=["Board & Cards"])
 
@@ -25,9 +27,19 @@ router = APIRouter(tags=["Board & Cards"])
 # 1. ì»¬ëŸ¼(Group) ê´€ë ¨ API
 # =================================================================
 
+@router.websocket("/ws/projects/{project_id}/board")
+async def board_events_endpoint(websocket: WebSocket, project_id: int):
+    await board_event_manager.connect(websocket, project_id)
+    try:
+        while True:
+            await websocket.receive_text()
+    except WebSocketDisconnect:
+        board_event_manager.disconnect(websocket, project_id)
+
+
 @router.post("/projects/{project_id}/columns", response_model=BoardColumnResponse)
 @vectorize(search_description="Create board column (Group)", capture_return_value=True, replay=True)
-def create_column(
+async def create_column(
         project_id: int,
         col_data: BoardColumnCreate,
         user_id: int = Depends(get_current_user_id),
@@ -45,6 +57,11 @@ def create_column(
     db.commit()
     db.refresh(new_col)
 
+    await board_event_manager.broadcast(project_id, {
+        "type": "COLUMN_CREATED",
+        "data": new_col.model_dump()
+    })
+
     return BoardColumnResponse(
         id=new_col.id,
         title=new_col.title,
@@ -67,7 +84,7 @@ def create_column(
 
 @router.patch("/columns/{column_id}", response_model=BoardColumnResponse)
 @vectorize(search_description="Update board column (Group)", capture_return_value=True)
-def update_column(
+async def update_column(
         column_id: int,
         col_data: BoardColumnUpdate,
         db: Session = Depends(get_db)
@@ -90,6 +107,11 @@ def update_column(
     db.commit()
     db.refresh(col)
 
+    await board_event_manager.broadcast(col.project_id, {
+        "type": "COLUMN_UPDATED",
+        "data": col.model_dump()
+    })
+
     return BoardColumnResponse(
         id=col.id,
         title=col.title,
@@ -112,7 +134,7 @@ def update_column(
 
 @router.delete("/columns/{column_id}")
 @vectorize(search_description="Delete board column (Preserve cards)", capture_return_value=True)
-def delete_column(
+async def delete_column(
         column_id: int,
         user_id: int = Depends(get_current_user_id),
         db: Session = Depends(get_db)
@@ -123,6 +145,7 @@ def delete_column(
     project = db.get(Project, column.project_id)
     col_title = column.title
     card_count = len(column.cards)
+    project_id = column.project_id
 
     # ì¹´ë“œ ëŒ€í”¼ (column_id = None)
     for card in column.cards:
@@ -142,6 +165,11 @@ def delete_column(
             content=f"ğŸ—‘ï¸ '{user.name}'ë‹˜ì´ ê·¸ë£¹ '{col_title}'ì„(ë¥¼) ì‚­ì œí–ˆìŠµë‹ˆë‹¤. (ì¹´ë“œ {card_count}ê°œëŠ” ë³´ê´€ë¨)"
         )
 
+    await board_event_manager.broadcast(project_id, {
+        "type": "COLUMN_DELETED",
+        "data": {"id": column_id}
+    })
+
     return {"message": "ê·¸ë£¹ì´ ì‚­ì œë˜ì—ˆìœ¼ë©°, í¬í•¨ëœ ì¹´ë“œë“¤ì€ ë³´ê´€í•¨ìœ¼ë¡œ ì´ë™ë˜ì—ˆìŠµë‹ˆë‹¤."}
 
 
@@ -182,7 +210,7 @@ def get_project_connections(project_id: int, db: Session = Depends(get_db)):
 
 @router.post("/cards/connections", response_model=CardConnectionResponse) # ğŸ‘ˆ ë°˜í™˜ ëª¨ë¸ ë³€ê²½
 @vectorize(search_description="Create dependency between cards", capture_return_value=True)
-def create_card_connection(
+async def create_card_connection(
         connection_data: CardConnectionCreate,
         user_id: int = Depends(get_current_user_id),
         db: Session = Depends(get_db)
@@ -218,6 +246,15 @@ def create_card_connection(
     db.commit()
     db.refresh(new_dependency)
 
+    await board_event_manager.broadcast(from_card.project_id, {
+        "type": "CONNECTION_CREATED",
+        "data": {
+            "id": new_dependency.id,
+            "from": new_dependency.from_card_id,
+            "to": new_dependency.to_card_id
+        }
+    })
+
     # ë¡œê·¸ ê¸°ë¡
     project = db.get(Project, from_card.project_id)
     user = db.get(User, user_id)
@@ -227,7 +264,6 @@ def create_card_connection(
         content=f"ğŸ”— '{user.name}'ë‹˜ì´ ì¹´ë“œ '{from_card.title}'ì™€(ê³¼) '{to_card.title}'ì„(ë¥¼) ì—°ê²°í–ˆìŠµë‹ˆë‹¤."
     )
 
-    # âœ… [ìˆ˜ì •] í”„ë¡ íŠ¸ì—”ë“œê°€ ì›í•˜ëŠ” ê°ì²´ ë°˜í™˜
     return CardConnectionResponse(
         id=new_dependency.id,
         from_card_id=new_dependency.from_card_id,
@@ -241,7 +277,7 @@ def create_card_connection(
 
 @router.patch("/cards/connections/{connection_id}", response_model=CardConnectionResponse)
 @vectorize(search_description="Update card connection", capture_return_value=True)
-def update_card_connection(
+async def update_card_connection(
         connection_id: int,
         update_data: CardConnectionUpdate,
         user_id: int = Depends(get_current_user_id),
@@ -290,6 +326,20 @@ def update_card_connection(
         content=f"ğŸ”— '{user.name}'ë‹˜ì´ ì¹´ë“œ ì—°ê²°ì„ ìˆ˜ì •í–ˆìŠµë‹ˆë‹¤."
     )
 
+    await board_event_manager.broadcast(card_from.project_id, {
+        "type": "CONNECTION_UPDATED",
+        "data": {
+            "id": conn.id,
+            "from": conn.from_card_id,
+            "to": conn.to_card_id,
+            "style": conn.style,
+            "shape": conn.shape,
+            "sourceHandle": conn.source_handle,
+            "targetHandle": conn.target_handle
+        }
+    })
+
+
     # 7. ì‘ë‹µ ë°˜í™˜
     return CardConnectionResponse(
         id=conn.id,
@@ -303,15 +353,33 @@ def update_card_connection(
     )
 
 @router.delete("/cards/connections/{connection_id}")
-@vectorize(search_description="Delete card connection", capture_return_value=True)
-def delete_card_connection(
-        connection_id: int, db: Session = Depends(get_db), user_id: int = Depends(get_current_user_id)
+@vectorize(search_description="Delete card connection", capture_return_value=True, replay=True)
+async def delete_card_connection(
+        connection_id: int,
+        user_id: int = Depends(get_current_user_id),
+        db: Session = Depends(get_db)
 ):
-    connection = db.get(CardDependency, connection_id)
-    if not connection: raise HTTPException(status_code=404, detail="Connection not found")
-    db.delete(connection)
+    # 1. ì‚­ì œí•  ì—°ê²° ì •ë³´ ì¡°íšŒ
+    conn = db.get(CardDependency, connection_id)
+    if not conn:
+        raise HTTPException(status_code=404, detail="ì—°ê²°ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
+
+    # 2. ë¸Œë¡œë“œìºìŠ¤íŠ¸ë¥¼ ìœ„í•´ í”„ë¡œì íŠ¸ ID í™•ë³´ (ì‹œì‘ì  ì¹´ë“œë¥¼ í†µí•´ ì¡°íšŒ)
+    from_card = db.get(Card, conn.from_card_id)
+    project_id = from_card.project_id if from_card else None
+
+    # 3. ë°ì´í„° ì‚­ì œ
+    db.delete(conn)
     db.commit()
-    return {"message": "ì—°ê²°ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤."}
+
+    # 4. ì‹¤ì‹œê°„ ë¸Œë¡œë“œìºìŠ¤íŠ¸ ì „ì†¡
+    if project_id:
+        await board_event_manager.broadcast(project_id, {
+            "type": "CONNECTION_DELETED",
+            "data": {"id": connection_id}
+        })
+
+    return {"message": "ì—°ê²°ì´ ì„±ê³µì ìœ¼ë¡œ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤."}
 
 
 # ğŸš¨ [ì¤‘ìš”] /cards/comments/... ë„ /cards/{card_id}ë³´ë‹¤ ìœ„ì— ìˆì–´ì•¼ ì•ˆì „í•¨
@@ -329,7 +397,7 @@ def delete_comment(
 
 @router.patch("/cards/batch", response_model=List[CardResponse])
 @vectorize(search_description="Batch update cards", capture_return_value=True)
-def update_cards_batch(
+async def update_cards_batch(
         request: BatchCardUpdateRequest,
         db: Session = Depends(get_db),
         user_id: int = Depends(get_current_user_id)
@@ -370,6 +438,11 @@ def update_cards_batch(
     for card in updated_cards:
         db.refresh(card)
 
+    await board_event_manager.broadcast(updated_cards[0].project_id, {
+        "type": "CARD_BATCH_UPDATED",
+        "data": [c.model_dump() for c in updated_cards]
+    })
+
     return updated_cards
 
 # =================================================================
@@ -378,7 +451,7 @@ def update_cards_batch(
 
 @router.post("/projects/{project_id}/cards", response_model=CardResponse)
 @vectorize(search_description="Create card in project", capture_return_value=True, replay=True)
-def create_card(
+async def create_card(
         project_id: int,
         card_data: CardCreate,
         user_id: int = Depends(get_current_user_id),
@@ -413,6 +486,11 @@ def create_card(
     db.commit()
     db.refresh(new_card)
 
+    await board_event_manager.broadcast(project_id, {
+        "type": "CARD_CREATED",
+        "data": new_card.model_dump()
+    })
+
     user = db.get(User, user_id)
     location = f"'{project.name}' í”„ë¡œì íŠ¸"
     if final_column_id:
@@ -447,7 +525,7 @@ def get_project_cards(project_id: int, db: Session = Depends(get_db)):
 
 @router.patch("/cards/{card_id}", response_model=CardResponse)
 @vectorize(search_description="Update card", capture_return_value=True, replay=True)
-def update_card(card_id: int, card_data: CardUpdate, db: Session = Depends(get_db)):
+async def update_card(card_id: int, card_data: CardUpdate, db: Session = Depends(get_db)):
     card = db.get(Card, card_id)
     if not card: raise HTTPException(status_code=404, detail="ì¹´ë“œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
 
@@ -464,20 +542,31 @@ def update_card(card_id: int, card_data: CardUpdate, db: Session = Depends(get_d
     db.add(card)
     db.commit()
     db.refresh(card)
+
+    await board_event_manager.broadcast(card.project_id, {
+        "type": "CARD_UPDATED",
+        "data": card.model_dump()
+    })
+
     return card
 
 @router.delete("/cards/{card_id}")
 @vectorize(search_description="Delete card", capture_return_value=True)
-def delete_card(card_id: int, user_id: int = Depends(get_current_user_id), db: Session = Depends(get_db)):
+async def delete_card(card_id: int, user_id: int = Depends(get_current_user_id), db: Session = Depends(get_db)):
     card = db.get(Card, card_id)
     if not card: raise HTTPException(status_code=404, detail="ì¹´ë“œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
 
     column = db.get(BoardColumn, card.column_id) if card.column_id else None
     project = db.get(Project, card.project_id) if card.project_id else (db.get(Project, column.project_id) if column else None)
-
+    project_id = card.project_id
     db.delete(card)
     db.commit()
 
+    await board_event_manager.broadcast(project_id, {
+        "type": "CARD_DELETED",
+        "data": {"id": card_id}
+    })
+
     if project:
         user = db.get(User, user_id)
         log_activity(
@@ -488,7 +577,7 @@ def delete_card(card_id: int, user_id: int = Depends(get_current_user_id), db: S
 
 @router.post("/cards/{card_id}/files/{file_id}", response_model=CardResponse)
 @vectorize(search_description="Attach file to card", capture_return_value=True, replay=True)
-def attach_file_to_card(card_id: int, file_id: int, user_id: int = Depends(get_current_user_id), db: Session = Depends(get_db)):
+async def attach_file_to_card(card_id: int, file_id: int, user_id: int = Depends(get_current_user_id), db: Session = Depends(get_db)):
     card = db.get(Card, card_id)
     file = db.get(FileMetadata, file_id)
     if not card or not file: raise HTTPException(status_code=404, detail="ì¹´ë“œ ë˜ëŠ” íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
@@ -507,11 +596,17 @@ def attach_file_to_card(card_id: int, file_id: int, user_id: int = Depends(get_c
         db=db, user_id=user_id, workspace_id=project.workspace_id, action_type="ATTACH",
         content=f"ğŸ“ '{user.name}'ë‹˜ì´ ì¹´ë“œ '{card.title}'ì— íŒŒì¼ '{file.filename}'ì„(ë¥¼) ì²¨ë¶€í–ˆìŠµë‹ˆë‹¤."
     )
+
+    await board_event_manager.broadcast(card.project_id, {
+        "type": "CARD_UPDATED",
+        "data": card.model_dump()
+    })
+
     return card
 
 @router.delete("/cards/{card_id}/files/{file_id}")
 @vectorize(search_description="Detach file from card", capture_return_value=True, replay=True)
-def detach_file_from_card(card_id: int, file_id: int, user_id: int = Depends(get_current_user_id), db: Session = Depends(get_db)):
+async def detach_file_from_card(card_id: int, file_id: int, user_id: int = Depends(get_current_user_id), db: Session = Depends(get_db)):
     link = db.get(CardFileLink, (card_id, file_id))
     if not link: raise HTTPException(status_code=404, detail="í•´ë‹¹ íŒŒì¼ì´ ì¹´ë“œì— ì²¨ë¶€ë˜ì–´ ìˆì§€ ì•ŠìŠµë‹ˆë‹¤.")
 
@@ -521,12 +616,19 @@ def detach_file_from_card(card_id: int, file_id: int, user_id: int = Depends(get
     user = db.get(User, user_id)
     card = db.get(Card, card_id)
     file = db.get(FileMetadata, file_id)
+    project_id = card.project_id
     project = db.get(Project, card.project_id)
 
     log_activity(
         db=db, user_id=user_id, workspace_id=project.workspace_id, action_type="DETACH",
         content=f"ğŸ“ '{user.name}'ë‹˜ì´ ì¹´ë“œ '{card.title}'ì—ì„œ íŒŒì¼ '{file.filename}'ì„(ë¥¼) ë¶„ë¦¬í–ˆìŠµë‹ˆë‹¤."
     )
+
+    await board_event_manager.broadcast(project_id, {
+        "type": "CARD_UPDATED",
+        "data": card.model_dump()
+    })
+
     return {"message": "íŒŒì¼ ì—°ê²°ì´ í•´ì œë˜ì—ˆìŠµë‹ˆë‹¤."}
 
 @router.get("/cards/{card_id}", response_model=CardResponse)
@@ -538,14 +640,21 @@ def get_card(card_id: int, db: Session = Depends(get_db)):
 
 @router.post("/cards/{card_id}/comments", response_model=CardCommentResponse)
 @vectorize(search_description="Add comment to card", capture_return_value=True)
-def create_comment(card_id: int, comment_data: CardCommentCreate, user_id: int = Depends(get_current_user_id), db: Session = Depends(get_db)):
+async def create_comment(card_id: int, comment_data: CardCommentCreate, user_id: int = Depends(get_current_user_id), db: Session = Depends(get_db)):
     card = db.get(Card, card_id)
+    project_id = card.project_id
     if not card: raise HTTPException(status_code=404, detail="Card not found")
 
     new_comment = CardComment(card_id=card_id, user_id=user_id, content=comment_data.content)
     db.add(new_comment)
     db.commit()
     db.refresh(new_comment)
+
+    await board_event_manager.broadcast(project_id, {
+        "type": "CARD_UPDATED",
+        "data": card.model_dump()
+    })
+
     return new_comment
 
 @router.get("/cards/{card_id}/comments", response_model=List[CardCommentResponse])
diff --git a/app/routers/file.py b/app/routers/file.py
index 76e7c19..af82848 100644
--- a/app/routers/file.py
+++ b/app/routers/file.py
@@ -17,6 +17,7 @@ from app.models.workspace import Project
 from app.models.user import User
 from app.models.board import CardFileLink
 from vectorwave import *
+from app.utils.connection_manager import board_event_manager
 
 router = APIRouter(tags=["File Management"])
 
@@ -113,8 +114,7 @@ async def upload_file(
     except Exception as e:
         print(f"ë¡œê·¸ ì €ì¥ ì‹¤íŒ¨: {e}")  # ë¡œê·¸ ì‹¤íŒ¨ê°€ íŒŒì¼ ì—…ë¡œë“œë¥¼ ë§‰ìœ¼ë©´ ì•ˆ ë˜ë¯€ë¡œ ì˜ˆì™¸ ì²˜ë¦¬
 
-    # ì‘ë‹µ ìƒì„±
-    return FileResponse(
+    response = FileResponse(
         id=existing_file.id,
         project_id=existing_file.project_id,
         filename=existing_file.filename,
@@ -129,6 +129,13 @@ async def upload_file(
         )
     )
 
+    await board_event_manager.broadcast(project_id, {
+        "type": "FILE_UPLOADED",
+        "data": response.model_dump()
+    })
+
+    return response
+
 
 @router.post("/projects/{project_id}/files/batch", response_model=List[FileResponse])
 @vectorize(search_description="Batch upload files", capture_return_value=True)
@@ -240,6 +247,11 @@ async def upload_files_batch(
         except Exception:
             pass
 
+    await board_event_manager.broadcast(project_id, {
+        "type": "FILES_UPLOADED",
+        "data": [r.model_dump() for r in results]
+    })
+
     return results
 
 
@@ -335,7 +347,7 @@ def get_file_history(
 
 @router.delete("/files/{file_id}")
 @vectorize(search_description="Delete file", capture_return_value=True, replay=True)  # ğŸ‘ˆ ì¶”ê°€
-def delete_file(
+async def delete_file(
         file_id: int,
         user_id: int = Depends(get_current_user_id),
         db: Session = Depends(get_db)
@@ -344,6 +356,7 @@ def delete_file(
     file_meta = db.get(FileMetadata, file_id)
     if not file_meta:
         raise HTTPException(status_code=404, detail="íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
+    project_id = file_meta.project_id
 
     # 2. ë¡œê·¸ë¥¼ ìœ„í•œ ì •ë³´ ë¯¸ë¦¬ ì €ì¥ (ì‚­ì œ í›„ì—” ì¡°íšŒ ë¶ˆê°€)
     filename = file_meta.filename
@@ -385,4 +398,9 @@ def delete_file(
     except Exception as e:
         print(f"ë¡œê·¸ ì €ì¥ ì‹¤íŒ¨: {e}")
 
+    await board_event_manager.broadcast(project_id, {
+        "type": "FILE_DELETED",
+        "data": {"id": file_id}
+    })
+
     return {"message": "íŒŒì¼ê³¼ ëª¨ë“  ë²„ì „ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤."}
diff --git a/app/utils/connection_manager.py b/app/utils/connection_manager.py
index 50208ed..731715e 100644
--- a/app/utils/connection_manager.py
+++ b/app/utils/connection_manager.py
@@ -157,6 +157,29 @@ class VoiceConnectionManager:
         return False
 
 
+class BoardEventManager:
+    def __init__(self):
+        # { project_id: [WebSocket, ...] }
+        self.active_connections: Dict[int, List[WebSocket]] = {}
+
+    async def connect(self, websocket: WebSocket, project_id: int):
+        await websocket.accept()
+        if project_id not in self.active_connections:
+            self.active_connections[project_id] = []
+        self.active_connections[project_id].append(websocket)
+
+    def disconnect(self, websocket: WebSocket, project_id: int):
+        if project_id in self.active_connections:
+            self.active_connections[project_id].remove(websocket)
+
+    async def broadcast(self, project_id: int, message: dict):
+        """í•´ë‹¹ í”„ë¡œì íŠ¸ì— ì ‘ì†í•œ ëª¨ë“  ìœ ì €ì—ê²Œ ì´ë²¤íŠ¸ ì „ì†¡"""
+        if project_id in self.active_connections:
+            for connection in self.active_connections[project_id]:
+                await connection.send_json(message)
+
+
 # ì‹±ê¸€í†¤ ì¸ìŠ¤í„´ìŠ¤
 manager = ConnectionManager()
 voice_manager = VoiceConnectionManager()
+board_event_manager = BoardEventManager()

commit 5fef91e0b4b2ec8d51fbe4c73c6a70f611ae7cc1
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Tue Jan 27 16:25:34 2026 +0900

    Add invitation view api
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/routers/workspace.py b/app/routers/workspace.py
index 72a8b85..a46f7b7 100644
--- a/app/routers/workspace.py
+++ b/app/routers/workspace.py
@@ -326,12 +326,46 @@ def create_invitation(
     db.commit()
 
     # 3. í”„ë¡ íŠ¸ì—”ë“œ URL ìƒì„± (í™˜ê²½ë³€ìˆ˜ë¡œ ë„ë©”ì¸ ê´€ë¦¬ ì¶”ì²œ)
-    base_url = "http://localhost:8000"  # ì‹¤ì œ ë°°í¬ ì‹œ ë³€ê²½ í•„ìš”
+    import os
+    base_url = os.environ.get("FRONTEND_URL", "http://localhost:3000")
     invite_link = f"{base_url}/invite/{token}"
 
     return InvitationResponse(invite_link=invite_link, expires_at=expires_at)
 
 
+@router.get("/invitations/{token}", response_model=InvitationInfo)
+@vectorize(search_description="Get invitation info", capture_return_value=True)
+def get_invitation_info(
+        token: str,
+        db: Session = Depends(get_db)
+):
+    """
+    ì´ˆëŒ€ ë§í¬ ì •ë³´ ì¡°íšŒ (ìˆ˜ë½ ì „ í™•ì¸ìš©)
+    ë¡œê·¸ì¸ ì—†ì´ë„ ì¡°íšŒ ê°€ëŠ¥
+    """
+    # 1. ì´ˆëŒ€ì¥ ì¡°íšŒ
+    invite = db.exec(select(Invitation).where(Invitation.token == token)).first()
+    if not invite:
+        raise HTTPException(status_code=404, detail="ìœ íš¨í•˜ì§€ ì•Šì€ ì´ˆëŒ€ ë§í¬ì…ë‹ˆë‹¤.")
+
+    # 2. ë§Œë£Œ í™•ì¸
+    if invite.expires_at < datetime.now():
+        raise HTTPException(status_code=400, detail="ë§Œë£Œëœ ì´ˆëŒ€ ë§í¬ì…ë‹ˆë‹¤.")
+
+    # 3. ì›Œí¬ìŠ¤í˜ì´ìŠ¤ & ì´ˆëŒ€ì ì •ë³´ ì¡°íšŒ
+    workspace = db.get(Workspace, invite.workspace_id)
+    inviter = db.get(User, invite.inviter_id)
+
+    if not workspace:
+        raise HTTPException(status_code=404, detail="ì›Œí¬ìŠ¤í˜ì´ìŠ¤ê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.")
+
+    return InvitationInfo(
+        workspace_name=workspace.name,
+        inviter_name=inviter.name if inviter else "ì•Œ ìˆ˜ ì—†ìŒ",
+        role=invite.role
+    )
+
+
 @router.post("/invitations/{token}/accept")
 @vectorize(search_description="Accept invitation", capture_return_value=True, replay=True)  # ğŸ‘ˆ ì¶”ê°€
 def accept_invitation(

commit 3cf3a37f71eba139eef428ffa664d7018c3126f0
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Tue Jan 27 15:25:47 2026 +0900

    Change voice chat logic to front logic
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/routers/voice.py b/app/routers/voice.py
index a4ba8b6..f5f2f62 100644
--- a/app/routers/voice.py
+++ b/app/routers/voice.py
@@ -1,18 +1,102 @@
 from fastapi import APIRouter, WebSocket, WebSocketDisconnect
-from app.utils.connection_manager import manager
+from app.utils.connection_manager import voice_manager
+import logging
 
 router = APIRouter(tags=["Voice Chat"])
+logger = logging.getLogger(__name__)
+
 
 @router.websocket("/ws/projects/{project_id}/voice")
 async def voice_chat_endpoint(websocket: WebSocket, project_id: int):
-    await manager.connect(websocket, project_id)
+    """
+    ìŒì„± ì±„íŒ… WebSocket ì—”ë“œí¬ì¸íŠ¸
+    WebRTC Signaling ì„œë²„ ì—­í•  ìˆ˜í–‰
+    
+    Signaling Flow:
+    1. Client A connects -> receives "room_info" with existing peer count
+    2. Client A sends "join" with senderId
+    3. Server broadcasts "join" to all other clients
+    4. Existing clients receive "join" and send "offer" to new client
+    5. New client receives "offer" and responds with "answer"
+    6. Both exchange "ice" candidates
+    7. WebRTC connection established
+    """
+    # ì—°ê²° ìˆ˜ë½
+    await voice_manager.connect(websocket, project_id)
+    logger.info(f"[Voice] New WebSocket connection to project {project_id}")
+    
+    # í•´ë‹¹ ì†Œì¼“ì˜ userId ì €ì¥ìš© (disconnect ì‹œ ì‚¬ìš©)
+    user_id = None
+    
     try:
         while True:
-            # í´ë¼ì´ì–¸íŠ¸ì˜ WebRTC ì‹œê·¸ë„(Offer, Answer, ICE)ì„ ë°›ì•„ì„œ
+            # í´ë¼ì´ì–¸íŠ¸ë¡œë¶€í„° ë©”ì‹œì§€ ìˆ˜ì‹ 
             data = await websocket.receive_json()
-            # ê°™ì€ ë°©ì˜ ë‹¤ë¥¸ ì‚¬ëŒë“¤ì—ê²Œ ê·¸ëŒ€ë¡œ ì „ë‹¬ (Signaling)
-            await manager.broadcast(data, project_id, websocket)
+            msg_type = data.get("type")
+            sender_id = data.get("senderId")
+            
+            logger.info(f"[Voice] Received: type={msg_type}, senderId={sender_id}, project={project_id}")
+            
+            if msg_type == "join":
+                # userId ì €ì¥ (disconnect ì‹œ ì‚¬ìš©)
+                user_id = sender_id
+                voice_manager.register_user(websocket, project_id, sender_id)
+                
+                # í˜„ì¬ ë°©ì˜ ë‹¤ë¥¸ ì°¸ì—¬ì ìˆ˜ í™•ì¸
+                peer_count = voice_manager.get_peer_count(project_id, websocket)
+                logger.info(f"[Voice] User {sender_id} joined. Existing peers: {peer_count}")
+                
+                # 1. ê¸°ì¡´ ì°¸ì—¬ìë“¤ì—ê²Œ ìƒˆ ì°¸ì—¬ìì˜ join ì•Œë¦¼
+                #    -> ê¸°ì¡´ ì°¸ì—¬ìë“¤ì´ ì´ ë©”ì‹œì§€ë¥¼ ë°›ìœ¼ë©´ ìƒˆ ì°¸ì—¬ìì—ê²Œ Offerë¥¼ ì „ì†¡
+                await voice_manager.broadcast(data, project_id, websocket)
+                logger.info(f"[Voice] Broadcasted join to {peer_count} peers")
+                
+            elif msg_type == "offer":
+                target_id = data.get("targetId")
+                logger.info(f"[Voice] Forwarding offer: {sender_id} -> {target_id}")
+                await voice_manager.broadcast(data, project_id, websocket)
+                
+            elif msg_type == "answer":
+                target_id = data.get("targetId")
+                logger.info(f"[Voice] Forwarding answer: {sender_id} -> {target_id}")
+                await voice_manager.broadcast(data, project_id, websocket)
+                
+            elif msg_type == "ice":
+                target_id = data.get("targetId")
+                logger.info(f"[Voice] Forwarding ICE: {sender_id} -> {target_id}")
+                await voice_manager.broadcast(data, project_id, websocket)
+                
+            else:
+                # ê¸°íƒ€ ë©”ì‹œì§€
+                logger.info(f"[Voice] Unknown message type: {msg_type}")
+                await voice_manager.broadcast(data, project_id, websocket)
+                
     except WebSocketDisconnect:
-        manager.disconnect(websocket, project_id)
-        # í‡´ì¥ ì•Œë¦¼ (í•„ìš”ì‹œ)
-        await manager.broadcast({"type": "user_left"}, project_id, websocket)
\ No newline at end of file
+        logger.info(f"[Voice] WebSocket disconnected: user={user_id}, project={project_id}")
+        
+        # ì—°ê²° í•´ì œ ì²˜ë¦¬
+        voice_manager.disconnect(websocket, project_id)
+        
+        # ë‹¤ë¥¸ ì°¸ì—¬ìë“¤ì—ê²Œ í‡´ì¥ ì•Œë¦¼ (senderId í¬í•¨!)
+        if user_id is not None:
+            await voice_manager.broadcast_all(
+                {
+                    "type": "user_left",
+                    "senderId": user_id,
+                },
+                project_id
+            )
+            logger.info(f"[Voice] Broadcasted user_left for user {user_id}")
+            
+    except Exception as e:
+        logger.error(f"[Voice] Error: {e}", exc_info=True)
+        voice_manager.disconnect(websocket, project_id)
+        
+        if user_id is not None:
+            await voice_manager.broadcast_all(
+                {
+                    "type": "user_left",
+                    "senderId": user_id,
+                },
+                project_id
+            )
diff --git a/app/utils/connection_manager.py b/app/utils/connection_manager.py
index 1a2f523..50208ed 100644
--- a/app/utils/connection_manager.py
+++ b/app/utils/connection_manager.py
@@ -1,10 +1,16 @@
-from typing import List, Dict
+from typing import List, Dict, Optional
 from fastapi import WebSocket
+import logging
+
+logger = logging.getLogger(__name__)
 
 
 class ConnectionManager:
+    """
+    ì¼ë°˜ WebSocket ì—°ê²° ê´€ë¦¬ì
+    í”„ë¡œì íŠ¸ë³„ ì—°ê²° ê´€ë¦¬
+    """
     def __init__(self):
-        # í”„ë¡œì íŠ¸ IDë³„ë¡œ ì—°ê²°ëœ ì†Œì¼“ ë¦¬ìŠ¤íŠ¸ ì €ì¥ { project_id: [socket1, socket2] }
         self.active_connections: Dict[int, List[WebSocket]] = {}
 
     async def connect(self, websocket: WebSocket, project_id: int):
@@ -21,11 +27,136 @@ class ConnectionManager:
                     del self.active_connections[project_id]
 
     async def broadcast(self, message: dict, project_id: int, sender_socket: WebSocket):
-        # ë‚˜ë¥¼ ì œì™¸í•œ ê°™ì€ ë°© ì‚¬ëŒë“¤ì—ê²Œ ë©”ì‹œì§€ ì „ì†¡
         if project_id in self.active_connections:
             for connection in self.active_connections[project_id]:
                 if connection != sender_socket:
                     await connection.send_json(message)
 
 
+class VoiceConnectionManager:
+    """
+    ìŒì„± ì±„íŒ… ì „ìš© WebSocket ì—°ê²° ê´€ë¦¬ì
+    - í”„ë¡œì íŠ¸ë³„ ì—°ê²° ê´€ë¦¬
+    - ì†Œì¼“-ìœ ì €ID ë§¤í•‘ ê´€ë¦¬
+    - ë””ë²„ê¹… ë¡œê·¸ í¬í•¨
+    """
+    def __init__(self):
+        # { project_id: [socket1, socket2, ...] }
+        self.active_connections: Dict[int, List[WebSocket]] = {}
+        # { project_id: { socket: user_id } }
+        self.socket_user_map: Dict[int, Dict[WebSocket, int]] = {}
+
+    async def connect(self, websocket: WebSocket, project_id: int):
+        """ìƒˆ WebSocket ì—°ê²° ìˆ˜ë½"""
+        await websocket.accept()
+        
+        if project_id not in self.active_connections:
+            self.active_connections[project_id] = []
+            self.socket_user_map[project_id] = {}
+            
+        self.active_connections[project_id].append(websocket)
+        logger.debug(f"[VoiceManager] Connected. Project {project_id} now has {len(self.active_connections[project_id])} connections")
+
+    def register_user(self, websocket: WebSocket, project_id: int, user_id: int):
+        """ì†Œì¼“ì— userId ë“±ë¡ (join ë©”ì‹œì§€ ìˆ˜ì‹  ì‹œ í˜¸ì¶œ)"""
+        if project_id in self.socket_user_map:
+            self.socket_user_map[project_id][websocket] = user_id
+            logger.debug(f"[VoiceManager] Registered user {user_id} for socket in project {project_id}")
+
+    def get_user_id(self, websocket: WebSocket, project_id: int) -> Optional[int]:
+        """ì†Œì¼“ì˜ userId ì¡°íšŒ"""
+        if project_id in self.socket_user_map:
+            return self.socket_user_map[project_id].get(websocket)
+        return None
+
+    def disconnect(self, websocket: WebSocket, project_id: int):
+        """WebSocket ì—°ê²° í•´ì œ"""
+        if project_id in self.active_connections:
+            if websocket in self.active_connections[project_id]:
+                self.active_connections[project_id].remove(websocket)
+                
+            # ì†Œì¼“-ìœ ì € ë§¤í•‘ì—ì„œë„ ì œê±°
+            if project_id in self.socket_user_map and websocket in self.socket_user_map[project_id]:
+                del self.socket_user_map[project_id][websocket]
+                
+            # ë¹ˆ í”„ë¡œì íŠ¸ ì •ë¦¬
+            if not self.active_connections[project_id]:
+                del self.active_connections[project_id]
+                if project_id in self.socket_user_map:
+                    del self.socket_user_map[project_id]
+                    
+        logger.debug(f"[VoiceManager] Disconnected from project {project_id}")
+
+    def get_peer_count(self, project_id: int, exclude_socket: WebSocket = None) -> int:
+        """í”„ë¡œì íŠ¸ì˜ ë‹¤ë¥¸ ì°¸ì—¬ì ìˆ˜ ë°˜í™˜"""
+        if project_id not in self.active_connections:
+            return 0
+        
+        count = len(self.active_connections[project_id])
+        if exclude_socket and exclude_socket in self.active_connections[project_id]:
+            count -= 1
+        return count
+
+    def get_other_user_sockets(self, project_id: int, exclude_socket: WebSocket) -> List[WebSocket]:
+        """íŠ¹ì • ì†Œì¼“ì„ ì œì™¸í•œ ë‹¤ë¥¸ ì—°ê²° ëª©ë¡ ë°˜í™˜"""
+        if project_id not in self.active_connections:
+            return []
+        return [s for s in self.active_connections[project_id] if s != exclude_socket]
+
+    async def broadcast(self, message: dict, project_id: int, sender_socket: WebSocket):
+        """
+        ë°œì‹ ìë¥¼ ì œì™¸í•œ ê°™ì€ ë°©ì˜ ëª¨ë“  ì—°ê²°ì— ë©”ì‹œì§€ ì „ì†¡
+        """
+        if project_id not in self.active_connections:
+            logger.warning(f"[VoiceManager] No connections for project {project_id}")
+            return
+            
+        recipients = 0
+        failed = 0
+        
+        for connection in self.active_connections[project_id]:
+            if connection != sender_socket:
+                try:
+                    await connection.send_json(message)
+                    recipients += 1
+                except Exception as e:
+                    logger.error(f"[VoiceManager] Failed to send to connection: {e}")
+                    failed += 1
+                    
+        logger.debug(f"[VoiceManager] Broadcast complete: {recipients} success, {failed} failed")
+
+    async def broadcast_all(self, message: dict, project_id: int):
+        """
+        ê°™ì€ ë°©ì˜ ëª¨ë“  ì—°ê²°ì— ë©”ì‹œì§€ ì „ì†¡ (ë°œì‹ ì í¬í•¨)
+        ì£¼ë¡œ user_left ì•Œë¦¼ì— ì‚¬ìš©
+        """
+        if project_id not in self.active_connections:
+            return
+            
+        for connection in self.active_connections[project_id]:
+            try:
+                await connection.send_json(message)
+            except Exception as e:
+                logger.error(f"[VoiceManager] Failed to send to connection: {e}")
+
+    async def send_to_user(self, message: dict, project_id: int, target_user_id: int):
+        """
+        íŠ¹ì • userIdë¥¼ ê°€ì§„ ì†Œì¼“ì—ë§Œ ë©”ì‹œì§€ ì „ì†¡
+        """
+        if project_id not in self.socket_user_map:
+            return False
+            
+        for socket, user_id in self.socket_user_map[project_id].items():
+            if user_id == target_user_id:
+                try:
+                    await socket.send_json(message)
+                    return True
+                except Exception as e:
+                    logger.error(f"[VoiceManager] Failed to send to user {target_user_id}: {e}")
+                    return False
+        return False
+
+
+# ì‹±ê¸€í†¤ ì¸ìŠ¤í„´ìŠ¤
 manager = ConnectionManager()
+voice_manager = VoiceConnectionManager()

commit 49928634a920b5ecd0e10391f1534c2315822e3e
Author: UZIH05 <luv.wlgjs@gmail.com>
Date:   Mon Jan 26 16:30:29 2026 +0900

    Fix cards batch api routing order
    
    Signed-off-by: UZIH05 <luv.wlgjs@gmail.com>

diff --git a/app/routers/board.py b/app/routers/board.py
index 60086ed..d92763b 100644
--- a/app/routers/board.py
+++ b/app/routers/board.py
@@ -327,6 +327,50 @@ def delete_comment(
     db.commit()
     return {"message": "ëŒ“ê¸€ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤."}
 
+@router.patch("/cards/batch", response_model=List[CardResponse])
+@vectorize(search_description="Batch update cards", capture_return_value=True)
+def update_cards_batch(
+        request: BatchCardUpdateRequest,
+        db: Session = Depends(get_db),
+        user_id: int = Depends(get_current_user_id)
+):
+    updated_cards = []
+
+    # 1. ìš”ì²­ë°›ì€ ëª¨ë“  ì¹´ë“œë¥¼ ìˆœíšŒ
+    for item in request.cards:
+        card = db.get(Card, item.id)
+        if not card:
+            continue  # ì—†ìœ¼ë©´ ìŠ¤í‚µ (í˜¹ì€ ì—ëŸ¬ ì²˜ë¦¬)
+
+        # 2. ë°ì´í„° ì—…ë°ì´íŠ¸ (ê°’ì´ ìˆëŠ” ê²ƒë§Œ)
+        # CardUpdate ìŠ¤í‚¤ë§ˆì— ì •ì˜ëœ í•„ë“œë“¤ì„ ë°˜ë³µí•˜ë©° ì ìš©
+        update_data = item.model_dump(exclude_unset=True)
+
+        # idëŠ” ì—…ë°ì´íŠ¸ ëŒ€ìƒì´ ì•„ë‹ˆë¯€ë¡œ ì œì™¸
+        if "id" in update_data:
+            del update_data["id"]
+
+        # assignee_ids ë“± ê´€ê³„í˜• ë°ì´í„°ëŠ” ë³„ë„ ì²˜ë¦¬ê°€ í•„ìš”í•  ìˆ˜ ìˆìŒ
+        # ì—¬ê¸°ì„œëŠ” ê°„ë‹¨í•œ í•„ë“œ(x, y, order, column_id ë“±) ìœ„ì£¼ë¡œ ì²˜ë¦¬
+        if "assignee_ids" in update_data:
+            # ë‹´ë‹¹ì ë³€ê²½ ë¡œì§ì´ í•„ìš”í•˜ë‹¤ë©´ ì—¬ê¸°ì— ì¶”ê°€ (ê¸°ì¡´ ë¡œì§ ì°¸ì¡°)
+            pass
+
+        for key, value in update_data.items():
+            if key != "assignee_ids": # ê´€ê³„í˜• í•„ë“œ ì œì™¸í•˜ê³  ì†ì„± ë³€ê²½
+                setattr(card, key, value)
+
+        db.add(card)
+        updated_cards.append(card)
+
+    # 3. í•œ ë²ˆì— ì»¤ë°‹ (Bulk Update íš¨ê³¼)
+    db.commit()
+
+    # 4. ìµœì‹  ìƒíƒœë¡œ ê°±ì‹ 
+    for card in updated_cards:
+        db.refresh(card)
+
+    return updated_cards
 
 # =================================================================
 # 3. ì¹´ë“œ(Card) API
@@ -508,49 +552,3 @@ def create_comment(card_id: int, comment_data: CardCommentCreate, user_id: int =
 def get_card_comments(card_id: int, db: Session = Depends(get_db)):
     comments = db.exec(select(CardComment).where(CardComment.card_id == card_id).order_by(CardComment.created_at.asc())).all()
     return comments
-
-
-@router.patch("/cards/batch", response_model=List[CardResponse])
-@vectorize(search_description="Batch update cards", capture_return_value=True)
-def update_cards_batch(
-        request: BatchCardUpdateRequest,
-        db: Session = Depends(get_db),
-        user_id: int = Depends(get_current_user_id)
-):
-    updated_cards = []
-
-    # 1. ìš”ì²­ë°›ì€ ëª¨ë“  ì¹´ë“œë¥¼ ìˆœíšŒ
-    for item in request.cards:
-        card = db.get(Card, item.id)
-        if not card:
-            continue  # ì—†ìœ¼ë©´ ìŠ¤í‚µ (í˜¹ì€ ì—ëŸ¬ ì²˜ë¦¬)
-
-        # 2. ë°ì´í„° ì—…ë°ì´íŠ¸ (ê°’ì´ ìˆëŠ” ê²ƒë§Œ)
-        # CardUpdate ìŠ¤í‚¤ë§ˆì— ì •ì˜ëœ í•„ë“œë“¤ì„ ë°˜ë³µí•˜ë©° ì ìš©
-        update_data = item.model_dump(exclude_unset=True)
-
-        # idëŠ” ì—…ë°ì´íŠ¸ ëŒ€ìƒì´ ì•„ë‹ˆë¯€ë¡œ ì œì™¸
-        if "id" in update_data:
-            del update_data["id"]
-
-        # assignee_ids ë“± ê´€ê³„í˜• ë°ì´í„°ëŠ” ë³„ë„ ì²˜ë¦¬ê°€ í•„ìš”í•  ìˆ˜ ìˆìŒ
-        # ì—¬ê¸°ì„œëŠ” ê°„ë‹¨í•œ í•„ë“œ(x, y, order, column_id ë“±) ìœ„ì£¼ë¡œ ì²˜ë¦¬
-        if "assignee_ids" in update_data:
-            # ë‹´ë‹¹ì ë³€ê²½ ë¡œì§ì´ í•„ìš”í•˜ë‹¤ë©´ ì—¬ê¸°ì— ì¶”ê°€ (ê¸°ì¡´ ë¡œì§ ì°¸ì¡°)
-            pass
-
-        for key, value in update_data.items():
-            if key != "assignee_ids": # ê´€ê³„í˜• í•„ë“œ ì œì™¸í•˜ê³  ì†ì„± ë³€ê²½
-                setattr(card, key, value)
-
-        db.add(card)
-        updated_cards.append(card)
-
-    # 3. í•œ ë²ˆì— ì»¤ë°‹ (Bulk Update íš¨ê³¼)
-    db.commit()
-
-    # 4. ìµœì‹  ìƒíƒœë¡œ ê°±ì‹ 
-    for card in updated_cards:
-        db.refresh(card)
-
-    return updated_cards
\ No newline at end of file

commit 7280d57c58b50da88317c28dc924abbe0473cb45
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Mon Jan 26 06:56:30 2026 +0900

    Add batch api for card and files
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/routers/board.py b/app/routers/board.py
index c49d80d..60086ed 100644
--- a/app/routers/board.py
+++ b/app/routers/board.py
@@ -9,7 +9,8 @@ from app.models.workspace import Project, WorkspaceMember
 from app.schemas import (
     BoardColumnCreate, BoardColumnResponse, CardCreate, CardResponse, CardUpdate,
     CardCommentCreate, CardCommentResponse, BoardColumnUpdate, FileResponse,
-    CardConnectionCreate, CardConnectionResponse, TransformSchema, CardConnectionUpdate  # ğŸ‘ˆ CardConnectionCreate í™•ì¸
+    CardConnectionCreate, CardConnectionResponse, TransformSchema, CardConnectionUpdate,
+    BatchCardUpdateRequest, CardResponse
 )
 from datetime import datetime
 from app.utils.logger import log_activity
@@ -506,4 +507,50 @@ def create_comment(card_id: int, comment_data: CardCommentCreate, user_id: int =
 @router.get("/cards/{card_id}/comments", response_model=List[CardCommentResponse])
 def get_card_comments(card_id: int, db: Session = Depends(get_db)):
     comments = db.exec(select(CardComment).where(CardComment.card_id == card_id).order_by(CardComment.created_at.asc())).all()
-    return comments
\ No newline at end of file
+    return comments
+
+
+@router.patch("/cards/batch", response_model=List[CardResponse])
+@vectorize(search_description="Batch update cards", capture_return_value=True)
+def update_cards_batch(
+        request: BatchCardUpdateRequest,
+        db: Session = Depends(get_db),
+        user_id: int = Depends(get_current_user_id)
+):
+    updated_cards = []
+
+    # 1. ìš”ì²­ë°›ì€ ëª¨ë“  ì¹´ë“œë¥¼ ìˆœíšŒ
+    for item in request.cards:
+        card = db.get(Card, item.id)
+        if not card:
+            continue  # ì—†ìœ¼ë©´ ìŠ¤í‚µ (í˜¹ì€ ì—ëŸ¬ ì²˜ë¦¬)
+
+        # 2. ë°ì´í„° ì—…ë°ì´íŠ¸ (ê°’ì´ ìˆëŠ” ê²ƒë§Œ)
+        # CardUpdate ìŠ¤í‚¤ë§ˆì— ì •ì˜ëœ í•„ë“œë“¤ì„ ë°˜ë³µí•˜ë©° ì ìš©
+        update_data = item.model_dump(exclude_unset=True)
+
+        # idëŠ” ì—…ë°ì´íŠ¸ ëŒ€ìƒì´ ì•„ë‹ˆë¯€ë¡œ ì œì™¸
+        if "id" in update_data:
+            del update_data["id"]
+
+        # assignee_ids ë“± ê´€ê³„í˜• ë°ì´í„°ëŠ” ë³„ë„ ì²˜ë¦¬ê°€ í•„ìš”í•  ìˆ˜ ìˆìŒ
+        # ì—¬ê¸°ì„œëŠ” ê°„ë‹¨í•œ í•„ë“œ(x, y, order, column_id ë“±) ìœ„ì£¼ë¡œ ì²˜ë¦¬
+        if "assignee_ids" in update_data:
+            # ë‹´ë‹¹ì ë³€ê²½ ë¡œì§ì´ í•„ìš”í•˜ë‹¤ë©´ ì—¬ê¸°ì— ì¶”ê°€ (ê¸°ì¡´ ë¡œì§ ì°¸ì¡°)
+            pass
+
+        for key, value in update_data.items():
+            if key != "assignee_ids": # ê´€ê³„í˜• í•„ë“œ ì œì™¸í•˜ê³  ì†ì„± ë³€ê²½
+                setattr(card, key, value)
+
+        db.add(card)
+        updated_cards.append(card)
+
+    # 3. í•œ ë²ˆì— ì»¤ë°‹ (Bulk Update íš¨ê³¼)
+    db.commit()
+
+    # 4. ìµœì‹  ìƒíƒœë¡œ ê°±ì‹ 
+    for card in updated_cards:
+        db.refresh(card)
+
+    return updated_cards
\ No newline at end of file
diff --git a/app/routers/file.py b/app/routers/file.py
index 19296c1..76e7c19 100644
--- a/app/routers/file.py
+++ b/app/routers/file.py
@@ -28,7 +28,7 @@ os.makedirs(UPLOAD_DIR, exist_ok=True)
 
 # 1. íŒŒì¼ ì—…ë¡œë“œ (ìë™ ë²„ì „ ê´€ë¦¬)
 @router.post("/projects/{project_id}/files", response_model=FileResponse)
-@vectorize(search_description="Upload file", capture_return_value=True, replay=True) # ğŸ‘ˆ ì¶”ê°€
+@vectorize(search_description="Upload file", capture_return_value=True, replay=True)  # ğŸ‘ˆ ì¶”ê°€
 async def upload_file(
         project_id: int,
         file: UploadFile = File(...),
@@ -111,9 +111,7 @@ async def upload_file(
             content=f"ğŸ’¾ '{user.name}'ë‹˜ì´ '{project.name}' í”„ë¡œì íŠ¸ì— íŒŒì¼ '{file.filename}'ì„(ë¥¼) {action_msg}í–ˆìŠµë‹ˆë‹¤."
         )
     except Exception as e:
-        print(f"ë¡œê·¸ ì €ì¥ ì‹¤íŒ¨: {e}") # ë¡œê·¸ ì‹¤íŒ¨ê°€ íŒŒì¼ ì—…ë¡œë“œë¥¼ ë§‰ìœ¼ë©´ ì•ˆ ë˜ë¯€ë¡œ ì˜ˆì™¸ ì²˜ë¦¬
-
-
+        print(f"ë¡œê·¸ ì €ì¥ ì‹¤íŒ¨: {e}")  # ë¡œê·¸ ì‹¤íŒ¨ê°€ íŒŒì¼ ì—…ë¡œë“œë¥¼ ë§‰ìœ¼ë©´ ì•ˆ ë˜ë¯€ë¡œ ì˜ˆì™¸ ì²˜ë¦¬
 
     # ì‘ë‹µ ìƒì„±
     return FileResponse(
@@ -131,6 +129,120 @@ async def upload_file(
         )
     )
 
+
+@router.post("/projects/{project_id}/files/batch", response_model=List[FileResponse])
+@vectorize(search_description="Batch upload files", capture_return_value=True)
+async def upload_files_batch(
+        project_id: int,
+        files: List[UploadFile] = File(...),  # ğŸ‘ˆ í•µì‹¬: íŒŒì¼ì„ ë¦¬ìŠ¤íŠ¸ë¡œ ë°›ìŒ
+        user_id: int = Depends(get_current_user_id),
+        db: Session = Depends(get_db)
+):
+    # 0. í”„ë¡œì íŠ¸ í™•ì¸ (í•œ ë²ˆë§Œ ì¡°íšŒ)
+    project = db.get(Project, project_id)
+    if not project:
+        raise HTTPException(status_code=404, detail="Project not found")
+
+    user = db.get(User, user_id)
+    results = []
+
+    # 1. íŒŒì¼ ëª©ë¡ ìˆœíšŒí•˜ë©° ì²˜ë¦¬
+    for file in files:
+        # --- (ê¸°ì¡´ ë‹¨ê±´ ì—…ë¡œë“œ ë¡œì§ ì¬ì‚¬ìš©) ---
+
+        # A. íŒŒì¼ ì €ì¥
+        file_ext = os.path.splitext(file.filename)[1]
+        saved_filename = f"{uuid.uuid4()}{file_ext}"
+        saved_path = os.path.join(UPLOAD_DIR, saved_filename)
+
+        # ë¹„ë™ê¸° íŒŒì¼ ì½ê¸°/ì“°ê¸°ë¥¼ ìœ„í•´ file.read() ë“±ì„ ì“¸ ìˆ˜ë„ ìˆì§€ë§Œ,
+        # ëŒ€ìš©ëŸ‰ ì²˜ë¦¬ë¥¼ ìœ„í•´ ê¸°ì¡´ì²˜ëŸ¼ copyfileobj ì‚¬ìš© (Blocking ë°©ì§€ ìœ„í•´ run_in_threadpool ë“±ì„ ê³ ë ¤í•  ìˆ˜ ìˆìœ¼ë‚˜ ì—¬ê¸°ì„  ë‹¨ìˆœí™”)
+        with open(saved_path, "wb") as buffer:
+            shutil.copyfileobj(file.file, buffer)
+
+        file_size = os.path.getsize(saved_path)
+
+        # B. DB ë©”íƒ€ë°ì´í„° í™•ì¸ ë° ë²„ì „ ê´€ë¦¬
+        existing_file = db.exec(
+            select(FileMetadata)
+            .where(FileMetadata.project_id == project_id)
+            .where(FileMetadata.filename == file.filename)
+        ).first()
+
+        current_version_num = 1
+        target_file_id = None
+
+        if existing_file:
+            # ì´ë¯¸ ì¡´ì¬í•˜ë©´: ë©”íƒ€ë°ì´í„° ì—…ë°ì´íŠ¸
+            last_version = db.exec(
+                select(FileVersion)
+                .where(FileVersion.file_id == existing_file.id)
+                .order_by(desc(FileVersion.version))
+            ).first()
+
+            if last_version:
+                current_version_num = last_version.version + 1
+
+            target_file_id = existing_file.id
+            existing_file.updated_at = datetime.now()
+            db.add(existing_file)
+        else:
+            # ì—†ìœ¼ë©´: ìƒˆë¡œ ìƒì„±
+            new_file = FileMetadata(
+                project_id=project_id,
+                filename=file.filename,
+                owner_id=user_id
+            )
+            db.add(new_file)
+            db.commit()  # ID ìƒì„±ì„ ìœ„í•´ ì»¤ë°‹
+            db.refresh(new_file)
+            target_file_id = new_file.id
+            existing_file = new_file
+
+        # C. ë²„ì „ ì •ë³´ ì €ì¥
+        new_version = FileVersion(
+            file_id=target_file_id,
+            version=current_version_num,
+            saved_path=saved_path,
+            file_size=file_size,
+            uploader_id=user_id
+        )
+        db.add(new_version)
+        db.commit()
+        db.refresh(new_version)
+
+        # D. ê²°ê³¼ ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€
+        results.append(FileResponse(
+            id=existing_file.id,
+            project_id=existing_file.project_id,
+            filename=existing_file.filename,
+            owner_id=existing_file.owner_id,
+            created_at=existing_file.created_at,
+            latest_version=FileVersionResponse(
+                id=new_version.id,
+                version=new_version.version,
+                file_size=new_version.file_size,
+                created_at=new_version.created_at,
+                uploader_id=new_version.uploader_id
+            )
+        ))
+
+        # E. ë¡œê·¸ ê¸°ë¡ (ê°œë³„ íŒŒì¼ë§ˆë‹¤ ë‚¨ê¹€)
+        try:
+            action_msg = "ì—…ë¡œë“œ" if current_version_num == 1 else f"ìƒˆ ë²„ì „(v{current_version_num}) ì—…ë°ì´íŠ¸"
+            log_activity(
+                db=db,
+                user_id=user_id,
+                workspace_id=project.workspace_id,
+                action_type="UPLOAD",
+                content=f"ğŸ’¾ '{user.name}'ë‹˜ì´ íŒŒì¼ '{file.filename}'ì„(ë¥¼) {action_msg}í–ˆìŠµë‹ˆë‹¤."
+            )
+        except Exception:
+            pass
+
+    return results
+
+
 @router.get("/projects/{project_id}/files", response_model=List[FileResponse])
 @vectorize(search_description="List all files in project", capture_return_value=True)
 def get_project_files(
@@ -201,7 +313,7 @@ def download_file_version(version_id: int, db: Session = Depends(get_db)):
 
 
 @router.get("/files/{file_id}/versions", response_model=List[FileVersionResponse])
-@vectorize(search_description="Get file version history", capture_return_value=True, replay=True) # ğŸ‘ˆ ì¶”ê°€
+@vectorize(search_description="Get file version history", capture_return_value=True, replay=True)  # ğŸ‘ˆ ì¶”ê°€
 def get_file_history(
         file_id: int,
         db: Session = Depends(get_db)
@@ -220,8 +332,9 @@ def get_file_history(
 
     return versions
 
+
 @router.delete("/files/{file_id}")
-@vectorize(search_description="Delete file", capture_return_value=True, replay=True) # ğŸ‘ˆ ì¶”ê°€
+@vectorize(search_description="Delete file", capture_return_value=True, replay=True)  # ğŸ‘ˆ ì¶”ê°€
 def delete_file(
         file_id: int,
         user_id: int = Depends(get_current_user_id),
diff --git a/app/schemas.py b/app/schemas.py
index 8fe654d..0a9da55 100644
--- a/app/schemas.py
+++ b/app/schemas.py
@@ -441,3 +441,9 @@ class CommunityPostUpdate(BaseModel):
 
 class CommunityCommentUpdate(BaseModel):
     content: str
+
+class CardUpdateItem(CardUpdate):
+    id: int
+
+class BatchCardUpdateRequest(BaseModel):
+    cards: List[CardUpdateItem]
\ No newline at end of file

commit f4bfb1416b25d3c8fc451ab2ec1897c681b5442c
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Sun Jan 25 17:00:04 2026 +0900

    Schema user field error
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/schemas.py b/app/schemas.py
index ba29ebd..8fe654d 100644
--- a/app/schemas.py
+++ b/app/schemas.py
@@ -415,7 +415,6 @@ class CommunityCommentResponse(BaseModel):
     id: int
     content: str
     user_id: int
-    user_name: str  # ì‘ì„±ì ì´ë¦„ í¸í•˜ê²Œ ë³´ê¸° ìœ„í•¨
     created_at: datetime
     user: Optional[UserResponse] = None
 
@@ -426,7 +425,6 @@ class CommunityPostResponse(BaseModel):
     content: str
     image_url: Optional[str] = None
     user_id: int
-    user_name: str
     created_at: datetime
     updated_at: datetime
     comments: List[CommunityCommentResponse] = []  # ëŒ“ê¸€ ëª©ë¡ í¬í•¨

commit f0d51cedde2f1d29ba2f14c6615fb99e3a0cb2da
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Sun Jan 25 16:54:08 2026 +0900

    Change community response user fields to user object
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/routers/community.py b/app/routers/community.py
index 75beb4f..77c63ea 100644
--- a/app/routers/community.py
+++ b/app/routers/community.py
@@ -12,7 +12,13 @@ from app.database import get_db
 from app.models.user import User
 from app.models.community import CommunityPost, CommunityComment
 from app.routers.workspace import get_current_user_id
-from app.schemas import CommunityPostResponse, CommunityCommentResponse, CommunityCommentCreate, CommunityPostUpdate, CommunityCommentUpdate
+from app.schemas import (
+    CommunityPostResponse,
+    CommunityCommentResponse,
+    CommunityCommentCreate,
+    CommunityPostUpdate,
+    CommunityCommentUpdate
+)
 from app.utils.logger import log_activity
 from vectorwave import vectorize
 
@@ -35,18 +41,20 @@ def get_community_posts(
         select(CommunityPost).order_by(CommunityPost.created_at.desc()).offset(skip).limit(limit)
     ).all()
 
-    # ì‘ë‹µ ë³€í™˜ (ì‘ì„±ì ì´ë¦„ í¬í•¨)
+    # ì‘ë‹µ ë³€í™˜ (User ê°ì²´ í¬í•¨)
     results = []
     for post in posts:
         comments_resp = [
             CommunityCommentResponse(
                 id=c.id, content=c.content, user_id=c.user_id,
-                user_name=c.user.name if c.user else "Unknown", created_at=c.created_at
+                user=c.user,  # ğŸ‘ˆ ì‘ì„±ì ì •ë³´ ì „ì²´ ì „ë‹¬ (UserResponseë¡œ ìë™ ë³€í™˜)
+                created_at=c.created_at
             ) for c in post.comments
         ]
         results.append(CommunityPostResponse(
             id=post.id, title=post.title, content=post.content, image_url=post.image_url,
-            user_id=post.user_id, user_name=post.user.name if post.user else "Unknown",
+            user_id=post.user_id,
+            user=post.user,  # ğŸ‘ˆ ì‘ì„±ì ì •ë³´ ì „ì²´ ì „ë‹¬
             created_at=post.created_at, updated_at=post.updated_at,
             comments=comments_resp
         ))
@@ -90,17 +98,20 @@ def create_community_post(
     db.commit()
     db.refresh(new_post)
 
-    # 3. ë¡œê·¸ ê¸°ë¡
+    # 3. ì‘ì„±ì ì •ë³´ ì¡°íšŒ (ì‘ë‹µìš©)
     user = db.get(User, user_id)
+
+    # 4. ë¡œê·¸ ê¸°ë¡
     log_activity(
         db=db, user_id=user_id, workspace_id=None, action_type="POST",
         content=f"ğŸ“¢ '{user.name}'ë‹˜ì´ ì „ì²´ ê²Œì‹œíŒì— ê¸€ì„ ë‚¨ê²¼ìŠµë‹ˆë‹¤: {title}"
     )
 
-    # 4. ì‘ë‹µ ë°˜í™˜
+    # 5. ì‘ë‹µ ë°˜í™˜
     return CommunityPostResponse(
         id=new_post.id, title=new_post.title, content=new_post.content, image_url=new_post.image_url,
-        user_id=new_post.user_id, user_name=user.name,
+        user_id=new_post.user_id,
+        user=user,  # ğŸ‘ˆ User ê°ì²´ ì „ë‹¬
         created_at=new_post.created_at, updated_at=new_post.updated_at,
         comments=[]
     )
@@ -129,15 +140,18 @@ def create_community_comment(
     db.commit()
     db.refresh(new_comment)
 
+    # ì‘ì„±ì ì •ë³´ ì¡°íšŒ
     user = db.get(User, user_id)
 
-    # ëŒ“ê¸€ì€ ë„ˆë¬´ ìì£¼ ë‹¬ë¦´ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì¤‘ìš” ë¡œê·¸ë§Œ ë‚¨ê¸°ê±°ë‚˜ ìƒëµ ê°€ëŠ¥ (ì—¬ê¸°ì„  ìƒëµ)
-
     return CommunityCommentResponse(
         id=new_comment.id, content=new_comment.content, user_id=new_comment.user_id,
-        user_name=user.name, created_at=new_comment.created_at
+        user=user,  # ğŸ‘ˆ User ê°ì²´ ì „ë‹¬
+        created_at=new_comment.created_at
     )
 
+# ---------------------------------------------------------
+# ğŸ“– ê²Œì‹œê¸€ ìƒì„¸ ì¡°íšŒ
+# ---------------------------------------------------------
 @router.get("/community/{post_id}", response_model=CommunityPostResponse)
 @vectorize(search_description="Get community post detail", capture_return_value=True)
 def get_community_post(
@@ -152,13 +166,15 @@ def get_community_post(
     comments_resp = [
         CommunityCommentResponse(
             id=c.id, content=c.content, user_id=c.user_id,
-            user_name=c.user.name if c.user else "Unknown", created_at=c.created_at
+            user=c.user,  # ğŸ‘ˆ User ê°ì²´ ì „ë‹¬
+            created_at=c.created_at
         ) for c in post.comments
     ]
 
     return CommunityPostResponse(
         id=post.id, title=post.title, content=post.content, image_url=post.image_url,
-        user_id=post.user_id, user_name=post.user.name if post.user else "Unknown",
+        user_id=post.user_id,
+        user=post.user,  # ğŸ‘ˆ User ê°ì²´ ì „ë‹¬
         created_at=post.created_at, updated_at=post.updated_at,
         comments=comments_resp
     )
@@ -195,6 +211,9 @@ def delete_community_post(
 
     return {"message": "ê²Œì‹œê¸€ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤."}
 
+# ---------------------------------------------------------
+# ğŸ—‘ï¸ ëŒ“ê¸€ ì‚­ì œ
+# ---------------------------------------------------------
 @router.delete("/community/comments/{comment_id}")
 @vectorize(search_description="Delete community comment", capture_return_value=True)
 def delete_community_comment(
@@ -217,6 +236,9 @@ def delete_community_comment(
 
     return {"message": "ëŒ“ê¸€ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤."}
 
+# ---------------------------------------------------------
+# âœï¸ ê²Œì‹œê¸€ ìˆ˜ì •
+# ---------------------------------------------------------
 @router.patch("/community/{post_id}", response_model=CommunityPostResponse)
 @vectorize(search_description="Update community post", capture_return_value=True)
 def update_community_post(
@@ -250,17 +272,22 @@ def update_community_post(
     comments_resp = [
         CommunityCommentResponse(
             id=c.id, content=c.content, user_id=c.user_id,
-            user_name=c.user.name if c.user else "Unknown", created_at=c.created_at
+            user=c.user,  # ğŸ‘ˆ User ê°ì²´ ì „ë‹¬
+            created_at=c.created_at
         ) for c in post.comments
     ]
 
     return CommunityPostResponse(
         id=post.id, title=post.title, content=post.content, image_url=post.image_url,
-        user_id=post.user_id, user_name=post.user.name,
+        user_id=post.user_id,
+        user=post.user,  # ğŸ‘ˆ User ê°ì²´ ì „ë‹¬
         created_at=post.created_at, updated_at=post.updated_at,
         comments=comments_resp
     )
 
+# ---------------------------------------------------------
+# âœï¸ ëŒ“ê¸€ ìˆ˜ì •
+# ---------------------------------------------------------
 @router.patch("/community/comments/{comment_id}", response_model=CommunityCommentResponse)
 @vectorize(search_description="Update community comment", capture_return_value=True)
 def update_community_comment(
@@ -286,6 +313,6 @@ def update_community_comment(
 
     return CommunityCommentResponse(
         id=comment.id, content=comment.content, user_id=comment.user_id,
-        user_name=comment.user.name if comment.user else "Unknown",
+        user=comment.user,  # ğŸ‘ˆ User ê°ì²´ ì „ë‹¬
         created_at=comment.created_at
     )
\ No newline at end of file
diff --git a/app/schemas.py b/app/schemas.py
index 18bb6af..ba29ebd 100644
--- a/app/schemas.py
+++ b/app/schemas.py
@@ -26,6 +26,8 @@ class UserResponse(BaseModel):
     nickname: Optional[str] = None
     is_student_verified: bool
     profile_image: Optional[str] = None
+    class Config:
+        from_attributes = True
 
 
 class WorkspaceCreate(BaseModel):
@@ -415,6 +417,7 @@ class CommunityCommentResponse(BaseModel):
     user_id: int
     user_name: str  # ì‘ì„±ì ì´ë¦„ í¸í•˜ê²Œ ë³´ê¸° ìœ„í•¨
     created_at: datetime
+    user: Optional[UserResponse] = None
 
 
 class CommunityPostResponse(BaseModel):
@@ -427,6 +430,7 @@ class CommunityPostResponse(BaseModel):
     created_at: datetime
     updated_at: datetime
     comments: List[CommunityCommentResponse] = []  # ëŒ“ê¸€ ëª©ë¡ í¬í•¨
+    user: Optional[UserResponse] = None
 
 
 class CommunityCommentCreate(BaseModel):

commit d2c8ff2e43fedd351f7dc8e17b84a9c3fa59f8fd
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Sun Jan 25 16:11:01 2026 +0900

    Add community post detail api
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/routers/community.py b/app/routers/community.py
index 3597df5..75beb4f 100644
--- a/app/routers/community.py
+++ b/app/routers/community.py
@@ -138,6 +138,31 @@ def create_community_comment(
         user_name=user.name, created_at=new_comment.created_at
     )
 
+@router.get("/community/{post_id}", response_model=CommunityPostResponse)
+@vectorize(search_description="Get community post detail", capture_return_value=True)
+def get_community_post(
+        post_id: int,
+        db: Session = Depends(get_db)
+):
+    post = db.get(CommunityPost, post_id)
+    if not post:
+        raise HTTPException(status_code=404, detail="ê²Œì‹œê¸€ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
+
+    # ëŒ“ê¸€ ëª©ë¡ ë³€í™˜
+    comments_resp = [
+        CommunityCommentResponse(
+            id=c.id, content=c.content, user_id=c.user_id,
+            user_name=c.user.name if c.user else "Unknown", created_at=c.created_at
+        ) for c in post.comments
+    ]
+
+    return CommunityPostResponse(
+        id=post.id, title=post.title, content=post.content, image_url=post.image_url,
+        user_id=post.user_id, user_name=post.user.name if post.user else "Unknown",
+        created_at=post.created_at, updated_at=post.updated_at,
+        comments=comments_resp
+    )
+
 # ---------------------------------------------------------
 # ğŸ—‘ï¸ ê²Œì‹œê¸€ ì‚­ì œ
 # ---------------------------------------------------------

commit f065fcb0ff7f4191fd689eaa22bb163503ed1661
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Sun Jan 25 07:42:43 2026 +0900

    Change oneline-members api to SSE
    
    Before, it worked by polling. But now it working in SSE method.
    So the server can reduce the weight.
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/routers/workspace.py b/app/routers/workspace.py
index ba548fb..72a8b85 100644
--- a/app/routers/workspace.py
+++ b/app/routers/workspace.py
@@ -15,6 +15,11 @@ from typing import Any
 from app.utils.logger import log_activity
 from vectorwave import *
 from app.schemas import WorkspaceUpdate, ProjectUpdate
+from fastapi.concurrency import run_in_threadpool
+import asyncio
+import json
+from fastapi import Request
+from fastapi.responses import StreamingResponse
 
 router = APIRouter(tags=["Workspace & Project"])
 
@@ -226,32 +231,70 @@ def get_workspace_members(
         ) for r in results
     ]
 
-
-@router.get("/workspaces/{workspace_id}/online-members", response_model=List[UserResponse])
+@router.get("/workspaces/{workspace_id}/online-members/stream")
 @vectorize(search_description="Get online members", capture_return_value=True, replay=True)  # ğŸ‘ˆ ì¶”ê°€
-def get_online_members(
+async def stream_online_members(
         workspace_id: int,
-        user_id: int = Depends(get_current_user_id),
+        request: Request,
+        user_id: int = Depends(get_current_user_id), # ğŸ‘ˆ ë³´ì•ˆ: ë¡œê·¸ì¸í•œ ìœ ì €ë§Œ ì ‘ê·¼ ê°€ëŠ¥
         db: Session = Depends(get_db)
 ):
-    # 1. ìš”ì²­í•œ ì‚¬ëŒì´ ë©¤ë²„ì¸ì§€ í™•ì¸
+    """
+    Server-Sent Events (SSE) ì—”ë“œí¬ì¸íŠ¸
+    í´ë¼ì´ì–¸íŠ¸ê°€ ì—°ê²°í•˜ë©´, 5ì´ˆë§ˆë‹¤ ì˜¨ë¼ì¸ ë©¤ë²„ ë³€ê²½ì‚¬í•­ì„ í™•ì¸í•˜ì—¬ í‘¸ì‹œí•©ë‹ˆë‹¤.
+    """
+    # 1. ê¶Œí•œ í™•ì¸ (ì´ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ë©¤ë²„ì¸ê°€?)
+    #    ìŠ¤íŠ¸ë¦¼ ì—°ê²° ì „ì— ë¨¼ì € í™•ì¸í•´ì„œ, ê¶Œí•œ ì—†ìœ¼ë©´ ì¦‰ì‹œ ì°¨ë‹¨í•©ë‹ˆë‹¤.
     member = db.get(WorkspaceMember, (workspace_id, user_id))
     if not member:
-        raise HTTPException(status_code=403, detail="ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ë©¤ë²„ê°€ ì•„ë‹™ë‹ˆë‹¤.")
-
-    # 2. ìµœê·¼ 5ë¶„ ì´ë‚´ì— í™œë™ ê¸°ë¡(last_active_at)ì´ ìˆëŠ” ìœ ì € ì¡°íšŒ
-    active_threshold = datetime.now() - timedelta(minutes=1)
-
-    statement = (
-        select(User)
-        .join(WorkspaceMember, User.id == WorkspaceMember.user_id)
-        .where(WorkspaceMember.workspace_id == workspace_id)
-        .where(User.last_active_at >= active_threshold)  # ğŸ‘ˆ í•µì‹¬ ì¡°ê±´
-    )
-
-    online_users = db.exec(statement).all()
-
-    return online_users
+        raise HTTPException(status_code=403, detail="ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ë©¤ë²„ë§Œ ì¡°íšŒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.")
+
+    async def event_generator():
+        prev_online_ids: set = set()
+
+        while True:
+            # í´ë¼ì´ì–¸íŠ¸ ì—°ê²° ëŠê¹€ ì²´í¬
+            if await request.is_disconnected():
+                break
+
+            # 2. ë™ê¸° DB ì‘ì—…ì„ ì“°ë ˆë“œí’€ì—ì„œ ì‹¤í–‰ (ì„œë²„ ë¸”ë¡œí‚¹ ë°©ì§€)
+            def fetch_online_users():
+                active_threshold = datetime.now() - timedelta(minutes=1)
+                statement = (
+                    select(User)
+                    .join(WorkspaceMember, User.id == WorkspaceMember.user_id)
+                    .where(WorkspaceMember.workspace_id == workspace_id)
+                    .where(User.last_active_at >= active_threshold)
+                )
+                return db.exec(statement).all()
+
+            # awaitë¡œ ê²°ê³¼ë¥¼ ê¸°ë‹¤ë¦¼ (ì´ ë™ì•ˆ ë‹¤ë¥¸ ìš”ì²­ ì²˜ë¦¬ ê°€ëŠ¥)
+            online_users = await run_in_threadpool(fetch_online_users)
+
+            current_online_ids = {user.id for user in online_users}
+
+            # ë³€ê²½ì‚¬í•­ì´ ìˆê±°ë‚˜, ìµœì´ˆ ì—°ê²°(prevê°€ ë¹„ì–´ìˆìŒ)ì¸ ê²½ìš° ì „ì†¡
+            # (ë‹¨, ì•„ë¬´ë„ ì—†ì„ ë•Œë„ ë¹ˆ ë¦¬ìŠ¤íŠ¸ë¥¼ ë³´ë‚´ì¤˜ì•¼ í™”ë©´ì´ ê°±ì‹ ë˜ë¯€ë¡œ ì¡°ê±´ ìˆ˜ì •)
+            if current_online_ids != prev_online_ids or not prev_online_ids:
+                data = json.dumps({
+                    "online_members": [
+                        {
+                            "id": user.id,
+                            "name": user.name,
+                            "email": user.email,
+                            "profile_image": user.profile_image
+                        }
+                        for user in online_users
+                    ]
+                }, ensure_ascii=False)
+
+                yield f"data: {data}\n\n"
+                prev_online_ids = current_online_ids
+
+            # 5ì´ˆ ëŒ€ê¸°
+            await asyncio.sleep(5)
+
+    return StreamingResponse(event_generator(), media_type="text/event-stream")
 
 
 @router.post("/workspaces/{workspace_id}/invitations", response_model=InvitationResponse)

commit c86e1863045ec6002373512c09eda6e51e3ddf06
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Sat Jan 24 21:05:57 2026 +0900

    Add community api and user delete api
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/main.py b/app/main.py
index ca41da9..4fbd3a6 100644
--- a/app/main.py
+++ b/app/main.py
@@ -7,7 +7,7 @@ import asyncio
 from fastapi.staticfiles import StaticFiles
 
 #routers
-from app.routers import auth, workspace, board, schedule, file, activity, user, voice, chat, post
+from app.routers import auth, workspace, board, schedule, file, activity, user, voice, chat, post, community
 
 from fastapi.middleware.cors import CORSMiddleware
 
@@ -99,6 +99,7 @@ app.include_router(user.router, prefix="/api")
 app.include_router(voice.router)
 app.include_router(chat.router, prefix="/api")
 app.include_router(post.router, prefix="/api")
+app.include_router(community.router, prefix="/api")
 
 @app.get("/")
 def read_root():
diff --git a/app/models/community.py b/app/models/community.py
new file mode 100644
index 0000000..5df6ead
--- /dev/null
+++ b/app/models/community.py
@@ -0,0 +1,39 @@
+# app/models/community.py
+
+from datetime import datetime
+from typing import Optional, List
+from sqlmodel import SQLModel, Field, Relationship
+from app.models.user import User
+
+
+class CommunityPost(SQLModel, table=True):
+    __tablename__ = "community_posts"
+
+    id: Optional[int] = Field(default=None, primary_key=True)
+    title: str
+    content: str
+    image_url: Optional[str] = None  # âœ… ì‚¬ì§„ 1ì¥ (í•„ìˆ˜ ì•„ë‹˜, ì„ íƒ)
+
+    user_id: int = Field(foreign_key="users.id")
+    created_at: datetime = Field(default_factory=datetime.now)
+    updated_at: datetime = Field(default_factory=datetime.now)
+
+    # ì‘ì„±ì ì •ë³´ (Joinìš©)
+    user: Optional[User] = Relationship()
+    # ëŒ“ê¸€ë“¤
+    comments: List["CommunityComment"] = Relationship(back_populates="post",
+                                                      sa_relationship_kwargs={"cascade": "all, delete"})
+
+
+class CommunityComment(SQLModel, table=True):
+    __tablename__ = "community_comments"
+
+    id: Optional[int] = Field(default=None, primary_key=True)
+    content: str
+
+    post_id: int = Field(foreign_key="community_posts.id")
+    user_id: int = Field(foreign_key="users.id")
+    created_at: datetime = Field(default_factory=datetime.now)
+
+    user: Optional[User] = Relationship()
+    post: Optional[CommunityPost] = Relationship(back_populates="comments")
diff --git a/app/models/user.py b/app/models/user.py
index 4e40479..54add3b 100644
--- a/app/models/user.py
+++ b/app/models/user.py
@@ -16,6 +16,9 @@ class User(SQLModel, table=True):
 
     is_student_verified: bool = Field(default=False)
 
+    is_active: bool = Field(default=True) # íƒˆí‡´ ì‹œ Falseë¡œ ë³€ê²½
+    deleted_at: Optional[datetime] = Field(default=None) # ì–¸ì œ íƒˆí‡´í–ˆëŠ”ì§€ ê¸°ë¡
+
     last_active_at: datetime = Field(default_factory=datetime.now)
     created_at: datetime = Field(default_factory=datetime.now)
     workspaces: List["WorkspaceMember"] = Relationship(back_populates="user", sa_relationship_kwargs={"cascade": "all, delete"})
diff --git a/app/routers/community.py b/app/routers/community.py
new file mode 100644
index 0000000..3597df5
--- /dev/null
+++ b/app/routers/community.py
@@ -0,0 +1,266 @@
+# app/routers/community.py
+
+import os
+import uuid
+import shutil
+from typing import List, Optional
+from datetime import datetime
+
+from fastapi import APIRouter, Depends, HTTPException, UploadFile, File, Form
+from sqlmodel import Session, select
+from app.database import get_db
+from app.models.user import User
+from app.models.community import CommunityPost, CommunityComment
+from app.routers.workspace import get_current_user_id
+from app.schemas import CommunityPostResponse, CommunityCommentResponse, CommunityCommentCreate, CommunityPostUpdate, CommunityCommentUpdate
+from app.utils.logger import log_activity
+from vectorwave import vectorize
+
+router = APIRouter(tags=["Community"])
+
+UPLOAD_DIR = "/app/uploads/community"
+os.makedirs(UPLOAD_DIR, exist_ok=True)
+
+# ---------------------------------------------------------
+# ğŸ“‹ ê²Œì‹œê¸€ ëª©ë¡ ì¡°íšŒ (ì „ì²´ ê³µê°œ)
+# ---------------------------------------------------------
+@router.get("/community", response_model=List[CommunityPostResponse])
+@vectorize(search_description="List community posts", capture_return_value=True)
+def get_community_posts(
+        skip: int = 0,
+        limit: int = 20,
+        db: Session = Depends(get_db)
+):
+    posts = db.exec(
+        select(CommunityPost).order_by(CommunityPost.created_at.desc()).offset(skip).limit(limit)
+    ).all()
+
+    # ì‘ë‹µ ë³€í™˜ (ì‘ì„±ì ì´ë¦„ í¬í•¨)
+    results = []
+    for post in posts:
+        comments_resp = [
+            CommunityCommentResponse(
+                id=c.id, content=c.content, user_id=c.user_id,
+                user_name=c.user.name if c.user else "Unknown", created_at=c.created_at
+            ) for c in post.comments
+        ]
+        results.append(CommunityPostResponse(
+            id=post.id, title=post.title, content=post.content, image_url=post.image_url,
+            user_id=post.user_id, user_name=post.user.name if post.user else "Unknown",
+            created_at=post.created_at, updated_at=post.updated_at,
+            comments=comments_resp
+        ))
+    return results
+
+# ---------------------------------------------------------
+# ğŸ“ ê²Œì‹œê¸€ ì‘ì„± (ì‚¬ì§„ 1ì¥ í¬í•¨ ê°€ëŠ¥)
+# ---------------------------------------------------------
+@router.post("/community", response_model=CommunityPostResponse)
+@vectorize(search_description="Create community post", capture_return_value=True)
+def create_community_post(
+        title: str = Form(...),
+        content: str = Form(...),
+        file: Optional[UploadFile] = File(None),  # âœ… ì‚¬ì§„ 1ì¥ (ì„ íƒ)
+        user_id: int = Depends(get_current_user_id),
+        db: Session = Depends(get_db)
+):
+    # 1. ì´ë¯¸ì§€ ì €ì¥ ì²˜ë¦¬
+    image_url = None
+    if file:
+        if not file.content_type.startswith("image/"):
+            raise HTTPException(status_code=400, detail="ì´ë¯¸ì§€ íŒŒì¼ë§Œ ì—…ë¡œë“œ ê°€ëŠ¥í•©ë‹ˆë‹¤.")
+
+        file_ext = os.path.splitext(file.filename)[1]
+        filename = f"{uuid.uuid4().hex}{file_ext}"
+        file_path = os.path.join(UPLOAD_DIR, filename)
+
+        with open(file_path, "wb") as buffer:
+            shutil.copyfileobj(file.file, buffer)
+
+        image_url = f"/static/community/{filename}"
+
+    # 2. ê²Œì‹œê¸€ ì €ì¥
+    new_post = CommunityPost(
+        title=title,
+        content=content,
+        image_url=image_url,
+        user_id=user_id
+    )
+    db.add(new_post)
+    db.commit()
+    db.refresh(new_post)
+
+    # 3. ë¡œê·¸ ê¸°ë¡
+    user = db.get(User, user_id)
+    log_activity(
+        db=db, user_id=user_id, workspace_id=None, action_type="POST",
+        content=f"ğŸ“¢ '{user.name}'ë‹˜ì´ ì „ì²´ ê²Œì‹œíŒì— ê¸€ì„ ë‚¨ê²¼ìŠµë‹ˆë‹¤: {title}"
+    )
+
+    # 4. ì‘ë‹µ ë°˜í™˜
+    return CommunityPostResponse(
+        id=new_post.id, title=new_post.title, content=new_post.content, image_url=new_post.image_url,
+        user_id=new_post.user_id, user_name=user.name,
+        created_at=new_post.created_at, updated_at=new_post.updated_at,
+        comments=[]
+    )
+
+# ---------------------------------------------------------
+# ğŸ’¬ ëŒ“ê¸€ ì‘ì„±
+# ---------------------------------------------------------
+@router.post("/community/{post_id}/comments", response_model=CommunityCommentResponse)
+@vectorize(search_description="Add community comment", capture_return_value=True)
+def create_community_comment(
+        post_id: int,
+        comment_data: CommunityCommentCreate,
+        user_id: int = Depends(get_current_user_id),
+        db: Session = Depends(get_db)
+):
+    post = db.get(CommunityPost, post_id)
+    if not post:
+        raise HTTPException(status_code=404, detail="ê²Œì‹œê¸€ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
+
+    new_comment = CommunityComment(
+        post_id=post_id,
+        user_id=user_id,
+        content=comment_data.content
+    )
+    db.add(new_comment)
+    db.commit()
+    db.refresh(new_comment)
+
+    user = db.get(User, user_id)
+
+    # ëŒ“ê¸€ì€ ë„ˆë¬´ ìì£¼ ë‹¬ë¦´ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì¤‘ìš” ë¡œê·¸ë§Œ ë‚¨ê¸°ê±°ë‚˜ ìƒëµ ê°€ëŠ¥ (ì—¬ê¸°ì„  ìƒëµ)
+
+    return CommunityCommentResponse(
+        id=new_comment.id, content=new_comment.content, user_id=new_comment.user_id,
+        user_name=user.name, created_at=new_comment.created_at
+    )
+
+# ---------------------------------------------------------
+# ğŸ—‘ï¸ ê²Œì‹œê¸€ ì‚­ì œ
+# ---------------------------------------------------------
+@router.delete("/community/{post_id}")
+@vectorize(search_description="Delete community post", capture_return_value=True)
+def delete_community_post(
+        post_id: int,
+        user_id: int = Depends(get_current_user_id),
+        db: Session = Depends(get_db)
+):
+    post = db.get(CommunityPost, post_id)
+    if not post:
+        raise HTTPException(status_code=404, detail="ê²Œì‹œê¸€ì´ ì—†ìŠµë‹ˆë‹¤.")
+
+    if post.user_id != user_id:
+        raise HTTPException(status_code=403, detail="ì‘ì„±ìë§Œ ì‚­ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.")
+
+    # ì´ë¯¸ì§€ íŒŒì¼ë„ ì‚­ì œ (ì„ íƒ ì‚¬í•­)
+    if post.image_url:
+        try:
+            filename = os.path.basename(post.image_url)
+            file_path = os.path.join(UPLOAD_DIR, filename)
+            if os.path.exists(file_path):
+                os.remove(file_path)
+        except Exception:
+            pass # íŒŒì¼ ì‚­ì œ ì‹¤íŒ¨ëŠ” ë¬´ì‹œ
+
+    db.delete(post)
+    db.commit()
+
+    return {"message": "ê²Œì‹œê¸€ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤."}
+
+@router.delete("/community/comments/{comment_id}")
+@vectorize(search_description="Delete community comment", capture_return_value=True)
+def delete_community_comment(
+        comment_id: int,
+        user_id: int = Depends(get_current_user_id),
+        db: Session = Depends(get_db)
+):
+    # 1. ëŒ“ê¸€ ì¡°íšŒ
+    comment = db.get(CommunityComment, comment_id)
+    if not comment:
+        raise HTTPException(status_code=404, detail="ëŒ“ê¸€ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
+
+    # 2. ê¶Œí•œ ê²€ì‚¬ (ë³¸ì¸ ëŒ“ê¸€ì¸ì§€ í™•ì¸)
+    if comment.user_id != user_id:
+        raise HTTPException(status_code=403, detail="ì‘ì„±ìë§Œ ì‚­ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.")
+
+    # 3. ì‚­ì œ
+    db.delete(comment)
+    db.commit()
+
+    return {"message": "ëŒ“ê¸€ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤."}
+
+@router.patch("/community/{post_id}", response_model=CommunityPostResponse)
+@vectorize(search_description="Update community post", capture_return_value=True)
+def update_community_post(
+        post_id: int,
+        post_data: CommunityPostUpdate,
+        user_id: int = Depends(get_current_user_id),
+        db: Session = Depends(get_db)
+):
+    # 1. ê²Œì‹œê¸€ ì¡°íšŒ
+    post = db.get(CommunityPost, post_id)
+    if not post:
+        raise HTTPException(status_code=404, detail="ê²Œì‹œê¸€ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
+
+    # 2. ê¶Œí•œ ê²€ì‚¬ (ì‘ì„±ìë§Œ ìˆ˜ì • ê°€ëŠ¥)
+    if post.user_id != user_id:
+        raise HTTPException(status_code=403, detail="ì‘ì„±ìë§Œ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.")
+
+    # 3. ë°ì´í„° ì—…ë°ì´íŠ¸ (ì…ë ¥ëœ ê°’ë§Œ ë³€ê²½)
+    if post_data.title:
+        post.title = post_data.title
+    if post_data.content:
+        post.content = post_data.content
+
+    post.updated_at = datetime.now()
+
+    db.add(post)
+    db.commit()
+    db.refresh(post)
+
+    # ì‘ë‹µ í˜•ì‹ ë§ì¶”ê¸° (ëŒ“ê¸€ ëª©ë¡ í¬í•¨)
+    comments_resp = [
+        CommunityCommentResponse(
+            id=c.id, content=c.content, user_id=c.user_id,
+            user_name=c.user.name if c.user else "Unknown", created_at=c.created_at
+        ) for c in post.comments
+    ]
+
+    return CommunityPostResponse(
+        id=post.id, title=post.title, content=post.content, image_url=post.image_url,
+        user_id=post.user_id, user_name=post.user.name,
+        created_at=post.created_at, updated_at=post.updated_at,
+        comments=comments_resp
+    )
+
+@router.patch("/community/comments/{comment_id}", response_model=CommunityCommentResponse)
+@vectorize(search_description="Update community comment", capture_return_value=True)
+def update_community_comment(
+        comment_id: int,
+        comment_data: CommunityCommentUpdate,
+        user_id: int = Depends(get_current_user_id),
+        db: Session = Depends(get_db)
+):
+    # 1. ëŒ“ê¸€ ì¡°íšŒ
+    comment = db.get(CommunityComment, comment_id)
+    if not comment:
+        raise HTTPException(status_code=404, detail="ëŒ“ê¸€ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
+
+    # 2. ê¶Œí•œ ê²€ì‚¬
+    if comment.user_id != user_id:
+        raise HTTPException(status_code=403, detail="ì‘ì„±ìë§Œ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.")
+
+    # 3. ë‚´ìš© ìˆ˜ì •
+    comment.content = comment_data.content
+    db.add(comment)
+    db.commit()
+    db.refresh(comment)
+
+    return CommunityCommentResponse(
+        id=comment.id, content=comment.content, user_id=comment.user_id,
+        user_name=comment.user.name if comment.user else "Unknown",
+        created_at=comment.created_at
+    )
\ No newline at end of file
diff --git a/app/routers/user.py b/app/routers/user.py
index 5c857f3..490c567 100644
--- a/app/routers/user.py
+++ b/app/routers/user.py
@@ -10,6 +10,7 @@ from app.models.user import User
 from app.schemas import UserResponse, UserUpdate
 from vectorwave import vectorize
 from app.utils.logger import log_activity
+from datetime import datetime
 
 router = APIRouter(tags=["User"])
 
@@ -95,3 +96,22 @@ def update_my_info(
     )
 
     return user
+
+@router.delete("/users/me")
+def withdraw_user(
+        user_id: int = Depends(get_current_user_id),
+        db: Session = Depends(get_db)
+):
+    user = db.get(User, user_id)
+
+    # 1. ê°œì¸ ì •ë³´ ì‚­ì œ (ì„ íƒ)
+    user.password_hash = ""
+    user.email = f"deleted_{user.id}@anonymous.com" # ì¬ê°€ì… ë°©ì§€ìš©
+
+    # 2. ìƒíƒœ ë³€ê²½ (Soft Delete)
+    user.is_active = False
+    user.deleted_at = datetime.now()
+
+    db.add(user)
+    db.commit()
+    return {"message": "íƒˆí‡´ ì²˜ë¦¬ë˜ì—ˆìŠµë‹ˆë‹¤."}
diff --git a/app/schemas.py b/app/schemas.py
index 5e58c01..18bb6af 100644
--- a/app/schemas.py
+++ b/app/schemas.py
@@ -1,7 +1,8 @@
 from pydantic import BaseModel, EmailStr
 from datetime import time as dt_time, datetime
 from typing import Optional, List
-from pydantic import Field as PydanticField # ğŸ‘ˆ ë³„ì¹­ ì‚¬ìš©ì„ ìœ„í•´ í•„ìš”
+from pydantic import Field as PydanticField  # ğŸ‘ˆ ë³„ì¹­ ì‚¬ìš©ì„ ìœ„í•´ í•„ìš”
+
 
 # data for register
 class UserCreate(BaseModel):
@@ -68,7 +69,6 @@ class BoardColumnCreate(BaseModel):
     order: int = 0
 
 
-
 class TransformSchema(BaseModel):
     scaleX: float
     scaleY: float
@@ -91,7 +91,7 @@ class BoardColumnResponse(BaseModel):
     color: Optional[str]
     collapsed: bool
     order: int
-    project_id: int = PydanticField(serialization_alias="boardId") # project_id -> boardId
+    project_id: int = PydanticField(serialization_alias="boardId")  # project_id -> boardId
 
     # Transform ê°ì²´ ì¡°ë¦½ (DB í•„ë“œ 3ê°œ -> ê°ì²´ 1ê°œ)
     # Pydantic v2 computed_fieldë¥¼ ì“°ê±°ë‚˜, ì•„ë˜ì²˜ëŸ¼ ë³„ë„ í•„ë“œë¡œ ì •ì˜ í›„ routerì—ì„œ ì¡°ë¦½
@@ -343,20 +343,22 @@ class ProjectEventUpdate(BaseModel):
     start_datetime: Optional[datetime] = None
     end_datetime: Optional[datetime] = None
 
+
 # ğŸ”— [ìˆ˜ì •] ì¹´ë“œ ì—°ê²° ìƒì„± ìš”ì²­
 class CardConnectionCreate(BaseModel):
-    from_card_id: int = PydanticField(alias="from") # í”„ë¡ íŠ¸ì—ì„œ { "from": 1, ... } ë¡œ ë³´ëƒ„
+    from_card_id: int = PydanticField(alias="from")  # í”„ë¡ íŠ¸ì—ì„œ { "from": 1, ... } ë¡œ ë³´ëƒ„
     to_card_id: int = PydanticField(alias="to")
     style: Optional[str] = "solid"
     shape: Optional[str] = "bezier"
     source_handle: Optional[str] = PydanticField(alias="sourceHandle", default=None)
     target_handle: Optional[str] = PydanticField(alias="targetHandle", default=None)
 
+
 # ğŸ”— [ìˆ˜ì •] ì¹´ë“œ ì—°ê²° ì‘ë‹µ (í”„ë¡ íŠ¸ì—”ë“œ ì¸í„°í˜ì´ìŠ¤ì™€ 100% ì¼ì¹˜)
 class CardConnectionResponse(BaseModel):
     id: int
-    from_card_id: int = PydanticField(serialization_alias="from") # JSON ë‚˜ê°ˆë•Œ "from"ìœ¼ë¡œ ë³€í™˜
-    to_card_id: int = PydanticField(serialization_alias="to")     # JSON ë‚˜ê°ˆë•Œ "to"ë¡œ ë³€í™˜
+    from_card_id: int = PydanticField(serialization_alias="from")  # JSON ë‚˜ê°ˆë•Œ "from"ìœ¼ë¡œ ë³€í™˜
+    to_card_id: int = PydanticField(serialization_alias="to")  # JSON ë‚˜ê°ˆë•Œ "to"ë¡œ ë³€í™˜
     board_id: int = PydanticField(serialization_alias="boardId")  # JSON ë‚˜ê°ˆë•Œ "boardId"ë¡œ ë³€í™˜
     style: str
     shape: str
@@ -369,6 +371,7 @@ class TransformInput(BaseModel):
     scaleY: Optional[float] = 1.0
     rotation: Optional[float] = 0.0
 
+
 class BoardColumnUpdate(BaseModel):
     title: Optional[str] = None
 
@@ -390,6 +393,7 @@ class BoardColumnUpdate(BaseModel):
     # ë³€í™˜ (í”„ë¡ íŠ¸ì—”ë“œ { transform: { ... } } êµ¬ì¡° ëŒ€ì‘)
     transform: Optional[TransformInput] = None
 
+
 class CardConnectionUpdate(BaseModel):
     from_card_id: Optional[int] = PydanticField(alias="from", default=None)
     to_card_id: Optional[int] = PydanticField(alias="to", default=None)
@@ -399,3 +403,39 @@ class CardConnectionUpdate(BaseModel):
 
     source_handle: Optional[str] = PydanticField(alias="sourceHandle", default=None)
     target_handle: Optional[str] = PydanticField(alias="targetHandle", default=None)
+
+
+# app/schemas.py
+
+# ... (ê¸°ì¡´ ì½”ë“œ ì•„ë˜ì— ì¶”ê°€) ...
+
+class CommunityCommentResponse(BaseModel):
+    id: int
+    content: str
+    user_id: int
+    user_name: str  # ì‘ì„±ì ì´ë¦„ í¸í•˜ê²Œ ë³´ê¸° ìœ„í•¨
+    created_at: datetime
+
+
+class CommunityPostResponse(BaseModel):
+    id: int
+    title: str
+    content: str
+    image_url: Optional[str] = None
+    user_id: int
+    user_name: str
+    created_at: datetime
+    updated_at: datetime
+    comments: List[CommunityCommentResponse] = []  # ëŒ“ê¸€ ëª©ë¡ í¬í•¨
+
+
+class CommunityCommentCreate(BaseModel):
+    content: str
+
+
+class CommunityPostUpdate(BaseModel):
+    title: Optional[str] = None
+    content: Optional[str] = None
+
+class CommunityCommentUpdate(BaseModel):
+    content: str

commit cad30fa9743b5d981d3bd5e4149b7e852c5d5d26
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Sat Jan 24 19:10:45 2026 +0900

    Add nickname field to user
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/models/user.py b/app/models/user.py
index d90a212..4e40479 100644
--- a/app/models/user.py
+++ b/app/models/user.py
@@ -1,9 +1,9 @@
 from typing import Optional,List
 from datetime import datetime
-from sqlmodel import SQLModel, Field
 from sqlmodel import SQLModel, Field, Relationship
 
 
+
 class User(SQLModel, table=True):
     __tablename__ = "users"
 
@@ -11,6 +11,7 @@ class User(SQLModel, table=True):
     email: str = Field(unique=True, index=True)
     password_hash: str
     name: str
+    nickname: Optional[str] = Field(default=None)
     profile_image: Optional[str] = None
 
     is_student_verified: bool = Field(default=False)
diff --git a/app/routers/auth.py b/app/routers/auth.py
index 64efd34..d303ea4 100644
--- a/app/routers/auth.py
+++ b/app/routers/auth.py
@@ -104,6 +104,7 @@ async def signup(
         email=user_data.email,
         password_hash=hash_password(user_data.password),
         name=user_data.name,
+        nickname=user_data.nickname,
         is_student_verified=False # ğŸ‘ˆ ê¸°ë³¸ê°’ False
     )
     db.add(new_user)
diff --git a/app/routers/user.py b/app/routers/user.py
index 23d6e3f..5c857f3 100644
--- a/app/routers/user.py
+++ b/app/routers/user.py
@@ -82,6 +82,9 @@ def update_my_info(
     if user_data.name is not None:
         user.name = user_data.name
 
+    if user_data.nickname is not None:
+        user.nickname = user_data.nickname
+
     db.add(user)
     db.commit()
     db.refresh(user)
diff --git a/app/schemas.py b/app/schemas.py
index b7725c6..5e58c01 100644
--- a/app/schemas.py
+++ b/app/schemas.py
@@ -8,6 +8,7 @@ class UserCreate(BaseModel):
     email: EmailStr
     password: str
     name: str
+    nickname: Optional[str] = None
 
 
 # data for login
@@ -21,6 +22,7 @@ class UserResponse(BaseModel):
     id: int
     email: EmailStr
     name: str
+    nickname: Optional[str] = None
     is_student_verified: bool
     profile_image: Optional[str] = None
 
@@ -325,6 +327,7 @@ class ProjectUpdate(BaseModel):
 
 class UserUpdate(BaseModel):
     name: Optional[str] = None
+    nickname: Optional[str] = None
 
 
 class ScheduleUpdate(BaseModel):

commit 83e71750a576086ca8d41b11ce333cb5fb4c2c82
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Sat Jan 24 16:43:36 2026 +0900

    Add project file scan api
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/routers/file.py b/app/routers/file.py
index 7aa1ec3..19296c1 100644
--- a/app/routers/file.py
+++ b/app/routers/file.py
@@ -131,6 +131,56 @@ async def upload_file(
         )
     )
 
+@router.get("/projects/{project_id}/files", response_model=List[FileResponse])
+@vectorize(search_description="List all files in project", capture_return_value=True)
+def get_project_files(
+        project_id: int,
+        db: Session = Depends(get_db),
+        user_id: int = Depends(get_current_user_id)
+):
+    """
+    í•´ë‹¹ í”„ë¡œì íŠ¸ì— ì—…ë¡œë“œëœ ëª¨ë“  íŒŒì¼ì˜ ëª©ë¡ê³¼ ìµœì‹  ë²„ì „ ì •ë³´ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
+    """
+    # 1. í”„ë¡œì íŠ¸ ì¡´ì¬ ì—¬ë¶€ í™•ì¸
+    project = db.get(Project, project_id)
+    if not project:
+        raise HTTPException(status_code=404, detail="Project not found")
+
+    # 2. íŒŒì¼ ë©”íƒ€ë°ì´í„° ì¡°íšŒ (ìµœì‹ ìˆœ ì •ë ¬)
+    files = db.exec(
+        select(FileMetadata)
+        .where(FileMetadata.project_id == project_id)
+        .order_by(FileMetadata.created_at.desc())
+    ).all()
+
+    results = []
+    for f in files:
+        # 3. ê° íŒŒì¼ì˜ 'ìµœì‹  ë²„ì „' ì •ë³´ ê°€ì ¸ì˜¤ê¸°
+        latest_ver = db.exec(
+            select(FileVersion)
+            .where(FileVersion.file_id == f.id)
+            .order_by(desc(FileVersion.version))
+        ).first()
+
+        # ë²„ì „ ì •ë³´ê°€ ìˆëŠ” ê²½ìš°ì—ë§Œ ê²°ê³¼ì— í¬í•¨
+        if latest_ver:
+            results.append(FileResponse(
+                id=f.id,
+                project_id=f.project_id,
+                filename=f.filename,
+                owner_id=f.owner_id,
+                created_at=f.created_at,
+                latest_version=FileVersionResponse(
+                    id=latest_ver.id,
+                    version=latest_ver.version,
+                    file_size=latest_ver.file_size,
+                    created_at=latest_ver.created_at,
+                    uploader_id=latest_ver.uploader_id
+                )
+            ))
+
+    return results
+
 
 # 2. íŒŒì¼ ë‹¤ìš´ë¡œë“œ (íŠ¹ì • ë²„ì „)
 @router.get("/files/download/{version_id}")

commit bc7686de9d97dfbb48e847d26dec69fb61a5afae
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Sat Jan 24 14:45:34 2026 +0900

    Add card connection update api
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/routers/board.py b/app/routers/board.py
index 5c06aa0..c49d80d 100644
--- a/app/routers/board.py
+++ b/app/routers/board.py
@@ -9,7 +9,7 @@ from app.models.workspace import Project, WorkspaceMember
 from app.schemas import (
     BoardColumnCreate, BoardColumnResponse, CardCreate, CardResponse, CardUpdate,
     CardCommentCreate, CardCommentResponse, BoardColumnUpdate, FileResponse,
-    CardConnectionCreate, CardConnectionResponse, TransformSchema # ğŸ‘ˆ CardConnectionCreate í™•ì¸
+    CardConnectionCreate, CardConnectionResponse, TransformSchema, CardConnectionUpdate  # ğŸ‘ˆ CardConnectionCreate í™•ì¸
 )
 from datetime import datetime
 from app.utils.logger import log_activity
@@ -238,6 +238,69 @@ def create_card_connection(
         target_handle=new_dependency.target_handle
     )
 
+@router.patch("/cards/connections/{connection_id}", response_model=CardConnectionResponse)
+@vectorize(search_description="Update card connection", capture_return_value=True)
+def update_card_connection(
+        connection_id: int,
+        update_data: CardConnectionUpdate,
+        user_id: int = Depends(get_current_user_id),
+        db: Session = Depends(get_db)
+):
+    # 1. ê¸°ì¡´ ì—°ê²° ì¡°íšŒ
+    conn = db.get(CardDependency, connection_id)
+    if not conn:
+        raise HTTPException(status_code=404, detail="Connection not found")
+
+    # 2. ë³€ê²½ë  ID í™•ì¸ (ì…ë ¥ ì•ˆ ë“¤ì–´ì˜¤ë©´ ê¸°ì¡´ ID ìœ ì§€)
+    target_from_id = update_data.from_card_id if update_data.from_card_id is not None else conn.from_card_id
+    target_to_id = update_data.to_card_id if update_data.to_card_id is not None else conn.to_card_id
+
+    # 3. ìê¸° ì°¸ì¡° ë°©ì§€
+    if target_from_id == target_to_id:
+        raise HTTPException(status_code=400, detail="Cannot connect to self")
+
+    # 4. ì¹´ë“œ ë° í”„ë¡œì íŠ¸ ìœ íš¨ì„± ê²€ì‚¬
+    card_from = db.get(Card, target_from_id)
+    card_to = db.get(Card, target_to_id)
+
+    if not card_from or not card_to:
+        raise HTTPException(status_code=404, detail="One of the cards not found")
+
+    if card_from.project_id != card_to.project_id:
+        raise HTTPException(status_code=400, detail="Cards must belong to the same project")
+
+    # 5. ì—…ë°ì´íŠ¸ ìˆ˜í–‰
+    # (exclude_unset=Trueë¥¼ ì¨ì„œ í”„ë¡ íŠ¸ì—ì„œ ì•ˆ ë³´ë‚¸ ê°’ì€ ê±´ë“œë¦¬ì§€ ì•ŠìŒ)
+    data_dict = update_data.model_dump(exclude_unset=True, by_alias=False)
+
+    for key, value in data_dict.items():
+        setattr(conn, key, value)
+
+    db.add(conn)
+    db.commit()
+    db.refresh(conn)
+
+    # 6. ë¡œê·¸ ê¸°ë¡
+    project = db.get(Project, card_from.project_id)
+    user = db.get(User, user_id)
+
+    log_activity(
+        db=db, user_id=user_id, workspace_id=project.workspace_id, action_type="UPDATE",
+        content=f"ğŸ”— '{user.name}'ë‹˜ì´ ì¹´ë“œ ì—°ê²°ì„ ìˆ˜ì •í–ˆìŠµë‹ˆë‹¤."
+    )
+
+    # 7. ì‘ë‹µ ë°˜í™˜
+    return CardConnectionResponse(
+        id=conn.id,
+        from_card_id=conn.from_card_id,
+        to_card_id=conn.to_card_id,
+        board_id=project.id,
+        style=conn.style,
+        shape=conn.shape,
+        source_handle=conn.source_handle,
+        target_handle=conn.target_handle
+    )
+
 @router.delete("/cards/connections/{connection_id}")
 @vectorize(search_description="Delete card connection", capture_return_value=True)
 def delete_card_connection(
diff --git a/app/schemas.py b/app/schemas.py
index e44f225..b7725c6 100644
--- a/app/schemas.py
+++ b/app/schemas.py
@@ -385,4 +385,14 @@ class BoardColumnUpdate(BaseModel):
     order: Optional[int] = None
 
     # ë³€í™˜ (í”„ë¡ íŠ¸ì—”ë“œ { transform: { ... } } êµ¬ì¡° ëŒ€ì‘)
-    transform: Optional[TransformInput] = None
\ No newline at end of file
+    transform: Optional[TransformInput] = None
+
+class CardConnectionUpdate(BaseModel):
+    from_card_id: Optional[int] = PydanticField(alias="from", default=None)
+    to_card_id: Optional[int] = PydanticField(alias="to", default=None)
+
+    style: Optional[str] = None
+    shape: Optional[str] = None
+
+    source_handle: Optional[str] = PydanticField(alias="sourceHandle", default=None)
+    target_handle: Optional[str] = PydanticField(alias="targetHandle", default=None)

commit 0e7ac7ceef15bfc5e8d9ec0c031cb25b83081bd9
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Fri Jan 23 20:22:53 2026 +0900

    Maintain backend observation and logging
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/routers/post.py b/app/routers/post.py
index 1d3a235..8d7a6b2 100644
--- a/app/routers/post.py
+++ b/app/routers/post.py
@@ -8,12 +8,15 @@ from app.routers.workspace import get_current_user_id
 from app.models.post import Post, PostComment
 from app.models.user import User
 from app.schemas import PostCreate, PostUpdate, PostResponse, PostCommentCreate, PostCommentResponse
+from app.utils.logger import log_activity
+from app.models.workspace import Project
 
 router = APIRouter(tags=["Project Board"])
 
 
 # 1. ê²Œì‹œê¸€ ëª©ë¡ ì¡°íšŒ
 @router.get("/projects/{project_id}/posts", response_model=List[PostResponse])
+@vectorize(search_description="List project posts", capture_return_value=True) # ğŸ‘ˆ ì¶”ê°€
 def get_project_posts(project_id: int, db: Session = Depends(get_db)):
     posts = db.exec(
         select(Post).where(Post.project_id == project_id).order_by(Post.created_at.desc())
@@ -34,11 +37,20 @@ def create_post(
     db.add(new_post)
     db.commit()
     db.refresh(new_post)
+
+    user = db.get(User, user_id)
+    project = db.get(Project, project_id)
+    log_activity(
+        db=db, user_id=user_id, workspace_id=project.workspace_id, action_type="POST",
+        content=f"ğŸ“ '{user.name}'ë‹˜ì´ í”„ë¡œì íŠ¸ '{project.name}'ì— ìƒˆ ê¸€ '{new_post.title}'ì„(ë¥¼) ì˜¬ë ¸ìŠµë‹ˆë‹¤."
+    )
+
     return new_post
 
 
 # 3. ê²Œì‹œê¸€ ìƒì„¸ ì¡°íšŒ
 @router.get("/posts/{post_id}", response_model=PostResponse)
+@vectorize(search_description="Get post detail", capture_return_value=True)
 def get_post(post_id: int, db: Session = Depends(get_db)):
     post = db.get(Post, post_id)
     if not post:
@@ -48,19 +60,28 @@ def get_post(post_id: int, db: Session = Depends(get_db)):
 
 # 4. ê²Œì‹œê¸€ ì‚­ì œ
 @router.delete("/posts/{post_id}")
+@vectorize(search_description="Delete post", capture_return_value=True)
 def delete_post(post_id: int, user_id: int = Depends(get_current_user_id), db: Session = Depends(get_db)):
     post = db.get(Post, post_id)
     if not post:
         raise HTTPException(status_code=404, detail="Post not found")
     if post.user_id != user_id:
         raise HTTPException(status_code=403, detail="ì‘ì„±ìë§Œ ì‚­ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.")
+
+    user = db.get(User, user_id)
+    project = db.get(Project, post.project_id)
+    log_activity(
+        db=db, user_id=user_id, workspace_id=project.workspace_id, action_type="POST",
+        content=f"ğŸ—‘ï¸ '{user.name}'ë‹˜ì´ ê¸€ '{post.title}'ì„(ë¥¼) ì‚­ì œí–ˆìŠµë‹ˆë‹¤."
+    )
+
     db.delete(post)
     db.commit()
     return {"message": "ê²Œì‹œê¸€ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤."}
 
 
-# 5. ëŒ“ê¸€ ì‘ì„±
 @router.post("/posts/{post_id}/comments", response_model=PostCommentResponse)
+@vectorize(search_description="Create post comment", capture_return_value=True) # ğŸ‘ˆ ì¶”ê°€
 def create_post_comment(
         post_id: int,
         comment_data: PostCommentCreate,
@@ -71,10 +92,20 @@ def create_post_comment(
     db.add(comment)
     db.commit()
     db.refresh(comment)
+
+    user = db.get(User, user_id)
+    post = db.get(Post, post_id)
+    project = db.get(Project, post.project_id)
+    log_activity(
+        db=db, user_id=user_id, workspace_id=project.workspace_id, action_type="COMMENT",
+        content=f"ğŸ’¬ '{user.name}'ë‹˜ì´ ê¸€ '{post.title}'ì— ëŒ“ê¸€ì„ ë‚¨ê²¼ìŠµë‹ˆë‹¤."
+    )
+
     return comment
 
 
 @router.delete("/posts/comments/{comment_id}")
+@vectorize(search_description="Delete post comment", capture_return_value=True)
 def delete_post_comment(
         comment_id: int,
         user_id: int = Depends(get_current_user_id),
@@ -121,4 +152,11 @@ def update_post(
     db.commit()
     db.refresh(post)
 
+    user = db.get(User, user_id)
+    project = db.get(Project, post.project_id)
+    log_activity(
+        db=db, user_id=user_id, workspace_id=project.workspace_id, action_type="POST",
+        content=f"âœï¸ '{user.name}'ë‹˜ì´ ê¸€ '{post.title}'ì„(ë¥¼) ìˆ˜ì •í–ˆìŠµë‹ˆë‹¤."
+    )
+
     return post
\ No newline at end of file
diff --git a/app/routers/schedule.py b/app/routers/schedule.py
index 58a279a..5b95ef1 100644
--- a/app/routers/schedule.py
+++ b/app/routers/schedule.py
@@ -56,6 +56,12 @@ def delete_personal_schedule(
     if schedule.user_id != user_id:
         raise HTTPException(status_code=403, detail="ë³¸ì¸ì˜ ì¼ì •ë§Œ ì‚­ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.")
 
+    user = db.get(User, user_id)
+    log_activity(
+        db=db, user_id=user_id, workspace_id=None, action_type="SCHEDULE",
+        content=f"ğŸ—‘ï¸ '{user.name}'ë‹˜ì´ ê°œì¸ ì¼ì • '{schedule.description or 'ì¼ì •'}'ì„(ë¥¼) ì‚­ì œí–ˆìŠµë‹ˆë‹¤."
+    )
+
     # 3. ì‚­ì œ
     db.delete(schedule)
     db.commit()
@@ -63,6 +69,7 @@ def delete_personal_schedule(
     return {"message": "ê°œì¸ ì¼ì •ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤."}
 
 @router.get("/schedules/me", response_model=List[ScheduleResponse])
+@vectorize(search_description="Get my schedules", capture_return_value=True) # ğŸ‘ˆ ì¶”ê°€
 def get_my_schedules(
         user_id: int = Depends(get_current_user_id),
         db: Session = Depends(get_db)
@@ -187,6 +194,14 @@ def delete_project_event(
     if not event:
         raise HTTPException(status_code=404, detail="Event not found")
 
+    project = db.get(Project, event.project_id) # ë¡œê·¸ìš© í”„ë¡œì íŠ¸ ì •ë³´
+
+    user = db.get(User, user_id)
+    log_activity(
+        db=db, user_id=user_id, workspace_id=project.workspace_id, action_type="CALENDAR",
+        content=f"ğŸ—‘ï¸ '{user.name}'ë‹˜ì´ í”„ë¡œì íŠ¸ '{project.name}'ì˜ ì¼ì • '{event.title}'ì„(ë¥¼) ì‚­ì œí–ˆìŠµë‹ˆë‹¤."
+    )
+
     db.delete(event)
     db.commit()
 
@@ -220,6 +235,13 @@ def update_personal_schedule(
     db.add(schedule)
     db.commit()
     db.refresh(schedule)
+
+    user = db.get(User, user_id)
+    log_activity(
+        db=db, user_id=user_id, workspace_id=None, action_type="SCHEDULE",
+        content=f"âœï¸ '{user.name}'ë‹˜ì´ ê°œì¸ ì¼ì •ì„ ìˆ˜ì •í–ˆìŠµë‹ˆë‹¤."
+    )
+
     return schedule
 
 
@@ -252,4 +274,12 @@ def update_project_event(
     db.add(event)
     db.commit()
     db.refresh(event)
+
+    user = db.get(User, user_id)
+    project = db.get(Project, event.project_id)
+    log_activity(
+        db=db, user_id=user_id, workspace_id=project.workspace_id, action_type="CALENDAR",
+        content=f"âœï¸ '{user.name}'ë‹˜ì´ í”„ë¡œì íŠ¸ '{project.name}'ì˜ ì¼ì • '{event.title}'ì„(ë¥¼) ìˆ˜ì •í–ˆìŠµë‹ˆë‹¤."
+    )
+
     return event
diff --git a/app/routers/user.py b/app/routers/user.py
index 1afdd95..23d6e3f 100644
--- a/app/routers/user.py
+++ b/app/routers/user.py
@@ -8,7 +8,8 @@ from app.database import get_db
 from app.routers.workspace import get_current_user_id
 from app.models.user import User
 from app.schemas import UserResponse, UserUpdate
-from vectorwave import vectorize  # ë¡œê·¸/ì¶”ì ìš© (ì„ íƒ ì‚¬í•­)
+from vectorwave import vectorize
+from app.utils.logger import log_activity
 
 router = APIRouter(tags=["User"])
 
@@ -49,6 +50,11 @@ def update_profile_image(
     db.commit()
     db.refresh(user)
 
+    log_activity(
+        db=db, user_id=user_id, workspace_id=None, action_type="UPDATE",
+        content=f"ğŸ–¼ï¸ '{user.name}'ë‹˜ì´ í”„ë¡œí•„ ì‚¬ì§„ì„ ë³€ê²½í–ˆìŠµë‹ˆë‹¤."
+    )
+
     return user
 
 
@@ -80,4 +86,9 @@ def update_my_info(
     db.commit()
     db.refresh(user)
 
+    log_activity(
+        db=db, user_id=user_id, workspace_id=None, action_type="UPDATE",
+        content=f"âœï¸ '{user.name}'ë‹˜ì´ ì´ë¦„ì„ ìˆ˜ì •í–ˆìŠµë‹ˆë‹¤."
+    )
+
     return user
diff --git a/app/routers/workspace.py b/app/routers/workspace.py
index b8dd5f0..ba548fb 100644
--- a/app/routers/workspace.py
+++ b/app/routers/workspace.py
@@ -289,7 +289,6 @@ def create_invitation(
     return InvitationResponse(invite_link=invite_link, expires_at=expires_at)
 
 
-# 9. [ì‹ ê·œ] ì´ˆëŒ€ ë§í¬ ìˆ˜ë½í•˜ê¸°
 @router.post("/invitations/{token}/accept")
 @vectorize(search_description="Accept invitation", capture_return_value=True, replay=True)  # ğŸ‘ˆ ì¶”ê°€
 def accept_invitation(
@@ -335,6 +334,7 @@ def accept_invitation(
 
 
 @router.delete("/workspaces/{workspace_id}")
+@vectorize(search_description="Delete workspace", capture_return_value=True)
 def delete_workspace(
         workspace_id: int,
         user_id: int = Depends(get_current_user_id),
@@ -354,6 +354,7 @@ def delete_workspace(
 
 # 2. í”„ë¡œì íŠ¸ ì‚­ì œ
 @router.delete("/projects/{project_id}")
+@vectorize(search_description="Delete project", capture_return_value=True)
 def delete_project(
         project_id: int,
         user_id: int = Depends(get_current_user_id),
@@ -368,6 +369,12 @@ def delete_project(
     if workspace.owner_id != user_id:
         raise HTTPException(status_code=403, detail="ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ì†Œìœ ìë§Œ í”„ë¡œì íŠ¸ë¥¼ ì‚­ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.")
 
+    user = db.get(User, user_id)
+    log_activity(
+        db=db, user_id=user_id, workspace_id=workspace.id, action_type="DELETE",
+        content=f"ğŸ—‘ï¸ '{user.name}'ë‹˜ì´ í”„ë¡œì íŠ¸ '{project.name}'ì„(ë¥¼) ì‚­ì œí–ˆìŠµë‹ˆë‹¤."
+    )
+
     db.delete(project)
     db.commit()
     return {"message": "í”„ë¡œì íŠ¸ê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤."}
@@ -375,6 +382,7 @@ def delete_project(
 
 # 3. ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ë©¤ë²„ ì‚­ì œ (ê°•í‡´ ë˜ëŠ” ë³¸ì¸ íƒˆí‡´)
 @router.delete("/workspaces/{workspace_id}/members/{target_user_id}")
+@vectorize(search_description="Remove workspace member", capture_return_value=True)  # ğŸ‘ˆ ì¶”ê°€
 def remove_workspace_member(
         workspace_id: int,
         target_user_id: int,
@@ -406,12 +414,23 @@ def remove_workspace_member(
     if not member:
         raise HTTPException(status_code=404, detail="í•´ë‹¹ ë©¤ë²„ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
 
+    actor = db.get(User, user_id)
+    target = db.get(User, target_user_id)
+    action_type = "LEAVE" if user_id == target_user_id else "KICK"
+    content = f"ğŸ‘‹ '{target.name}'ë‹˜ì´ ë‚˜ê°”ìŠµë‹ˆë‹¤." if user_id == target_user_id else f"ğŸš« '{actor.name}'ë‹˜ì´ '{target.name}'ë‹˜ì„ ë‚´ë³´ëƒˆìŠµë‹ˆë‹¤."
+
+    log_activity(
+        db=db, user_id=user_id, workspace_id=workspace_id, action_type=action_type,
+        content=content
+    )
+
     db.delete(member)
     db.commit()
 
     action = "íƒˆí‡´" if user_id == target_user_id else "ê°•í‡´"
     return {"message": f"ë©¤ë²„ê°€ ì„±ê³µì ìœ¼ë¡œ {action}ì²˜ë¦¬ ë˜ì—ˆìŠµë‹ˆë‹¤."}
 
+
 @router.patch("/workspaces/{workspace_id}", response_model=WorkspaceResponse)
 @vectorize(search_description="Update workspace info", capture_return_value=True)
 def update_workspace(
@@ -439,6 +458,12 @@ def update_workspace(
     db.commit()
     db.refresh(workspace)
 
+    user = db.get(User, user_id)
+    log_activity(
+        db=db, user_id=user_id, workspace_id=workspace_id, action_type="UPDATE",
+        content=f"âš™ï¸ '{user.name}'ë‹˜ì´ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ì •ë³´ë¥¼ ìˆ˜ì •í–ˆìŠµë‹ˆë‹¤."
+    )
+
     return workspace
 
 
@@ -472,4 +497,10 @@ def update_project(
     db.commit()
     db.refresh(project)
 
+    user = db.get(User, user_id)
+    log_activity(
+        db=db, user_id=user_id, workspace_id=project.workspace_id, action_type="UPDATE",
+        content=f"âš™ï¸ '{user.name}'ë‹˜ì´ í”„ë¡œì íŠ¸ '{project.name}' ì •ë³´ë¥¼ ìˆ˜ì •í–ˆìŠµë‹ˆë‹¤."
+    )
+
     return project

commit 59f530ad6f29d8fd332a00045ed6edfe53662649
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Fri Jan 23 00:42:36 2026 +0900

    Fix cardconnectionresponse alias type error
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/schemas.py b/app/schemas.py
index e9f5549..e44f225 100644
--- a/app/schemas.py
+++ b/app/schemas.py
@@ -357,8 +357,8 @@ class CardConnectionResponse(BaseModel):
     board_id: int = PydanticField(serialization_alias="boardId")  # JSON ë‚˜ê°ˆë•Œ "boardId"ë¡œ ë³€í™˜
     style: str
     shape: str
-    source_handle: Optional[str] = PydanticField(alias="sourceHandle", default=None)
-    target_handle: Optional[str] = PydanticField(alias="targetHandle", default=None)
+    source_handle: Optional[str] = PydanticField(serialization_alias="sourceHandle", default=None)
+    target_handle: Optional[str] = PydanticField(serialization_alias="targetHandle", default=None)
 
 
 class TransformInput(BaseModel):

commit 78a87644dce6e96b273b8f7717af351ca969f115
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Fri Jan 23 00:14:18 2026 +0900

    Add card connection location api
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/models/board.py b/app/models/board.py
index 533d6b6..fbe9447 100644
--- a/app/models/board.py
+++ b/app/models/board.py
@@ -31,6 +31,9 @@ class CardDependency(SQLModel, table=True):
     style: str = Field(default="solid")   # solid, dashed, dotted
     shape: str = Field(default="bezier")  # bezier, straight, step
 
+    source_handle: Optional[str] = Field(default=None)
+    target_handle: Optional[str] = Field(default=None)
+
 
 # 1. ë³´ë“œ ì»¬ëŸ¼ (ì˜ˆ: í•  ì¼, ì§„í–‰ ì¤‘, ì™„ë£Œ)
 class BoardColumn(SQLModel, table=True):
diff --git a/app/routers/board.py b/app/routers/board.py
index deb52d4..5c06aa0 100644
--- a/app/routers/board.py
+++ b/app/routers/board.py
@@ -173,7 +173,9 @@ def get_project_connections(project_id: int, db: Session = Depends(get_db)):
             to_card_id=conn.to_card_id,
             board_id=project_id,
             style=conn.style if hasattr(conn, 'style') else "solid",
-            shape=conn.shape if hasattr(conn, 'shape') else "bezier"
+            shape=conn.shape if hasattr(conn, 'shape') else "bezier",
+            source_handle=conn.source_handle,
+            target_handle=conn.target_handle
         ))
     return results
 
@@ -200,7 +202,9 @@ def create_card_connection(
         to_card_id=to_card.id,
         dependency_type="finish_to_start", # ê¸°ë³¸ê°’
         style="solid",   # ê¸°ë³¸ê°’ (í•„ìš”ì‹œ connection_dataì—ì„œ ë°›ì•„ì˜¤ë„ë¡ ìˆ˜ì • ê°€ëŠ¥)
-        shape="bezier"   # ê¸°ë³¸ê°’
+        shape="bezier",   # ê¸°ë³¸ê°’
+        source_handle=connection_data.source_handle,
+        target_handle=connection_data.target_handle
     )
 
     # ë§Œì•½ í”„ë¡ íŠ¸ì—ì„œ style/shapeë¥¼ ë³´ë‚´ì¤€ë‹¤ë©´ ì—¬ê¸°ì„œ ë®ì–´ì“°ê¸°
@@ -229,7 +233,9 @@ def create_card_connection(
         to_card_id=new_dependency.to_card_id,
         board_id=from_card.project_id,
         style=new_dependency.style,
-        shape=new_dependency.shape
+        shape=new_dependency.shape,
+        source_handle=new_dependency.source_handle,
+        target_handle=new_dependency.target_handle
     )
 
 @router.delete("/cards/connections/{connection_id}")
diff --git a/app/schemas.py b/app/schemas.py
index 0ef213f..e9f5549 100644
--- a/app/schemas.py
+++ b/app/schemas.py
@@ -346,6 +346,8 @@ class CardConnectionCreate(BaseModel):
     to_card_id: int = PydanticField(alias="to")
     style: Optional[str] = "solid"
     shape: Optional[str] = "bezier"
+    source_handle: Optional[str] = PydanticField(alias="sourceHandle", default=None)
+    target_handle: Optional[str] = PydanticField(alias="targetHandle", default=None)
 
 # ğŸ”— [ìˆ˜ì •] ì¹´ë“œ ì—°ê²° ì‘ë‹µ (í”„ë¡ íŠ¸ì—”ë“œ ì¸í„°í˜ì´ìŠ¤ì™€ 100% ì¼ì¹˜)
 class CardConnectionResponse(BaseModel):
@@ -355,6 +357,8 @@ class CardConnectionResponse(BaseModel):
     board_id: int = PydanticField(serialization_alias="boardId")  # JSON ë‚˜ê°ˆë•Œ "boardId"ë¡œ ë³€í™˜
     style: str
     shape: str
+    source_handle: Optional[str] = PydanticField(alias="sourceHandle", default=None)
+    target_handle: Optional[str] = PydanticField(alias="targetHandle", default=None)
 
 
 class TransformInput(BaseModel):

commit 19afd775a7fad14b44172c9ed758433f6ea38ffc
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Fri Jan 23 00:06:14 2026 +0900

    Change create card connection reponse
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/routers/board.py b/app/routers/board.py
index 3d06f29..deb52d4 100644
--- a/app/routers/board.py
+++ b/app/routers/board.py
@@ -177,10 +177,10 @@ def get_project_connections(project_id: int, db: Session = Depends(get_db)):
         ))
     return results
 
-@router.post("/cards/connections")
+@router.post("/cards/connections", response_model=CardConnectionResponse) # ğŸ‘ˆ ë°˜í™˜ ëª¨ë¸ ë³€ê²½
 @vectorize(search_description="Create dependency between cards", capture_return_value=True)
 def create_card_connection(
-        connection_data: CardConnectionCreate,  # âœ… [ìˆ˜ì •] ì˜¬ë°”ë¥¸ ìŠ¤í‚¤ë§ˆ ì‚¬ìš©
+        connection_data: CardConnectionCreate,
         user_id: int = Depends(get_current_user_id),
         db: Session = Depends(get_db)
 ):
@@ -190,7 +190,7 @@ def create_card_connection(
     if not from_card or not to_card:
         raise HTTPException(status_code=404, detail="ì¹´ë“œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
 
-    # âœ… [ìˆ˜ì •] ì»¬ëŸ¼ ê±°ì¹˜ì§€ ì•Šê³  ì¹´ë“œ.project_id ì§ì ‘ ë¹„êµ (ë°±ë¡œê·¸ ì¹´ë“œ ì§€ì›)
+    # ì»¬ëŸ¼ ê±°ì¹˜ì§€ ì•Šê³  ì¹´ë“œ.project_id ì§ì ‘ ë¹„êµ (ë°±ë¡œê·¸ ì¹´ë“œ ì§€ì›)
     if from_card.project_id != to_card.project_id:
         raise HTTPException(status_code=400, detail="ë‹¤ë¥¸ í”„ë¡œì íŠ¸ì˜ ì¹´ë“œë¼ë¦¬ëŠ” ì—°ê²°í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
 
@@ -198,8 +198,17 @@ def create_card_connection(
     new_dependency = CardDependency(
         from_card_id=from_card.id,
         to_card_id=to_card.id,
-        dependency_type="finish_to_start" # âœ… ê¸°ë³¸ê°’ ê³ ì • (ìŠ¤í‚¤ë§ˆì— ì—†ìŒ)
+        dependency_type="finish_to_start", # ê¸°ë³¸ê°’
+        style="solid",   # ê¸°ë³¸ê°’ (í•„ìš”ì‹œ connection_dataì—ì„œ ë°›ì•„ì˜¤ë„ë¡ ìˆ˜ì • ê°€ëŠ¥)
+        shape="bezier"   # ê¸°ë³¸ê°’
     )
+
+    # ë§Œì•½ í”„ë¡ íŠ¸ì—ì„œ style/shapeë¥¼ ë³´ë‚´ì¤€ë‹¤ë©´ ì—¬ê¸°ì„œ ë®ì–´ì“°ê¸°
+    if hasattr(connection_data, "style") and connection_data.style:
+        new_dependency.style = connection_data.style
+    if hasattr(connection_data, "shape") and connection_data.shape:
+        new_dependency.shape = connection_data.shape
+
     db.add(new_dependency)
     db.commit()
     db.refresh(new_dependency)
@@ -213,7 +222,15 @@ def create_card_connection(
         content=f"ğŸ”— '{user.name}'ë‹˜ì´ ì¹´ë“œ '{from_card.title}'ì™€(ê³¼) '{to_card.title}'ì„(ë¥¼) ì—°ê²°í–ˆìŠµë‹ˆë‹¤."
     )
 
-    return {"message": "ì¹´ë“œê°€ ì—°ê²°ë˜ì—ˆìŠµë‹ˆë‹¤."}
+    # âœ… [ìˆ˜ì •] í”„ë¡ íŠ¸ì—”ë“œê°€ ì›í•˜ëŠ” ê°ì²´ ë°˜í™˜
+    return CardConnectionResponse(
+        id=new_dependency.id,
+        from_card_id=new_dependency.from_card_id,
+        to_card_id=new_dependency.to_card_id,
+        board_id=from_card.project_id,
+        style=new_dependency.style,
+        shape=new_dependency.shape
+    )
 
 @router.delete("/cards/connections/{connection_id}")
 @vectorize(search_description="Delete card connection", capture_return_value=True)

commit 16fa06abfc10ae67b8f9efdc67396539e3148e61
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Thu Jan 22 23:58:40 2026 +0900

    Fix card connection bug
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/routers/board.py b/app/routers/board.py
index 984c745..3d06f29 100644
--- a/app/routers/board.py
+++ b/app/routers/board.py
@@ -1,26 +1,29 @@
+# app/routers/board.py
 from fastapi import APIRouter, Depends, HTTPException
 from sqlmodel import Session, select
 from typing import List
 from app.database import get_db
-from app.routers.workspace import get_current_user_id  # ê¸°ì¡´ ì¸ì¦ í•¨ìˆ˜ ì¬ì‚¬ìš©
+from app.routers.workspace import get_current_user_id
 from app.models.board import BoardColumn, Card, CardAssignee
 from app.models.workspace import Project, WorkspaceMember
-from app.schemas import BoardColumnCreate, BoardColumnResponse, CardCreate, CardResponse, CardUpdate, CardCommentCreate, \
-    CardCommentResponse, BoardColumnUpdate
+from app.schemas import (
+    BoardColumnCreate, BoardColumnResponse, CardCreate, CardResponse, CardUpdate,
+    CardCommentCreate, CardCommentResponse, BoardColumnUpdate, FileResponse,
+    CardConnectionCreate, CardConnectionResponse, TransformSchema # ğŸ‘ˆ CardConnectionCreate í™•ì¸
+)
 from datetime import datetime
 from app.utils.logger import log_activity
 from app.models.user import User
-from app.models.workspace import Project
 from app.models.file import FileMetadata
 from app.models.board import CardFileLink, CardComment, CardDependency
-from app.schemas import FileResponse
 from vectorwave import *
-from app.schemas import CardConnectionCreate, CardConnectionResponse, TransformSchema
 
 router = APIRouter(tags=["Board & Cards"])
 
+# =================================================================
+# 1. ì»¬ëŸ¼(Group) ê´€ë ¨ API
+# =================================================================
 
-# 1. ì»¬ëŸ¼ ìƒì„±
 @router.post("/projects/{project_id}/columns", response_model=BoardColumnResponse)
 @vectorize(search_description="Create board column (Group)", capture_return_value=True, replay=True)
 def create_column(
@@ -32,24 +35,15 @@ def create_column(
     project = db.get(Project, project_id)
     if not project: raise HTTPException(status_code=404, detail="Project not found")
 
-    if col_data.parent_id == 0:
-        col_data.parent_id = None
+    if col_data.parent_id == 0: col_data.parent_id = None
 
-    # DB ëª¨ë¸ ìƒì„± (col_dataì˜ aliasë“¤ì´ ìë™ìœ¼ë¡œ ë§¤í•‘ë¨)
-    # by_alias=Falseë¡œ í•´ì•¼ íŒŒì´ì¬ ë³€ìˆ˜ëª…(local_x)ìœ¼ë¡œ ë¤í”„ë¨
-    new_col = BoardColumn(
-        **col_data.model_dump(by_alias=False),
-        project_id=project_id
-    )
-
-    if new_col.parent_id == 0:
-        new_col.parent_id = None
+    new_col = BoardColumn(**col_data.model_dump(by_alias=False), project_id=project_id)
+    if new_col.parent_id == 0: new_col.parent_id = None
 
     db.add(new_col)
     db.commit()
     db.refresh(new_col)
 
-    # ì‘ë‹µ ê°ì²´ ìˆ˜ë™ êµ¬ì„± (transform ì¡°ë¦½)
     return BoardColumnResponse(
         id=new_col.id,
         title=new_col.title,
@@ -78,31 +72,23 @@ def update_column(
         db: Session = Depends(get_db)
 ):
     col = db.get(BoardColumn, column_id)
-    if not col:
-        raise HTTPException(status_code=404, detail="Column not found")
+    if not col: raise HTTPException(status_code=404, detail="Column not found")
 
-    # 1. ì¼ë°˜ í•„ë“œ ì—…ë°ì´íŠ¸ (transform ì œì™¸)
-    # exclude_unset=True: í”„ë¡ íŠ¸ì—ì„œ ë³´ë‚´ì§€ ì•Šì€ í•„ë“œëŠ” ê±´ë“œë¦¬ì§€ ì•ŠìŒ (í•µì‹¬!)
     update_dict = col_data.model_dump(exclude_unset=True, by_alias=False, exclude={"transform"})
-
     for key, value in update_dict.items():
         setattr(col, key, value)
 
-    # 2. Transform ê°ì²´ ë³„ë„ ì²˜ë¦¬ (ë“¤ì–´ì™”ì„ ê²½ìš°ì—ë§Œ)
     if col_data.transform:
         if col_data.transform.scaleX is not None: col.scale_x = col_data.transform.scaleX
         if col_data.transform.scaleY is not None: col.scale_y = col_data.transform.scaleY
         if col_data.transform.rotation is not None: col.rotation = col_data.transform.rotation
 
-    # 3. parent_idê°€ 0ìœ¼ë¡œ ë“¤ì–´ì˜¤ë©´ Noneìœ¼ë¡œ ë³´ì • (ìµœìƒìœ„ ì´ë™ ì‹œ)
-    if col.parent_id == 0:
-        col.parent_id = None
+    if col.parent_id == 0: col.parent_id = None
 
     db.add(col)
     db.commit()
     db.refresh(col)
 
-    # ì‘ë‹µ ì¡°ë¦½
     return BoardColumnResponse(
         id=col.id,
         title=col.title,
@@ -123,6 +109,141 @@ def update_column(
         )
     )
 
+@router.delete("/columns/{column_id}")
+@vectorize(search_description="Delete board column (Preserve cards)", capture_return_value=True)
+def delete_column(
+        column_id: int,
+        user_id: int = Depends(get_current_user_id),
+        db: Session = Depends(get_db)
+):
+    column = db.get(BoardColumn, column_id)
+    if not column: raise HTTPException(status_code=404, detail="Column not found")
+
+    project = db.get(Project, column.project_id)
+    col_title = column.title
+    card_count = len(column.cards)
+
+    # ì¹´ë“œ ëŒ€í”¼ (column_id = None)
+    for card in column.cards:
+        card.column_id = None
+        db.add(card)
+    db.commit() # ëŒ€í”¼ ë‚´ìš© ì €ì¥
+
+    # ì»¬ëŸ¼ ì‚­ì œ
+    db.refresh(column)
+    db.delete(column)
+    db.commit()
+
+    if project:
+        user = db.get(User, user_id)
+        log_activity(
+            db=db, user_id=user_id, workspace_id=project.workspace_id, action_type="DELETE",
+            content=f"ğŸ—‘ï¸ '{user.name}'ë‹˜ì´ ê·¸ë£¹ '{col_title}'ì„(ë¥¼) ì‚­ì œí–ˆìŠµë‹ˆë‹¤. (ì¹´ë“œ {card_count}ê°œëŠ” ë³´ê´€ë¨)"
+        )
+
+    return {"message": "ê·¸ë£¹ì´ ì‚­ì œë˜ì—ˆìœ¼ë©°, í¬í•¨ëœ ì¹´ë“œë“¤ì€ ë³´ê´€í•¨ìœ¼ë¡œ ì´ë™ë˜ì—ˆìŠµë‹ˆë‹¤."}
+
+
+@router.get("/projects/{project_id}/columns", response_model=List[BoardColumnResponse])
+def get_project_columns(project_id: int, db: Session = Depends(get_db)):
+    columns = db.exec(select(BoardColumn).where(BoardColumn.project_id == project_id).order_by(BoardColumn.order)).all()
+    return columns
+
+
+# =================================================================
+# 2. ì¹´ë“œ ì—°ê²°(Connections) API
+# ğŸš¨ [ì¤‘ìš”] /cards/{card_id} ë³´ë‹¤ ìƒìœ„ì— ìœ„ì¹˜í•´ì•¼ í•¨ (ë¼ìš°íŒ… ìˆœì„œ ë¬¸ì œ í•´ê²°)
+# =================================================================
+
+@router.get("/projects/{project_id}/connections", response_model=List[CardConnectionResponse])
+@vectorize(search_description="Get project card connections", capture_return_value=True)
+def get_project_connections(project_id: int, db: Session = Depends(get_db)):
+    statement = (
+        select(CardDependency)
+        .join(Card, CardDependency.from_card_id == Card.id)
+        .where(Card.project_id == project_id) # âœ… ì»¬ëŸ¼ ì¡°ì¸ ì—†ì´ ì¹´ë“œì—ì„œ ë°”ë¡œ í”„ë¡œì íŠ¸ í™•ì¸
+    )
+    connections = db.exec(statement).all()
+
+    results = []
+    for conn in connections:
+        results.append(CardConnectionResponse(
+            id=conn.id,
+            from_card_id=conn.from_card_id,
+            to_card_id=conn.to_card_id,
+            board_id=project_id,
+            style=conn.style if hasattr(conn, 'style') else "solid",
+            shape=conn.shape if hasattr(conn, 'shape') else "bezier"
+        ))
+    return results
+
+@router.post("/cards/connections")
+@vectorize(search_description="Create dependency between cards", capture_return_value=True)
+def create_card_connection(
+        connection_data: CardConnectionCreate,  # âœ… [ìˆ˜ì •] ì˜¬ë°”ë¥¸ ìŠ¤í‚¤ë§ˆ ì‚¬ìš©
+        user_id: int = Depends(get_current_user_id),
+        db: Session = Depends(get_db)
+):
+    from_card = db.get(Card, connection_data.from_card_id)
+    to_card = db.get(Card, connection_data.to_card_id)
+
+    if not from_card or not to_card:
+        raise HTTPException(status_code=404, detail="ì¹´ë“œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
+
+    # âœ… [ìˆ˜ì •] ì»¬ëŸ¼ ê±°ì¹˜ì§€ ì•Šê³  ì¹´ë“œ.project_id ì§ì ‘ ë¹„êµ (ë°±ë¡œê·¸ ì¹´ë“œ ì§€ì›)
+    if from_card.project_id != to_card.project_id:
+        raise HTTPException(status_code=400, detail="ë‹¤ë¥¸ í”„ë¡œì íŠ¸ì˜ ì¹´ë“œë¼ë¦¬ëŠ” ì—°ê²°í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
+
+    # ì—°ê²° ìƒì„±
+    new_dependency = CardDependency(
+        from_card_id=from_card.id,
+        to_card_id=to_card.id,
+        dependency_type="finish_to_start" # âœ… ê¸°ë³¸ê°’ ê³ ì • (ìŠ¤í‚¤ë§ˆì— ì—†ìŒ)
+    )
+    db.add(new_dependency)
+    db.commit()
+    db.refresh(new_dependency)
+
+    # ë¡œê·¸ ê¸°ë¡
+    project = db.get(Project, from_card.project_id)
+    user = db.get(User, user_id)
+
+    log_activity(
+        db=db, user_id=user_id, workspace_id=project.workspace_id, action_type="UPDATE",
+        content=f"ğŸ”— '{user.name}'ë‹˜ì´ ì¹´ë“œ '{from_card.title}'ì™€(ê³¼) '{to_card.title}'ì„(ë¥¼) ì—°ê²°í–ˆìŠµë‹ˆë‹¤."
+    )
+
+    return {"message": "ì¹´ë“œê°€ ì—°ê²°ë˜ì—ˆìŠµë‹ˆë‹¤."}
+
+@router.delete("/cards/connections/{connection_id}")
+@vectorize(search_description="Delete card connection", capture_return_value=True)
+def delete_card_connection(
+        connection_id: int, db: Session = Depends(get_db), user_id: int = Depends(get_current_user_id)
+):
+    connection = db.get(CardDependency, connection_id)
+    if not connection: raise HTTPException(status_code=404, detail="Connection not found")
+    db.delete(connection)
+    db.commit()
+    return {"message": "ì—°ê²°ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤."}
+
+
+# ğŸš¨ [ì¤‘ìš”] /cards/comments/... ë„ /cards/{card_id}ë³´ë‹¤ ìœ„ì— ìˆì–´ì•¼ ì•ˆì „í•¨
+@router.delete("/cards/comments/{comment_id}")
+def delete_comment(
+        comment_id: int, user_id: int = Depends(get_current_user_id), db: Session = Depends(get_db)
+):
+    comment = db.get(CardComment, comment_id)
+    if not comment: raise HTTPException(status_code=404, detail="Comment not found")
+    if comment.user_id != user_id: raise HTTPException(status_code=403, detail="ì‘ì„±ìë§Œ ì‚­ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.")
+
+    db.delete(comment)
+    db.commit()
+    return {"message": "ëŒ“ê¸€ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤."}
+
+
+# =================================================================
+# 3. ì¹´ë“œ(Card) API
+# =================================================================
 
 @router.post("/projects/{project_id}/cards", response_model=CardResponse)
 @vectorize(search_description="Create card in project", capture_return_value=True, replay=True)
@@ -132,38 +253,27 @@ def create_card(
         user_id: int = Depends(get_current_user_id),
         db: Session = Depends(get_db)
 ):
-    # 1. í”„ë¡œì íŠ¸ í™•ì¸
     project = db.get(Project, project_id)
-    if not project:
-        raise HTTPException(status_code=404, detail="í”„ë¡œì íŠ¸ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
+    if not project: raise HTTPException(status_code=404, detail="Project not found")
 
-    # âœ… [ìˆ˜ì • í¬ì¸íŠ¸ 1] 0ì´ë‚˜ ë¹ˆ ê°’ì´ ë“¤ì–´ì˜¤ë©´ Noneìœ¼ë¡œ ë³€í™˜ (ì´ê²Œ í•µì‹¬!)
-    # (Pythonì—ì„œ 0ì€ Falseë¡œ ì·¨ê¸‰ë˜ë¯€ë¡œ, ì´ ì¡°ê±´ë¬¸ í•˜ë‚˜ë¡œ 0ê³¼ Noneì„ ëª¨ë‘ ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.)
     final_column_id = card_data.column_id if card_data.column_id else None
 
-    # 2. ì»¬ëŸ¼ IDê°€ ìœ íš¨í•œ ê°’(1 ì´ìƒ)ì¼ ë•Œë§Œ DB ì¡°íšŒ ë° ê²€ì‚¬
     if final_column_id:
         column = db.get(BoardColumn, final_column_id)
-        if not column:
-            raise HTTPException(status_code=404, detail="ì§€ì •ëœ ì»¬ëŸ¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
-        if column.project_id != project_id:
-            raise HTTPException(status_code=400, detail="í•´ë‹¹ ì»¬ëŸ¼ì€ ì´ í”„ë¡œì íŠ¸ì— ì†í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.")
+        if not column: raise HTTPException(status_code=404, detail="ì§€ì •ëœ ì»¬ëŸ¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
+        if column.project_id != project_id: raise HTTPException(status_code=400, detail="í•´ë‹¹ ì»¬ëŸ¼ì€ ì´ í”„ë¡œì íŠ¸ì— ì†í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.")
 
-    # 3. ì¹´ë“œ ìƒì„±
     new_card = Card(
         title=card_data.title,
         content=card_data.content,
         project_id=project_id,
-        column_id=final_column_id,  # âœ… [ìˆ˜ì • í¬ì¸íŠ¸ 2] ë³€í™˜ëœ ê°’(None) ì‚¬ìš©
+        column_id=final_column_id,
         order=card_data.order,
-        x=card_data.x,
-        y=card_data.y,
+        x=card_data.x, y=card_data.y,
         card_type=card_data.card_type,
-        start_date=card_data.start_date,
-        due_date=card_data.due_date
+        start_date=card_data.start_date, due_date=card_data.due_date
     )
 
-    # ë‹´ë‹¹ì ì—°ê²°
     if card_data.assignee_ids:
         users = db.exec(select(User).where(User.id.in_(card_data.assignee_ids))).all()
         new_card.assignees = users
@@ -172,140 +282,47 @@ def create_card(
     db.commit()
     db.refresh(new_card)
 
-    # ë¡œê·¸ ê¸°ë¡
     user = db.get(User, user_id)
     location = f"'{project.name}' í”„ë¡œì íŠ¸"
-    if final_column_id: # column_id ëŒ€ì‹  final_column_id ì²´í¬
-        # column ë³€ìˆ˜ê°€ ìœ„ ifë¬¸ ìŠ¤ì½”í”„ ì•ˆì— ìˆìœ¼ë¯€ë¡œ ë‹¤ì‹œ ì¡°íšŒí•˜ê±°ë‚˜ ë¡œì§ ì¡°ì • í•„ìš”
-        # ê°„ë‹¨í•˜ê²Œ ë‹¤ì‹œ ì¡°íšŒ
+    if final_column_id:
         col = db.get(BoardColumn, final_column_id)
-        if col:
-            location += f"ì˜ '{col.title}' ì»¬ëŸ¼"
+        if col: location += f"ì˜ '{col.title}' ì»¬ëŸ¼"
 
     log_activity(
-        db=db,
-        user_id=user_id,
-        workspace_id=project.workspace_id,
-        action_type="CREATE",
+        db=db, user_id=user_id, workspace_id=project.workspace_id, action_type="CREATE",
         content=f"ğŸ“ '{user.name}'ë‹˜ì´ {location}ì— ì¹´ë“œ '{new_card.title}'ì„(ë¥¼) ìƒì„±í–ˆìŠµë‹ˆë‹¤."
     )
-
     return new_card
 
-@router.delete("/columns/{column_id}")
-@vectorize(search_description="Delete board column (Preserve cards)", capture_return_value=True)
-def delete_column(
-        column_id: int,
-        user_id: int = Depends(get_current_user_id),
-        db: Session = Depends(get_db)
-):
-    """
-    ì»¬ëŸ¼(ê·¸ë£¹)ì„ ì‚­ì œí•©ë‹ˆë‹¤.
-    âœ… ë³€ê²½ì : ì»¬ëŸ¼ ì•ˆì— ìˆë˜ ì¹´ë“œë“¤ì€ ì‚­ì œë˜ì§€ ì•Šê³  'ë°±ë¡œê·¸(Unassigned)' ìƒíƒœë¡œ ë³€ê²½ë©ë‹ˆë‹¤.
-    """
-    # 1. ì»¬ëŸ¼ ì¡°íšŒ
-    column = db.get(BoardColumn, column_id)
-    if not column:
-        raise HTTPException(status_code=404, detail="Column not found")
-
-    project = db.get(Project, column.project_id)
-    col_title = column.title
-    card_count = len(column.cards)
-
-    # 2. [í•µì‹¬] ì¹´ë“œ ëŒ€í”¼ì‹œí‚¤ê¸° (column_id = None)
-    # ëª¨ë¸ì— cascade="all, delete"ê°€ ê±¸ë ¤ ìˆì–´ë„,
-    # ê´€ê³„ë¥¼ ë¨¼ì € ëŠê³ (None) ì»¤ë°‹í•˜ë©´ ì‚­ì œë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
-    for card in column.cards:
-        card.column_id = None
-        db.add(card)
-
-    # ì¹´ë“œë¥¼ ë¨¼ì € ëŒ€í”¼ì‹œí‚¨ ë‚´ìš©ì„ ì €ì¥ (í•„ìˆ˜!)
-    db.commit()
-
-    # 3. ì´ì œ ë¹ˆ ê»ë°ê¸°ê°€ ëœ ì»¬ëŸ¼ ì‚­ì œ
-    db.refresh(column) # ê´€ê³„ ê°±ì‹ 
-    db.delete(column)
-    db.commit()
-
-    # 4. í™œë™ ë¡œê·¸ ê¸°ë¡
-    if project:
-        user = db.get(User, user_id)
-        log_activity(
-            db=db,
-            user_id=user_id,
-            workspace_id=project.workspace_id,
-            action_type="DELETE",
-            # ë¡œê·¸ ë©”ì‹œì§€ë„ ìƒí™©ì— ë§ê²Œ ì¡°ê¸ˆ ë” ìƒì„¸í•˜ê²Œ ì ì–´ì£¼ë©´ ì¢‹ìŠµë‹ˆë‹¤.
-            content=f"ğŸ—‘ï¸ '{user.name}'ë‹˜ì´ ê·¸ë£¹ '{col_title}'ì„(ë¥¼) ì‚­ì œí–ˆìŠµë‹ˆë‹¤. (ì¹´ë“œ {card_count}ê°œëŠ” ë³´ê´€ë¨)"
-        )
-
-    return {"message": "ê·¸ë£¹ì´ ì‚­ì œë˜ì—ˆìœ¼ë©°, í¬í•¨ëœ ì¹´ë“œë“¤ì€ ë³´ê´€í•¨ìœ¼ë¡œ ì´ë™ë˜ì—ˆìŠµë‹ˆë‹¤."}
-
-
-# 3. íŠ¹ì • í”„ë¡œì íŠ¸ì˜ ëª¨ë“  ì»¬ëŸ¼ ë° ì¹´ë“œ ì¡°íšŒ
 @router.get("/projects/{project_id}/board")
-@vectorize(search_description="Get project kanban board", capture_return_value=True, replay=True)  # ğŸ‘ˆ ì¶”ê°€
+@vectorize(search_description="Get project kanban board", capture_return_value=True, replay=True)
 def get_board(project_id: int, db: Session = Depends(get_db)):
     columns = db.exec(select(BoardColumn).where(BoardColumn.project_id == project_id).order_by(BoardColumn.order)).all()
     result = []
     for col in columns:
         cards = db.exec(select(Card).where(Card.column_id == col.id).order_by(Card.order)).all()
-        result.append({
-            "column": col,
-            "cards": cards
-        })
+        result.append({"column": col, "cards": cards})
     return result
 
 @router.get("/projects/{project_id}/cards", response_model=List[CardResponse])
 @vectorize(search_description="Get all cards in project", capture_return_value=True, replay=True)
-def get_project_cards(
-        project_id: int,
-        db: Session = Depends(get_db)
-):
-    """
-    íŠ¹ì • í”„ë¡œì íŠ¸ì— ì†í•œ 'ëª¨ë“  ì¹´ë“œ'ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.
-    (ì¹¸ë°˜ ì»¬ëŸ¼ì— ìˆëŠ” ì¹´ë“œ + ì»¬ëŸ¼ ì—†ëŠ” ë°±ë¡œê·¸/í™”ì´íŠ¸ë³´ë“œ ì¹´ë“œ ëª¨ë‘ í¬í•¨)
-    """
-    cards = db.exec(
-        select(Card)
-        .where(Card.project_id == project_id)
-        .order_by(Card.id) # ë˜ëŠ” order_by(Card.order)
-    ).all()
-
+def get_project_cards(project_id: int, db: Session = Depends(get_db)):
+    cards = db.exec(select(Card).where(Card.project_id == project_id).order_by(Card.id)).all()
     return cards
 
-
-@router.get("/projects/{project_id}/columns", response_model=List[BoardColumnResponse])
-def get_project_columns(
-        project_id: int,
-        db: Session = Depends(get_db)
-):
-    columns = db.exec(
-        select(BoardColumn)
-        .where(BoardColumn.project_id == project_id)
-        .order_by(BoardColumn.order)
-    ).all()
-    return columns
-
+# -----------------------------------------------------------------
+# ì—¬ê¸°ì„œë¶€í„° /cards/{card_id} íŒ¨í„´ ì‚¬ìš© (connectionsë³´ë‹¤ ì•„ë˜ì— ìˆì–´ì•¼ í•¨!)
+# -----------------------------------------------------------------
 
 @router.patch("/cards/{card_id}", response_model=CardResponse)
-@vectorize(search_description="Update card", capture_return_value=True, replay=True)  # ğŸ‘ˆ ì¶”ê°€
-def update_card(
-        card_id: int,
-        card_data: CardUpdate,
-        db: Session = Depends(get_db)
-):
+@vectorize(search_description="Update card", capture_return_value=True, replay=True)
+def update_card(card_id: int, card_data: CardUpdate, db: Session = Depends(get_db)):
     card = db.get(Card, card_id)
-    if not card:
-        raise HTTPException(status_code=404, detail="ì¹´ë“œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
+    if not card: raise HTTPException(status_code=404, detail="ì¹´ë“œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
 
-    # ê¸°ë³¸ í•„ë“œ ì—…ë°ì´íŠ¸
     card_data_dict = card_data.model_dump(exclude_unset=True)
-
-    # assignee_idsëŠ” ë³„ë„ ì²˜ë¦¬í•˜ë¯€ë¡œ ë”•ì…”ë„ˆë¦¬ì—ì„œ ì œì™¸
     if "assignee_ids" in card_data_dict:
         assignee_ids = card_data_dict.pop("assignee_ids")
-        # ë‹´ë‹¹ì ëª©ë¡ êµì²´ (ê¸°ì¡´ ê´€ê³„ ì§€ìš°ê³  ìƒˆë¡œ ì„¤ì •)
         users = db.exec(select(User).where(User.id.in_(assignee_ids))).all()
         card.assignees = users
 
@@ -320,95 +337,52 @@ def update_card(
 
 @router.delete("/cards/{card_id}")
 @vectorize(search_description="Delete card", capture_return_value=True)
-def delete_card(
-        card_id: int,
-        user_id: int = Depends(get_current_user_id),
-        db: Session = Depends(get_db)
-):
-    # 1. ì¹´ë“œ ì¡°íšŒ
+def delete_card(card_id: int, user_id: int = Depends(get_current_user_id), db: Session = Depends(get_db)):
     card = db.get(Card, card_id)
-    if not card:
-        raise HTTPException(status_code=404, detail="ì¹´ë“œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
+    if not card: raise HTTPException(status_code=404, detail="ì¹´ë“œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
 
-    # 2. ì‚­ì œ ì „ ë¡œê·¸ë¥¼ ìœ„í•œ ì •ë³´ ìˆ˜ì§‘ (ì‚­ì œí•˜ë©´ ì •ë³´ê°€ ì‚¬ë¼ì§€ë¯€ë¡œ ë¯¸ë¦¬ ì¡°íšŒ)
-    column = db.get(BoardColumn, card.column_id)
-    project = db.get(Project, column.project_id) if column else None
+    column = db.get(BoardColumn, card.column_id) if card.column_id else None
+    project = db.get(Project, card.project_id) if card.project_id else (db.get(Project, column.project_id) if column else None)
 
-    # 3. ì‚­ì œ ìˆ˜í–‰
-    # (Card ëª¨ë¸ì— cascade ì˜µì…˜ì´ ì˜ ì„¤ì •ë˜ì–´ ìˆë‹¤ë©´ ëŒ“ê¸€ ë“±ë„ ìë™ ì‚­ì œë©ë‹ˆë‹¤.)
     db.delete(card)
     db.commit()
 
-    # 4. í™œë™ ë¡œê·¸ ê¸°ë¡
     if project:
         user = db.get(User, user_id)
         log_activity(
-            db=db,
-            user_id=user_id,
-            workspace_id=project.workspace_id,
-            action_type="DELETE",
+            db=db, user_id=user_id, workspace_id=project.workspace_id, action_type="DELETE",
             content=f"ğŸ—‘ï¸ '{user.name}'ë‹˜ì´ ì¹´ë“œ '{card.title}'ì„(ë¥¼) ì‚­ì œí–ˆìŠµë‹ˆë‹¤."
         )
-
     return {"message": "ì¹´ë“œê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤."}
 
-
 @router.post("/cards/{card_id}/files/{file_id}", response_model=CardResponse)
-@vectorize(search_description="Attach file to card", capture_return_value=True, replay=True)  # ğŸ‘ˆ ì¶”ê°€
-def attach_file_to_card(
-        card_id: int,
-        file_id: int,
-        user_id: int = Depends(get_current_user_id),
-        db: Session = Depends(get_db)
-):
-    # 1. ì¡´ì¬ ì—¬ë¶€ í™•ì¸
+@vectorize(search_description="Attach file to card", capture_return_value=True, replay=True)
+def attach_file_to_card(card_id: int, file_id: int, user_id: int = Depends(get_current_user_id), db: Session = Depends(get_db)):
     card = db.get(Card, card_id)
     file = db.get(FileMetadata, file_id)
+    if not card or not file: raise HTTPException(status_code=404, detail="ì¹´ë“œ ë˜ëŠ” íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
 
-    if not card or not file:
-        raise HTTPException(status_code=404, detail="ì¹´ë“œ ë˜ëŠ” íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
-
-    # 2. ì´ë¯¸ ì—°ê²°ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸
     existing_link = db.get(CardFileLink, (card_id, file_id))
-    if existing_link:
-        return card  # ì´ë¯¸ ìˆìœ¼ë©´ ê·¸ëƒ¥ ë°˜í™˜
+    if existing_link: return card
 
-    # 3. ì—°ê²° ìƒì„±
     link = CardFileLink(card_id=card_id, file_id=file_id)
     db.add(link)
     db.commit()
-    db.refresh(card)  # card.files ê´€ê³„ ìƒˆë¡œê³ ì¹¨
+    db.refresh(card)
 
     user = db.get(User, user_id)
-    card = db.get(Card, card_id)
-    file = db.get(FileMetadata, file_id)
-    # ì—­ì¶”ì 
-    column = db.get(BoardColumn, card.column_id)
-    project = db.get(Project, column.project_id)
-
+    project = db.get(Project, card.project_id)
     log_activity(
-        db=db,
-        user_id=user_id,
-        workspace_id=project.workspace_id,
-        action_type="ATTACH",
+        db=db, user_id=user_id, workspace_id=project.workspace_id, action_type="ATTACH",
         content=f"ğŸ“ '{user.name}'ë‹˜ì´ ì¹´ë“œ '{card.title}'ì— íŒŒì¼ '{file.filename}'ì„(ë¥¼) ì²¨ë¶€í–ˆìŠµë‹ˆë‹¤."
     )
-
     return card
 
-
-# 5. [ì‹ ê·œ] ì¹´ë“œì—ì„œ íŒŒì¼ ì—°ê²° í•´ì œ
 @router.delete("/cards/{card_id}/files/{file_id}")
-@vectorize(search_description="Detach file from card", capture_return_value=True, replay=True)  # ğŸ‘ˆ ì¶”ê°€
-def detach_file_from_card(
-        card_id: int,
-        file_id: int,
-        user_id: int = Depends(get_current_user_id),
-        db: Session = Depends(get_db)
-):
+@vectorize(search_description="Detach file from card", capture_return_value=True, replay=True)
+def detach_file_from_card(card_id: int, file_id: int, user_id: int = Depends(get_current_user_id), db: Session = Depends(get_db)):
     link = db.get(CardFileLink, (card_id, file_id))
-    if not link:
-        raise HTTPException(status_code=404, detail="í•´ë‹¹ íŒŒì¼ì´ ì¹´ë“œì— ì²¨ë¶€ë˜ì–´ ìˆì§€ ì•ŠìŠµë‹ˆë‹¤.")
+    if not link: raise HTTPException(status_code=404, detail="í•´ë‹¹ íŒŒì¼ì´ ì¹´ë“œì— ì²¨ë¶€ë˜ì–´ ìˆì§€ ì•ŠìŠµë‹ˆë‹¤.")
 
     db.delete(link)
     db.commit()
@@ -416,186 +390,34 @@ def detach_file_from_card(
     user = db.get(User, user_id)
     card = db.get(Card, card_id)
     file = db.get(FileMetadata, file_id)
-    # ì—­ì¶”ì 
-    column = db.get(BoardColumn, card.column_id)
-    project = db.get(Project, column.project_id)
+    project = db.get(Project, card.project_id)
 
     log_activity(
-        db=db,
-        user_id=user_id,
-        workspace_id=project.workspace_id,
-        action_type="DETACH",
+        db=db, user_id=user_id, workspace_id=project.workspace_id, action_type="DETACH",
         content=f"ğŸ“ '{user.name}'ë‹˜ì´ ì¹´ë“œ '{card.title}'ì—ì„œ íŒŒì¼ '{file.filename}'ì„(ë¥¼) ë¶„ë¦¬í–ˆìŠµë‹ˆë‹¤."
     )
-
     return {"message": "íŒŒì¼ ì—°ê²°ì´ í•´ì œë˜ì—ˆìŠµë‹ˆë‹¤."}
 
-
+@router.get("/cards/{card_id}", response_model=CardResponse)
+@vectorize(search_description="Get card details", capture_return_value=True, replay=True)
+def get_card(card_id: int, db: Session = Depends(get_db)):
+    card = db.get(Card, card_id)
+    if not card: raise HTTPException(status_code=404, detail="ì¹´ë“œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
+    return card
 
 @router.post("/cards/{card_id}/comments", response_model=CardCommentResponse)
 @vectorize(search_description="Add comment to card", capture_return_value=True)
-def create_comment(
-        card_id: int,
-        comment_data: CardCommentCreate,
-        user_id: int = Depends(get_current_user_id),
-        db: Session = Depends(get_db)
-):
+def create_comment(card_id: int, comment_data: CardCommentCreate, user_id: int = Depends(get_current_user_id), db: Session = Depends(get_db)):
     card = db.get(Card, card_id)
-    if not card:
-        raise HTTPException(status_code=404, detail="Card not found")
+    if not card: raise HTTPException(status_code=404, detail="Card not found")
 
-    new_comment = CardComment(
-        card_id=card_id,
-        user_id=user_id,
-        content=comment_data.content
-    )
+    new_comment = CardComment(card_id=card_id, user_id=user_id, content=comment_data.content)
     db.add(new_comment)
     db.commit()
     db.refresh(new_comment)
-
-    # í™œë™ ë¡œê·¸ (ì„ íƒ)
-    user = db.get(User, user_id)
-    # log_activity(...) # í•„ìš”í•˜ë‹¤ë©´ ì¶”ê°€
-
     return new_comment
 
-
 @router.get("/cards/{card_id}/comments", response_model=List[CardCommentResponse])
-def get_card_comments(
-        card_id: int,
-        db: Session = Depends(get_db)
-):
-    comments = db.exec(
-        select(CardComment)
-        .where(CardComment.card_id == card_id)
-        .order_by(CardComment.created_at.asc())  # ì˜¤ë˜ëœ ìˆœ ì •ë ¬
-    ).all()
-    return comments
-
-
-@router.delete("/cards/comments/{comment_id}")
-def delete_comment(
-        comment_id: int,
-        user_id: int = Depends(get_current_user_id),
-        db: Session = Depends(get_db)
-):
-    comment = db.get(CardComment, comment_id)
-    if not comment:
-        raise HTTPException(status_code=404, detail="Comment not found")
-
-    if comment.user_id != user_id:
-        raise HTTPException(status_code=403, detail="ì‘ì„±ìë§Œ ì‚­ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.")
-
-    db.delete(comment)
-    db.commit()
-    return {"message": "ëŒ“ê¸€ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤."}
-
-# 1. í”„ë¡œì íŠ¸ ë‚´ ëª¨ë“  ì¹´ë“œ ì—°ê²° ì¡°íšŒ (í”„ë¡ íŠ¸ì—”ë“œ í¬ë§· ë§ì¶¤)
-@router.get("/projects/{project_id}/connections", response_model=List[CardConnectionResponse])
-@vectorize(search_description="Get project card connections", capture_return_value=True)
-def get_project_connections(
-        project_id: int,
-        db: Session = Depends(get_db)
-):
-    # âœ… ìˆ˜ì •: Card.project_idë¡œ ì§ì ‘ í•„í„°ë§ (column_id JOIN ì œê±°)
-    statement = (
-        select(CardDependency)
-        .join(Card, CardDependency.from_card_id == Card.id)
-        .where(Card.project_id == project_id)  # ğŸ‘ˆ ì§ì ‘ project_id ì‚¬ìš©
-    )
-    connections = db.exec(statement).all()
-
-    results = []
-    for conn in connections:
-        results.append(CardConnectionResponse(
-            id=conn.id,
-            from_card_id=conn.from_card_id,
-            to_card_id=conn.to_card_id,
-            board_id=project_id,
-            style=conn.style,
-            shape=conn.shape
-        ))
-
-    return results
-
-
-@router.post("/cards/connections")
-@vectorize(search_description="Create dependency between cards", capture_return_value=True)
-def create_card_connection(
-        connection_data: CardConnectionCreate,
-        user_id: int = Depends(get_current_user_id),
-        db: Session = Depends(get_db)
-):
-    # 1. ì¹´ë“œ ì¡°íšŒ
-    from_card = db.get(Card, connection_data.from_card_id)
-    to_card = db.get(Card, connection_data.to_card_id)
-
-    if not from_card or not to_card:
-        raise HTTPException(status_code=404, detail="ì¹´ë“œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
-
-    # 2. í”„ë¡œì íŠ¸ ì¼ì¹˜ í™•ì¸
-    if from_card.project_id != to_card.project_id:
-        raise HTTPException(status_code=400, detail="ë‹¤ë¥¸ í”„ë¡œì íŠ¸ì˜ ì¹´ë“œë¼ë¦¬ëŠ” ì—°ê²°í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
-
-    # 3. ì—°ê²° ìƒì„± (ìˆ˜ì •ë¨)
-    new_dependency = CardDependency(
-        from_card_id=from_card.id,
-        to_card_id=to_card.id,
-
-        # ğŸš¨ [ìˆ˜ì •] ìŠ¤í‚¤ë§ˆì— ì—†ëŠ” ê°’ì„ ì½ìœ¼ë ¤ë˜ ì½”ë“œ ì œê±°
-        # dependency_type=connection_data.dependency_type  <-- (ì‚­ì œ)
-
-        # âœ… [ëŒ€ì²´] ê¸°ë³¸ê°’ìœ¼ë¡œ ê³ ì •í•˜ê±°ë‚˜, í•„ìš”í•˜ë©´ ìŠ¤í‚¤ë§ˆì— ì¶”ê°€í•´ì•¼ í•¨
-        dependency_type="finish_to_start"
-    )
-
-    # (ì„ íƒ ì‚¬í•­) ë§Œì•½ DB ëª¨ë¸(CardDependency)ì— style, shape í•„ë“œê°€ ìˆë‹¤ë©´ ì•„ë˜ì²˜ëŸ¼ ì €ì¥ ê°€ëŠ¥
-    # if hasattr(new_dependency, "style"): new_dependency.style = connection_data.style
-    # if hasattr(new_dependency, "shape"): new_dependency.shape = connection_data.shape
-
-    db.add(new_dependency)
-    db.commit()
-    db.refresh(new_dependency)
-
-    # 4. ë¡œê·¸ ê¸°ë¡
-    project = db.get(Project, from_card.project_id)
-    user = db.get(User, user_id)
-
-    log_activity(
-        db=db,
-        user_id=user_id,
-        workspace_id=project.workspace_id,
-        action_type="UPDATE",
-        content=f"ğŸ”— '{user.name}'ë‹˜ì´ ì¹´ë“œ '{from_card.title}'ì™€(ê³¼) '{to_card.title}'ì„(ë¥¼) ì—°ê²°í–ˆìŠµë‹ˆë‹¤."
-    )
-
-    return {"message": "ì¹´ë“œê°€ ì—°ê²°ë˜ì—ˆìŠµë‹ˆë‹¤."}
-
-@router.get("/cards/{card_id}", response_model=CardResponse)
-@vectorize(search_description="Get card details", capture_return_value=True, replay=True)  # ğŸ‘ˆ ì¶”ê°€
-def get_card(
-        card_id: int,
-        db: Session = Depends(get_db)
-):
-    card = db.get(Card, card_id)
-    if not card:
-        raise HTTPException(status_code=404, detail="ì¹´ë“œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
-
-    return card
-
-# 3. ì¹´ë“œ ì—°ê²° ì‚­ì œ (IDë¡œ ì‚­ì œ)
-@router.delete("/cards/connections/{connection_id}")
-@vectorize(search_description="Delete card connection", capture_return_value=True)
-def delete_card_connection(
-        connection_id: int,
-        db: Session = Depends(get_db),
-        user_id: int = Depends(get_current_user_id)
-):
-    connection = db.get(CardDependency, connection_id)
-    if not connection:
-        raise HTTPException(status_code=404, detail="Connection not found")
-
-    db.delete(connection)
-    db.commit()
-
-    return {"message": "ì—°ê²°ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤."}
+def get_card_comments(card_id: int, db: Session = Depends(get_db)):
+    comments = db.exec(select(CardComment).where(CardComment.card_id == card_id).order_by(CardComment.created_at.asc())).all()
+    return comments
\ No newline at end of file

commit ff110d7b0437674b4ae0036dd38067b6c6c95a34
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Thu Jan 22 23:51:58 2026 +0900

    Change order cards and connection
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/routers/board.py b/app/routers/board.py
index 3d8a935..984c745 100644
--- a/app/routers/board.py
+++ b/app/routers/board.py
@@ -431,18 +431,6 @@ def detach_file_from_card(
     return {"message": "íŒŒì¼ ì—°ê²°ì´ í•´ì œë˜ì—ˆìŠµë‹ˆë‹¤."}
 
 
-@router.get("/cards/{card_id}", response_model=CardResponse)
-@vectorize(search_description="Get card details", capture_return_value=True, replay=True)  # ğŸ‘ˆ ì¶”ê°€
-def get_card(
-        card_id: int,
-        db: Session = Depends(get_db)
-):
-    card = db.get(Card, card_id)
-    if not card:
-        raise HTTPException(status_code=404, detail="ì¹´ë“œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
-
-    return card
-
 
 @router.post("/cards/{card_id}/comments", response_model=CardCommentResponse)
 @vectorize(search_description="Add comment to card", capture_return_value=True)
@@ -583,6 +571,18 @@ def create_card_connection(
 
     return {"message": "ì¹´ë“œê°€ ì—°ê²°ë˜ì—ˆìŠµë‹ˆë‹¤."}
 
+@router.get("/cards/{card_id}", response_model=CardResponse)
+@vectorize(search_description="Get card details", capture_return_value=True, replay=True)  # ğŸ‘ˆ ì¶”ê°€
+def get_card(
+        card_id: int,
+        db: Session = Depends(get_db)
+):
+    card = db.get(Card, card_id)
+    if not card:
+        raise HTTPException(status_code=404, detail="ì¹´ë“œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
+
+    return card
+
 # 3. ì¹´ë“œ ì—°ê²° ì‚­ì œ (IDë¡œ ì‚­ì œ)
 @router.delete("/cards/connections/{connection_id}")
 @vectorize(search_description="Delete card connection", capture_return_value=True)

commit 34c64f7b47b3bdbdcfcdb604e316b978a5be2694
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Thu Jan 22 23:23:42 2026 +0900

    Fix card connection field to cascade delete
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/models/board.py b/app/models/board.py
index 5879443..533d6b6 100644
--- a/app/models/board.py
+++ b/app/models/board.py
@@ -24,8 +24,8 @@ class CardDependency(SQLModel, table=True):
     id: Optional[int] = Field(default=None, primary_key=True)
 
     # ì—°ê²° ì •ë³´
-    from_card_id: int = Field(foreign_key="cards.id")
-    to_card_id: int = Field(foreign_key="cards.id")
+    from_card_id: int = Field(foreign_key="cards.id", ondelete="CASCADE")
+    to_card_id: int = Field(foreign_key="cards.id", ondelete="CASCADE")
 
     # ìŠ¤íƒ€ì¼ ì •ë³´ (ê¸°ë³¸ê°’ ì„¤ì •)
     style: str = Field(default="solid")   # solid, dashed, dotted

commit 235fbe84fdbc1b169966cd325f9cea7fd72485f6
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Thu Jan 22 23:19:16 2026 +0900

    Fix card connection get api
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/routers/board.py b/app/routers/board.py
index a0c98a0..3d8a935 100644
--- a/app/routers/board.py
+++ b/app/routers/board.py
@@ -509,27 +509,21 @@ def get_project_connections(
         project_id: int,
         db: Session = Depends(get_db)
 ):
-    """
-    í”„ë¡ íŠ¸ì—”ë“œ ì¸í„°í˜ì´ìŠ¤ {id, from, to, boardId, style, shape} ì— ë§ì¶° ë°˜í™˜í•©ë‹ˆë‹¤.
-    """
-    # 1. í•´ë‹¹ í”„ë¡œì íŠ¸ì— ì†í•œ ì—°ê²°ë§Œ ì¡°íšŒ (Join)
+    # âœ… ìˆ˜ì •: Card.project_idë¡œ ì§ì ‘ í•„í„°ë§ (column_id JOIN ì œê±°)
     statement = (
         select(CardDependency)
         .join(Card, CardDependency.from_card_id == Card.id)
-        .join(BoardColumn, Card.column_id == BoardColumn.id)
-        .where(BoardColumn.project_id == project_id)
+        .where(Card.project_id == project_id)  # ğŸ‘ˆ ì§ì ‘ project_id ì‚¬ìš©
     )
     connections = db.exec(statement).all()
 
-    # 2. ì‘ë‹µ ë°ì´í„° ë³€í™˜ (boardId ì£¼ì…)
-    # CardDependency ëª¨ë¸ì—ëŠ” board_idê°€ ì—†ìœ¼ë¯€ë¡œ, project_idë¥¼ boardIdë¡œ ë§¤í•‘í•´ì¤ë‹ˆë‹¤.
     results = []
     for conn in connections:
         results.append(CardConnectionResponse(
             id=conn.id,
             from_card_id=conn.from_card_id,
             to_card_id=conn.to_card_id,
-            board_id=project_id, # í˜„ì¬ í”„ë¡œì íŠ¸ IDë¥¼ boardIdë¡œ ì‚¬ìš©
+            board_id=project_id,
             style=conn.style,
             shape=conn.shape
         ))

commit a7b39a3326aafae75fe29474d275b2645c8ac39c
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Thu Jan 22 23:02:13 2026 +0900

    Fix card conection wrong project_id bug
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/routers/board.py b/app/routers/board.py
index 5085101..a0c98a0 100644
--- a/app/routers/board.py
+++ b/app/routers/board.py
@@ -537,59 +537,58 @@ def get_project_connections(
     return results
 
 
-# 2. ì¹´ë“œ ì—°ê²° ìƒì„±
-@router.post("/cards/connections", response_model=CardConnectionResponse)
-@vectorize(search_description="Create card connection", capture_return_value=True)
+@router.post("/cards/connections")
+@vectorize(search_description="Create dependency between cards", capture_return_value=True)
 def create_card_connection(
-        conn_data: CardConnectionCreate,
-        db: Session = Depends(get_db),
-        user_id: int = Depends(get_current_user_id)
+        connection_data: CardConnectionCreate,
+        user_id: int = Depends(get_current_user_id),
+        db: Session = Depends(get_db)
 ):
-    # ìœ íš¨ì„± ê²€ì‚¬ ë“±ì€ ê¸°ì¡´ê³¼ ë™ì¼...
-    card_from = db.get(Card, conn_data.from_card_id)
-    if not card_from: raise HTTPException(status_code=404, detail="Source card not found")
+    # 1. ì¹´ë“œ ì¡°íšŒ
+    from_card = db.get(Card, connection_data.from_card_id)
+    to_card = db.get(Card, connection_data.to_card_id)
 
-    # boardId(project_id) ì—­ì¶”ì 
-    column = db.get(BoardColumn, card_from.column_id)
-    project_id = column.project_id
+    if not from_card or not to_card:
+        raise HTTPException(status_code=404, detail="ì¹´ë“œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
 
-    # ì¤‘ë³µ ì²´í¬ (from, toê°€ ê°™ì€ê²Œ ìˆëŠ”ì§€)
-    existing = db.exec(
-        select(CardDependency)
-        .where(CardDependency.from_card_id == conn_data.from_card_id)
-        .where(CardDependency.to_card_id == conn_data.to_card_id)
-    ).first()
-
-    if existing:
-        return CardConnectionResponse(
-            id=existing.id,
-            from_card_id=existing.from_card_id,
-            to_card_id=existing.to_card_id,
-            board_id=project_id,
-            style=existing.style,
-            shape=existing.shape
-        )
+    # 2. í”„ë¡œì íŠ¸ ì¼ì¹˜ í™•ì¸
+    if from_card.project_id != to_card.project_id:
+        raise HTTPException(status_code=400, detail="ë‹¤ë¥¸ í”„ë¡œì íŠ¸ì˜ ì¹´ë“œë¼ë¦¬ëŠ” ì—°ê²°í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
+
+    # 3. ì—°ê²° ìƒì„± (ìˆ˜ì •ë¨)
+    new_dependency = CardDependency(
+        from_card_id=from_card.id,
+        to_card_id=to_card.id,
+
+        # ğŸš¨ [ìˆ˜ì •] ìŠ¤í‚¤ë§ˆì— ì—†ëŠ” ê°’ì„ ì½ìœ¼ë ¤ë˜ ì½”ë“œ ì œê±°
+        # dependency_type=connection_data.dependency_type  <-- (ì‚­ì œ)
 
-    # ì €ì¥
-    new_conn = CardDependency(
-        from_card_id=conn_data.from_card_id,
-        to_card_id=conn_data.to_card_id,
-        style=conn_data.style,
-        shape=conn_data.shape
+        # âœ… [ëŒ€ì²´] ê¸°ë³¸ê°’ìœ¼ë¡œ ê³ ì •í•˜ê±°ë‚˜, í•„ìš”í•˜ë©´ ìŠ¤í‚¤ë§ˆì— ì¶”ê°€í•´ì•¼ í•¨
+        dependency_type="finish_to_start"
     )
-    db.add(new_conn)
+
+    # (ì„ íƒ ì‚¬í•­) ë§Œì•½ DB ëª¨ë¸(CardDependency)ì— style, shape í•„ë“œê°€ ìˆë‹¤ë©´ ì•„ë˜ì²˜ëŸ¼ ì €ì¥ ê°€ëŠ¥
+    # if hasattr(new_dependency, "style"): new_dependency.style = connection_data.style
+    # if hasattr(new_dependency, "shape"): new_dependency.shape = connection_data.shape
+
+    db.add(new_dependency)
     db.commit()
-    db.refresh(new_conn)
-
-    return CardConnectionResponse(
-        id=new_conn.id,
-        from_card_id=new_conn.from_card_id,
-        to_card_id=new_conn.to_card_id,
-        board_id=project_id,
-        style=new_conn.style,
-        shape=new_conn.shape
+    db.refresh(new_dependency)
+
+    # 4. ë¡œê·¸ ê¸°ë¡
+    project = db.get(Project, from_card.project_id)
+    user = db.get(User, user_id)
+
+    log_activity(
+        db=db,
+        user_id=user_id,
+        workspace_id=project.workspace_id,
+        action_type="UPDATE",
+        content=f"ğŸ”— '{user.name}'ë‹˜ì´ ì¹´ë“œ '{from_card.title}'ì™€(ê³¼) '{to_card.title}'ì„(ë¥¼) ì—°ê²°í–ˆìŠµë‹ˆë‹¤."
     )
 
+    return {"message": "ì¹´ë“œê°€ ì—°ê²°ë˜ì—ˆìŠµë‹ˆë‹¤."}
+
 # 3. ì¹´ë“œ ì—°ê²° ì‚­ì œ (IDë¡œ ì‚­ì œ)
 @router.delete("/cards/connections/{connection_id}")
 @vectorize(search_description="Delete card connection", capture_return_value=True)

commit ea7e9653d3c3388a59d9558ad152bb57f52173d9
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Thu Jan 22 21:56:47 2026 +0900

    Change card update schema
    
    Before used create schema for reuse. But now
    it changed
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/routers/board.py b/app/routers/board.py
index bfc96f0..5085101 100644
--- a/app/routers/board.py
+++ b/app/routers/board.py
@@ -6,7 +6,7 @@ from app.routers.workspace import get_current_user_id  # ê¸°ì¡´ ì¸ì¦ í•¨ìˆ˜ 
 from app.models.board import BoardColumn, Card, CardAssignee
 from app.models.workspace import Project, WorkspaceMember
 from app.schemas import BoardColumnCreate, BoardColumnResponse, CardCreate, CardResponse, CardUpdate, CardCommentCreate, \
-    CardCommentResponse
+    CardCommentResponse, BoardColumnUpdate
 from datetime import datetime
 from app.utils.logger import log_activity
 from app.models.user import User
@@ -74,21 +74,27 @@ def create_column(
 @vectorize(search_description="Update board column (Group)", capture_return_value=True)
 def update_column(
         column_id: int,
-        col_data: BoardColumnCreate, # Create ëª¨ë¸ ì¬í™œìš© (Optionalë¡œ ë§Œë“œëŠ”ê²Œ ì •ì„ì´ì§€ë§Œ í¸ì˜ìƒ)
+        col_data: BoardColumnUpdate,
         db: Session = Depends(get_db)
 ):
     col = db.get(BoardColumn, column_id)
     if not col:
         raise HTTPException(status_code=404, detail="Column not found")
 
-    if col_data.parent_id == 0:
-        col_data.parent_id = None
+    # 1. ì¼ë°˜ í•„ë“œ ì—…ë°ì´íŠ¸ (transform ì œì™¸)
+    # exclude_unset=True: í”„ë¡ íŠ¸ì—ì„œ ë³´ë‚´ì§€ ì•Šì€ í•„ë“œëŠ” ê±´ë“œë¦¬ì§€ ì•ŠìŒ (í•µì‹¬!)
+    update_dict = col_data.model_dump(exclude_unset=True, by_alias=False, exclude={"transform"})
 
-    # ì…ë ¥ëœ ê°’ë§Œ ì—…ë°ì´íŠ¸
-    data = col_data.model_dump(exclude_unset=True, by_alias=False)
-    for key, value in data.items():
+    for key, value in update_dict.items():
         setattr(col, key, value)
 
+    # 2. Transform ê°ì²´ ë³„ë„ ì²˜ë¦¬ (ë“¤ì–´ì™”ì„ ê²½ìš°ì—ë§Œ)
+    if col_data.transform:
+        if col_data.transform.scaleX is not None: col.scale_x = col_data.transform.scaleX
+        if col_data.transform.scaleY is not None: col.scale_y = col_data.transform.scaleY
+        if col_data.transform.rotation is not None: col.rotation = col_data.transform.rotation
+
+    # 3. parent_idê°€ 0ìœ¼ë¡œ ë“¤ì–´ì˜¤ë©´ Noneìœ¼ë¡œ ë³´ì • (ìµœìƒìœ„ ì´ë™ ì‹œ)
     if col.parent_id == 0:
         col.parent_id = None
 
@@ -96,6 +102,7 @@ def update_column(
     db.commit()
     db.refresh(col)
 
+    # ì‘ë‹µ ì¡°ë¦½
     return BoardColumnResponse(
         id=col.id,
         title=col.title,
diff --git a/app/schemas.py b/app/schemas.py
index df14f3a..0ef213f 100644
--- a/app/schemas.py
+++ b/app/schemas.py
@@ -65,6 +65,8 @@ class BoardColumnCreate(BaseModel):
     collapsed: bool = False
     order: int = 0
 
+
+
 class TransformSchema(BaseModel):
     scaleX: float
     scaleY: float
@@ -353,3 +355,30 @@ class CardConnectionResponse(BaseModel):
     board_id: int = PydanticField(serialization_alias="boardId")  # JSON ë‚˜ê°ˆë•Œ "boardId"ë¡œ ë³€í™˜
     style: str
     shape: str
+
+
+class TransformInput(BaseModel):
+    scaleX: Optional[float] = 1.0
+    scaleY: Optional[float] = 1.0
+    rotation: Optional[float] = 0.0
+
+class BoardColumnUpdate(BaseModel):
+    title: Optional[str] = None
+
+    # ìœ„ì¹˜ & í¬ê¸°
+    local_x: Optional[float] = PydanticField(alias="localX", default=None)
+    local_y: Optional[float] = PydanticField(alias="localY", default=None)
+    width: Optional[float] = None
+    height: Optional[float] = None
+
+    # ê³„ì¸µ êµ¬ì¡°
+    parent_id: Optional[int] = PydanticField(alias="parentId", default=None)
+    depth: Optional[int] = None
+
+    # ìŠ¤íƒ€ì¼
+    color: Optional[str] = None
+    collapsed: Optional[bool] = None
+    order: Optional[int] = None
+
+    # ë³€í™˜ (í”„ë¡ íŠ¸ì—”ë“œ { transform: { ... } } êµ¬ì¡° ëŒ€ì‘)
+    transform: Optional[TransformInput] = None
\ No newline at end of file

commit ae1257025ade5c0a3005b0f0086b09eedc09a013
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Thu Jan 22 20:35:32 2026 +0900

    Add column delete api
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/routers/board.py b/app/routers/board.py
index 137f9d1..bfc96f0 100644
--- a/app/routers/board.py
+++ b/app/routers/board.py
@@ -32,6 +32,9 @@ def create_column(
     project = db.get(Project, project_id)
     if not project: raise HTTPException(status_code=404, detail="Project not found")
 
+    if col_data.parent_id == 0:
+        col_data.parent_id = None
+
     # DB ëª¨ë¸ ìƒì„± (col_dataì˜ aliasë“¤ì´ ìë™ìœ¼ë¡œ ë§¤í•‘ë¨)
     # by_alias=Falseë¡œ í•´ì•¼ íŒŒì´ì¬ ë³€ìˆ˜ëª…(local_x)ìœ¼ë¡œ ë¤í”„ë¨
     new_col = BoardColumn(
@@ -39,6 +42,9 @@ def create_column(
         project_id=project_id
     )
 
+    if new_col.parent_id == 0:
+        new_col.parent_id = None
+
     db.add(new_col)
     db.commit()
     db.refresh(new_col)
@@ -75,11 +81,17 @@ def update_column(
     if not col:
         raise HTTPException(status_code=404, detail="Column not found")
 
+    if col_data.parent_id == 0:
+        col_data.parent_id = None
+
     # ì…ë ¥ëœ ê°’ë§Œ ì—…ë°ì´íŠ¸
     data = col_data.model_dump(exclude_unset=True, by_alias=False)
     for key, value in data.items():
         setattr(col, key, value)
 
+    if col.parent_id == 0:
+        col.parent_id = None
+
     db.add(col)
     db.commit()
     db.refresh(col)
@@ -173,6 +185,55 @@ def create_card(
 
     return new_card
 
+@router.delete("/columns/{column_id}")
+@vectorize(search_description="Delete board column (Preserve cards)", capture_return_value=True)
+def delete_column(
+        column_id: int,
+        user_id: int = Depends(get_current_user_id),
+        db: Session = Depends(get_db)
+):
+    """
+    ì»¬ëŸ¼(ê·¸ë£¹)ì„ ì‚­ì œí•©ë‹ˆë‹¤.
+    âœ… ë³€ê²½ì : ì»¬ëŸ¼ ì•ˆì— ìˆë˜ ì¹´ë“œë“¤ì€ ì‚­ì œë˜ì§€ ì•Šê³  'ë°±ë¡œê·¸(Unassigned)' ìƒíƒœë¡œ ë³€ê²½ë©ë‹ˆë‹¤.
+    """
+    # 1. ì»¬ëŸ¼ ì¡°íšŒ
+    column = db.get(BoardColumn, column_id)
+    if not column:
+        raise HTTPException(status_code=404, detail="Column not found")
+
+    project = db.get(Project, column.project_id)
+    col_title = column.title
+    card_count = len(column.cards)
+
+    # 2. [í•µì‹¬] ì¹´ë“œ ëŒ€í”¼ì‹œí‚¤ê¸° (column_id = None)
+    # ëª¨ë¸ì— cascade="all, delete"ê°€ ê±¸ë ¤ ìˆì–´ë„,
+    # ê´€ê³„ë¥¼ ë¨¼ì € ëŠê³ (None) ì»¤ë°‹í•˜ë©´ ì‚­ì œë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
+    for card in column.cards:
+        card.column_id = None
+        db.add(card)
+
+    # ì¹´ë“œë¥¼ ë¨¼ì € ëŒ€í”¼ì‹œí‚¨ ë‚´ìš©ì„ ì €ì¥ (í•„ìˆ˜!)
+    db.commit()
+
+    # 3. ì´ì œ ë¹ˆ ê»ë°ê¸°ê°€ ëœ ì»¬ëŸ¼ ì‚­ì œ
+    db.refresh(column) # ê´€ê³„ ê°±ì‹ 
+    db.delete(column)
+    db.commit()
+
+    # 4. í™œë™ ë¡œê·¸ ê¸°ë¡
+    if project:
+        user = db.get(User, user_id)
+        log_activity(
+            db=db,
+            user_id=user_id,
+            workspace_id=project.workspace_id,
+            action_type="DELETE",
+            # ë¡œê·¸ ë©”ì‹œì§€ë„ ìƒí™©ì— ë§ê²Œ ì¡°ê¸ˆ ë” ìƒì„¸í•˜ê²Œ ì ì–´ì£¼ë©´ ì¢‹ìŠµë‹ˆë‹¤.
+            content=f"ğŸ—‘ï¸ '{user.name}'ë‹˜ì´ ê·¸ë£¹ '{col_title}'ì„(ë¥¼) ì‚­ì œí–ˆìŠµë‹ˆë‹¤. (ì¹´ë“œ {card_count}ê°œëŠ” ë³´ê´€ë¨)"
+        )
+
+    return {"message": "ê·¸ë£¹ì´ ì‚­ì œë˜ì—ˆìœ¼ë©°, í¬í•¨ëœ ì¹´ë“œë“¤ì€ ë³´ê´€í•¨ìœ¼ë¡œ ì´ë™ë˜ì—ˆìŠµë‹ˆë‹¤."}
+
 
 # 3. íŠ¹ì • í”„ë¡œì íŠ¸ì˜ ëª¨ë“  ì»¬ëŸ¼ ë° ì¹´ë“œ ì¡°íšŒ
 @router.get("/projects/{project_id}/board")

commit c3f5ab05da94c6b4476c63db54c3786c32938727
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Wed Jan 21 23:46:23 2026 +0900

    Add admin login api
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/models/board.py b/app/models/board.py
index 8749eab..5879443 100644
--- a/app/models/board.py
+++ b/app/models/board.py
@@ -54,10 +54,7 @@ class BoardColumn(SQLModel, table=True):
     # ê³„ì¸µ êµ¬ì¡° (ì¤‘ì²© ê·¸ë£¹ ì§€ì›)
     # ========================================
     # ìê¸° ìì‹ ì„ ì°¸ì¡° (Self-Referencing)
-    parent_id: Optional[int] = Field(
-        default=None,
-        sa_column_kwargs={"foreign_key": ForeignKey("board_columns.id")}
-    )
+    parent_id: Optional[int] = Field(default=None, foreign_key="board_columns.id")
     depth: int = Field(default=0) # 0: ìµœìƒìœ„, 1: 1ë‹¨ê³„...
 
     # ========================================
@@ -83,10 +80,11 @@ class BoardColumn(SQLModel, table=True):
     # ê´€ê³„ ì„¤ì •
     project: Optional["Project"] = Relationship(back_populates="columns")
 
-    # ë¶€ëª¨-ìì‹ ê´€ê³„ ì„¤ì • (Adjacency List Pattern)
     parent: Optional["BoardColumn"] = Relationship(
-        sa_relationship_kwargs={"remote_side": "BoardColumn.id"},
-        back_populates="children"
+        back_populates="children",
+        sa_relationship_kwargs={
+            "remote_side": "BoardColumn.id"  # ë¬¸ìì—´ë¡œ ì§€ì •í•˜ì—¬ ìˆœí™˜ ì°¸ì¡° í•´ê²°
+        }
     )
     children: List["BoardColumn"] = Relationship(back_populates="parent")
 
diff --git a/app/routers/auth.py b/app/routers/auth.py
index ff68477..64efd34 100644
--- a/app/routers/auth.py
+++ b/app/routers/auth.py
@@ -12,7 +12,9 @@ from app.models.session import UserSession
 from app.models.verification import EmailVerification # ğŸ‘ˆ ì¶”ê°€
 from app.schemas import UserCreate, UserLogin, UserResponse, VerificationRequest # ğŸ‘ˆ ì¶”ê°€
 from app.utils.email import send_verification_email # ğŸ‘ˆ ì¶”ê°€
-
+from app.models.workspace import Workspace, WorkspaceMember # ğŸ‘ˆ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ëª¨ë¸ í•„ìš”
+from passlib.context import CryptContext
+pwd_context = CryptContext(schemes=["bcrypt"], deprecated="auto")
 router = APIRouter(tags=["Authentication"])
 
 # --- í—¬í¼ í•¨ìˆ˜ ---
@@ -26,6 +28,60 @@ def verify_password(plain_password: str, hashed_password: str) -> bool:
 def generate_code(length=6):
     return ''.join(random.choices(string.digits, k=length))
 
+@router.post("/auth/setup-admin")
+def create_admin_account(db: Session = Depends(get_db)):
+    """
+    [ê°œë°œìš© ì¹˜íŠ¸í‚¤] ê´€ë¦¬ì ê³„ì •ì„ ì¦‰ì‹œ ìƒì„±í•˜ê³  ì¸ì¦ê¹Œì§€ ì™„ë£Œí•©ë‹ˆë‹¤.
+    - ì´ë©”ì¼: admin@domo.com
+    - ë¹„ë°€ë²ˆí˜¸: admin1234
+    """
+    admin_email = "admin@domo.com"
+
+    # 1. ì´ë¯¸ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸
+    existing_user = db.exec(select(User).where(User.email == admin_email)).first()
+    if existing_user:
+        return {"message": "ì´ë¯¸ ê´€ë¦¬ì ê³„ì •(admin@domo.com)ì´ ì¡´ì¬í•©ë‹ˆë‹¤. ë°”ë¡œ ë¡œê·¸ì¸í•˜ì„¸ìš”!"}
+
+    # 2. ê´€ë¦¬ì ìœ ì € ìƒì„±
+    # âœ… [ìˆ˜ì • 1] íŒŒì¼ ìƒë‹¨ì— ì´ë¯¸ ì •ì˜ëœ hash_password í•¨ìˆ˜ ì‚¬ìš© (passlib ë¶ˆí•„ìš”)
+    hashed_password = hash_password("admin1234")
+
+    admin_user = User(
+        email=admin_email,
+        password_hash=hashed_password,  # âœ… [ìˆ˜ì • 2] password -> password_hash ë¡œ ë³€ê²½!
+        name="ê´€ë¦¬ì(Admin)",
+        is_student_verified=True,
+        profile_image="/static/default_profile.png"
+    )
+    db.add(admin_user)
+    db.commit()
+    db.refresh(admin_user)
+
+    # 3. ê¸°ë³¸ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ìƒì„±
+    admin_ws = Workspace(
+        name="Admin Workspace",
+        description="ê´€ë¦¬ì ì „ìš© í…ŒìŠ¤íŠ¸ ê³µê°„ì…ë‹ˆë‹¤.",
+        owner_id=admin_user.id
+    )
+    db.add(admin_ws)
+    db.commit()
+    db.refresh(admin_ws)
+
+    # 4. ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ë©¤ë²„ ì—°ê²°
+    ws_member = WorkspaceMember(
+        workspace_id=admin_ws.id,
+        user_id=admin_user.id,
+        role="admin"
+    )
+    db.add(ws_member)
+    db.commit()
+
+    return {
+        "message": "ğŸ‰ ê´€ë¦¬ì ê³„ì • ì„¸íŒ… ì™„ë£Œ!",
+        "email": admin_email,
+        "password": "admin1234",
+    }
+
 # --- 1. íšŒì›ê°€ì… (1ë‹¨ê³„: ì •ë³´ ë“±ë¡ & ë©”ì¼ ë°œì†¡) ---
 @router.post("/signup", response_model=UserResponse)
 @vectorize(search_description="User signup request", capture_return_value=True, replay=True)
diff --git a/requirements.txt b/requirements.txt
index d7747d8..58d9b4e 100644
--- a/requirements.txt
+++ b/requirements.txt
@@ -8,6 +8,7 @@ requests
 openai
 weaviate-client>=4.0.0
 vectorwave
-bcrypt
+bcrypt==3.2.0
 email-validator
-fastapi-mail
\ No newline at end of file
+fastapi-mail
+passlib[bcrypt]
\ No newline at end of file

commit 5cbfba80f7d031612aaa5eaf6a0e0e425abc578c
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Wed Jan 21 23:18:49 2026 +0900

    Change Column structure
    
    Now it have location and parent information
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/models/board.py b/app/models/board.py
index ca84505..8749eab 100644
--- a/app/models/board.py
+++ b/app/models/board.py
@@ -2,6 +2,7 @@ from typing import Optional, List
 from datetime import datetime
 from sqlmodel import SQLModel, Field, Relationship
 from app.models.user import User
+from sqlalchemy import ForeignKey # ìˆœí™˜ ì°¸ì¡°ìš©
 
 
 class CardFileLink(SQLModel, table=True):
@@ -35,13 +36,60 @@ class CardDependency(SQLModel, table=True):
 class BoardColumn(SQLModel, table=True):
     __tablename__ = "board_columns"
 
+    # ========================================
+    # ê¸°ë³¸ ì‹ë³„ì
+    # ========================================
     id: Optional[int] = Field(default=None, primary_key=True)
     title: str
-    order: int = Field(default=0)  # ì»¬ëŸ¼ ìˆœì„œ
+
+    # ========================================
+    # ìƒëŒ€ ì¢Œí‘œ ì‹œìŠ¤í…œ & í¬ê¸°
+    # ========================================
+    local_x: float = Field(default=0.0)
+    local_y: float = Field(default=0.0)
+    width: float = Field(default=300.0)  # ê¸°ë³¸ ë„ˆë¹„
+    height: float = Field(default=500.0) # ê¸°ë³¸ ë†’ì´
+
+    # ========================================
+    # ê³„ì¸µ êµ¬ì¡° (ì¤‘ì²© ê·¸ë£¹ ì§€ì›)
+    # ========================================
+    # ìê¸° ìì‹ ì„ ì°¸ì¡° (Self-Referencing)
+    parent_id: Optional[int] = Field(
+        default=None,
+        sa_column_kwargs={"foreign_key": ForeignKey("board_columns.id")}
+    )
+    depth: int = Field(default=0) # 0: ìµœìƒìœ„, 1: 1ë‹¨ê³„...
+
+    # ========================================
+    # ë³€í™˜ (Transform)
+    # ========================================
+    scale_x: float = Field(default=1.0)
+    scale_y: float = Field(default=1.0)
+    rotation: float = Field(default=0.0)
+
+    # ========================================
+    # UI í‘œì‹œ ì†ì„±
+    # ========================================
+    color: Optional[str] = Field(default="#ffffff") # ê¸°ë³¸ í°ìƒ‰
+    collapsed: bool = Field(default=False)
+    order: int = Field(default=0)
+
+    # ========================================
+    # ì—°ê²° ì •ë³´
+    # ========================================
     project_id: int = Field(foreign_key="projects.id", index=True)
     created_at: datetime = Field(default_factory=datetime.now)
 
+    # ê´€ê³„ ì„¤ì •
     project: Optional["Project"] = Relationship(back_populates="columns")
+
+    # ë¶€ëª¨-ìì‹ ê´€ê³„ ì„¤ì • (Adjacency List Pattern)
+    parent: Optional["BoardColumn"] = Relationship(
+        sa_relationship_kwargs={"remote_side": "BoardColumn.id"},
+        back_populates="children"
+    )
+    children: List["BoardColumn"] = Relationship(back_populates="parent")
+
     cards: List["Card"] = Relationship(back_populates="column", sa_relationship_kwargs={"cascade": "all, delete"})
 
 
diff --git a/app/routers/board.py b/app/routers/board.py
index d6ca3fb..137f9d1 100644
--- a/app/routers/board.py
+++ b/app/routers/board.py
@@ -15,39 +15,94 @@ from app.models.file import FileMetadata
 from app.models.board import CardFileLink, CardComment, CardDependency
 from app.schemas import FileResponse
 from vectorwave import *
-from app.schemas import CardConnectionCreate, CardConnectionResponse
+from app.schemas import CardConnectionCreate, CardConnectionResponse, TransformSchema
 
 router = APIRouter(tags=["Board & Cards"])
 
 
 # 1. ì»¬ëŸ¼ ìƒì„±
 @router.post("/projects/{project_id}/columns", response_model=BoardColumnResponse)
-@vectorize(search_description="Create board column", capture_return_value=True, replay=True)  # ğŸ‘ˆ ì¶”ê°€
-def create_column(project_id: int, col_data: BoardColumnCreate, user_id: int = Depends(get_current_user_id),
-                  db: Session = Depends(get_db)):
+@vectorize(search_description="Create board column (Group)", capture_return_value=True, replay=True)
+def create_column(
+        project_id: int,
+        col_data: BoardColumnCreate,
+        user_id: int = Depends(get_current_user_id),
+        db: Session = Depends(get_db)
+):
     project = db.get(Project, project_id)
-    if not project: raise HTTPException(status_code=404, detail="í”„ë¡œì íŠ¸ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
+    if not project: raise HTTPException(status_code=404, detail="Project not found")
 
-    # ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ë©¤ë²„ ê¶Œí•œ í™•ì¸ ë¡œì§ ìƒëµ(í•„ìš” ì‹œ ì¶”ê°€)
+    # DB ëª¨ë¸ ìƒì„± (col_dataì˜ aliasë“¤ì´ ìë™ìœ¼ë¡œ ë§¤í•‘ë¨)
+    # by_alias=Falseë¡œ í•´ì•¼ íŒŒì´ì¬ ë³€ìˆ˜ëª…(local_x)ìœ¼ë¡œ ë¤í”„ë¨
+    new_col = BoardColumn(
+        **col_data.model_dump(by_alias=False),
+        project_id=project_id
+    )
 
-    new_col = BoardColumn(**col_data.model_dump(), project_id=project_id)
     db.add(new_col)
     db.commit()
     db.refresh(new_col)
 
-    user = db.get(User, user_id)
-    # Projectë¥¼ ì¡°íšŒí•´ì„œ workspace_idë¥¼ ì•Œì•„ëƒ„
-    project = db.get(Project, project_id)
-
-    log_activity(
-        db=db,
-        user_id=user_id,
-        workspace_id=project.workspace_id,
-        action_type="CREATE",
-        content=f"ğŸ“‹ '{user.name}'ë‹˜ì´ '{project.name}' í”„ë¡œì íŠ¸ì— '{new_col.title}' ì»¬ëŸ¼ì„ ìƒì„±í–ˆìŠµë‹ˆë‹¤."
+    # ì‘ë‹µ ê°ì²´ ìˆ˜ë™ êµ¬ì„± (transform ì¡°ë¦½)
+    return BoardColumnResponse(
+        id=new_col.id,
+        title=new_col.title,
+        local_x=new_col.local_x,
+        local_y=new_col.local_y,
+        width=new_col.width,
+        height=new_col.height,
+        parent_id=new_col.parent_id,
+        depth=new_col.depth,
+        color=new_col.color,
+        collapsed=new_col.collapsed,
+        order=new_col.order,
+        project_id=new_col.project_id,
+        transform=TransformSchema(
+            scaleX=new_col.scale_x,
+            scaleY=new_col.scale_y,
+            rotation=new_col.rotation
+        )
     )
 
-    return new_col
+@router.patch("/columns/{column_id}", response_model=BoardColumnResponse)
+@vectorize(search_description="Update board column (Group)", capture_return_value=True)
+def update_column(
+        column_id: int,
+        col_data: BoardColumnCreate, # Create ëª¨ë¸ ì¬í™œìš© (Optionalë¡œ ë§Œë“œëŠ”ê²Œ ì •ì„ì´ì§€ë§Œ í¸ì˜ìƒ)
+        db: Session = Depends(get_db)
+):
+    col = db.get(BoardColumn, column_id)
+    if not col:
+        raise HTTPException(status_code=404, detail="Column not found")
+
+    # ì…ë ¥ëœ ê°’ë§Œ ì—…ë°ì´íŠ¸
+    data = col_data.model_dump(exclude_unset=True, by_alias=False)
+    for key, value in data.items():
+        setattr(col, key, value)
+
+    db.add(col)
+    db.commit()
+    db.refresh(col)
+
+    return BoardColumnResponse(
+        id=col.id,
+        title=col.title,
+        local_x=col.local_x,
+        local_y=col.local_y,
+        width=col.width,
+        height=col.height,
+        parent_id=col.parent_id,
+        depth=col.depth,
+        color=col.color,
+        collapsed=col.collapsed,
+        order=col.order,
+        project_id=col.project_id,
+        transform=TransformSchema(
+            scaleX=col.scale_x,
+            scaleY=col.scale_y,
+            rotation=col.rotation
+        )
+    )
 
 
 @router.post("/projects/{project_id}/cards", response_model=CardResponse)
diff --git a/app/schemas.py b/app/schemas.py
index 6bb2900..df14f3a 100644
--- a/app/schemas.py
+++ b/app/schemas.py
@@ -50,14 +50,48 @@ class ProjectResponse(BaseModel):
 
 class BoardColumnCreate(BaseModel):
     title: str
-    order: Optional[int] = 0
+
+    # í”„ë¡ íŠ¸ì—”ë“œ ë³€ìˆ˜ëª…(camelCase) -> ë°±ì—”ë“œ ë³€ìˆ˜ëª…(snake_case) ë§¤í•‘
+    local_x: float = PydanticField(alias="localX", default=0.0)
+    local_y: float = PydanticField(alias="localY", default=0.0)
+    width: float = 300.0
+    height: float = 500.0
+
+    parent_id: Optional[int] = PydanticField(alias="parentId", default=None)
+    depth: int = 0
+
+    # UI ì†ì„±
+    color: Optional[str] = "#ffffff"
+    collapsed: bool = False
+    order: int = 0
+
+class TransformSchema(BaseModel):
+    scaleX: float
+    scaleY: float
+    rotation: float
 
 
 class BoardColumnResponse(BaseModel):
     id: int
     title: str
+
+    # ë°±ì—”ë“œ ë°ì´í„° -> í”„ë¡ íŠ¸ì—”ë“œ JSON í‚¤ ì´ë¦„ ë³€ê²½
+    local_x: float = PydanticField(serialization_alias="localX")
+    local_y: float = PydanticField(serialization_alias="localY")
+    width: float
+    height: float
+
+    parent_id: Optional[int] = PydanticField(serialization_alias="parentId")
+    depth: int
+
+    color: Optional[str]
+    collapsed: bool
     order: int
-    project_id: int
+    project_id: int = PydanticField(serialization_alias="boardId") # project_id -> boardId
+
+    # Transform ê°ì²´ ì¡°ë¦½ (DB í•„ë“œ 3ê°œ -> ê°ì²´ 1ê°œ)
+    # Pydantic v2 computed_fieldë¥¼ ì“°ê±°ë‚˜, ì•„ë˜ì²˜ëŸ¼ ë³„ë„ í•„ë“œë¡œ ì •ì˜ í›„ routerì—ì„œ ì¡°ë¦½
+    transform: Optional[TransformSchema] = None
 
 
 #todo orders í•„ë“œëŠ” ì¶”í›„ ë¼ë²¨ë¡œ ì²˜ë¦¬

commit b5ad83f0e430d2282e28bf7a6b03ee43677be4cd
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Wed Jan 21 22:13:46 2026 +0900

    Change column structure
    
    Now card can place on board without column
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/models/board.py b/app/models/board.py
index c1d7c74..ca84505 100644
--- a/app/models/board.py
+++ b/app/models/board.py
@@ -45,29 +45,34 @@ class BoardColumn(SQLModel, table=True):
     cards: List["Card"] = Relationship(back_populates="column", sa_relationship_kwargs={"cascade": "all, delete"})
 
 
-# 2. ì¹´ë“œ (ì‹¤ì œ í•  ì¼ / í¬ìŠ¤íŠ¸ì‡)
 class Card(SQLModel, table=True):
     __tablename__ = "cards"
 
     id: Optional[int] = Field(default=None, primary_key=True)
     title: str
     content: Optional[str] = None
-    order: int = Field(default=0)  # ì»¬ëŸ¼ ë‚´ì—ì„œì˜ ì¹´ë“œ ìˆœì„œ
-    column_id: int = Field(foreign_key="board_columns.id", index=True)
+    order: int = Field(default=0)
+
+    # ğŸš¨ [í•µì‹¬ ë³€ê²½] column_idë¥¼ Optional(ì„ íƒ)ë¡œ ë³€ê²½
+    column_id: Optional[int] = Field(default=None, foreign_key="board_columns.id", index=True)
+
+    # âœ… [ì‹ ê·œ] ì¹´ë“œê°€ í”„ë¡œì íŠ¸ì— ì§ì ‘ ì†Œì†ë¨
+    project_id: int = Field(foreign_key="projects.id", index=True)
+
+    # ... (assignees, files, x, y ë“± ê¸°ì¡´ í•„ë“œ ìœ ì§€) ...
     assignees: List[User] = Relationship(link_model=CardAssignee)
     files: List["FileMetadata"] = Relationship(link_model=CardFileLink, back_populates="cards")
     card_type: str = Field(default="task")
-
     x: float = Field(default=0.0)
     y: float = Field(default=0.0)
-
     start_date: Optional[datetime] = Field(default=None)
     due_date: Optional[datetime] = Field(default=None)
-
     created_at: datetime = Field(default_factory=datetime.now)
     updated_at: datetime = Field(default_factory=datetime.now)
 
-    column: Optional[BoardColumn] = Relationship(back_populates="cards")
+    # ê´€ê³„ ì„¤ì •
+    column: Optional["BoardColumn"] = Relationship(back_populates="cards")
+    project: "Project" = Relationship(back_populates="cards") # ğŸ‘ˆ í”„ë¡œì íŠ¸ì™€ ì—°ê²°
     comments: List["CardComment"] = Relationship(back_populates="card", sa_relationship_kwargs={"cascade": "all, delete"})
 
 
diff --git a/app/models/workspace.py b/app/models/workspace.py
index 8e474a8..8c1996c 100644
--- a/app/models/workspace.py
+++ b/app/models/workspace.py
@@ -58,3 +58,4 @@ class Project(SQLModel, table=True):
                                                 sa_relationship_kwargs={"cascade": "all, delete"})
     files: List["FileMetadata"] = Relationship(back_populates="project",
                                                sa_relationship_kwargs={"cascade": "all, delete"})
+    cards: List["Card"] = Relationship(back_populates="project", sa_relationship_kwargs={"cascade": "all, delete"})
diff --git a/app/routers/board.py b/app/routers/board.py
index 1ad38c7..d6ca3fb 100644
--- a/app/routers/board.py
+++ b/app/routers/board.py
@@ -50,31 +50,46 @@ def create_column(project_id: int, col_data: BoardColumnCreate, user_id: int = D
     return new_col
 
 
-# 2. ì¹´ë“œ ìƒì„±
-@router.post("/columns/{column_id}/cards", response_model=CardResponse)
-@vectorize(search_description="Create card", capture_return_value=True, replay=True)  # ğŸ‘ˆ ì¶”ê°€
+@router.post("/projects/{project_id}/cards", response_model=CardResponse)
+@vectorize(search_description="Create card in project", capture_return_value=True, replay=True)
 def create_card(
-        column_id: int,
+        project_id: int,
         card_data: CardCreate,
         user_id: int = Depends(get_current_user_id),
         db: Session = Depends(get_db)
 ):
-    # ì»¬ëŸ¼ í™•ì¸
-    column = db.get(BoardColumn, column_id)
-    if not column:
-        raise HTTPException(status_code=404, detail="ì»¬ëŸ¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
-
-    # ì¹´ë“œ ìƒì„±
+    # 1. í”„ë¡œì íŠ¸ í™•ì¸
+    project = db.get(Project, project_id)
+    if not project:
+        raise HTTPException(status_code=404, detail="í”„ë¡œì íŠ¸ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
+
+    # âœ… [ìˆ˜ì • í¬ì¸íŠ¸ 1] 0ì´ë‚˜ ë¹ˆ ê°’ì´ ë“¤ì–´ì˜¤ë©´ Noneìœ¼ë¡œ ë³€í™˜ (ì´ê²Œ í•µì‹¬!)
+    # (Pythonì—ì„œ 0ì€ Falseë¡œ ì·¨ê¸‰ë˜ë¯€ë¡œ, ì´ ì¡°ê±´ë¬¸ í•˜ë‚˜ë¡œ 0ê³¼ Noneì„ ëª¨ë‘ ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.)
+    final_column_id = card_data.column_id if card_data.column_id else None
+
+    # 2. ì»¬ëŸ¼ IDê°€ ìœ íš¨í•œ ê°’(1 ì´ìƒ)ì¼ ë•Œë§Œ DB ì¡°íšŒ ë° ê²€ì‚¬
+    if final_column_id:
+        column = db.get(BoardColumn, final_column_id)
+        if not column:
+            raise HTTPException(status_code=404, detail="ì§€ì •ëœ ì»¬ëŸ¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
+        if column.project_id != project_id:
+            raise HTTPException(status_code=400, detail="í•´ë‹¹ ì»¬ëŸ¼ì€ ì´ í”„ë¡œì íŠ¸ì— ì†í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.")
+
+    # 3. ì¹´ë“œ ìƒì„±
     new_card = Card(
         title=card_data.title,
         content=card_data.content,
+        project_id=project_id,
+        column_id=final_column_id,  # âœ… [ìˆ˜ì • í¬ì¸íŠ¸ 2] ë³€í™˜ëœ ê°’(None) ì‚¬ìš©
         order=card_data.order,
-        column_id=column_id,
         x=card_data.x,
-        y=card_data.y
+        y=card_data.y,
+        card_type=card_data.card_type,
+        start_date=card_data.start_date,
+        due_date=card_data.due_date
     )
 
-    # ë‹´ë‹¹ì ì—°ê²° (Many-to-Many)
+    # ë‹´ë‹¹ì ì—°ê²°
     if card_data.assignee_ids:
         users = db.exec(select(User).where(User.id.in_(card_data.assignee_ids))).all()
         new_card.assignees = users
@@ -83,17 +98,22 @@ def create_card(
     db.commit()
     db.refresh(new_card)
 
+    # ë¡œê·¸ ê¸°ë¡
     user = db.get(User, user_id)
-    # Column -> Project -> Workspace ì—­ì¶”ì 
-    column = db.get(BoardColumn, column_id)
-    project = db.get(Project, column.project_id)
+    location = f"'{project.name}' í”„ë¡œì íŠ¸"
+    if final_column_id: # column_id ëŒ€ì‹  final_column_id ì²´í¬
+        # column ë³€ìˆ˜ê°€ ìœ„ ifë¬¸ ìŠ¤ì½”í”„ ì•ˆì— ìˆìœ¼ë¯€ë¡œ ë‹¤ì‹œ ì¡°íšŒí•˜ê±°ë‚˜ ë¡œì§ ì¡°ì • í•„ìš”
+        # ê°„ë‹¨í•˜ê²Œ ë‹¤ì‹œ ì¡°íšŒ
+        col = db.get(BoardColumn, final_column_id)
+        if col:
+            location += f"ì˜ '{col.title}' ì»¬ëŸ¼"
 
     log_activity(
         db=db,
         user_id=user_id,
         workspace_id=project.workspace_id,
         action_type="CREATE",
-        content=f"ğŸ“ '{user.name}'ë‹˜ì´ '{project.name}'ì— ì¹´ë“œ '{new_card.title}'ì„(ë¥¼) ìƒì„±í–ˆìŠµë‹ˆë‹¤."
+        content=f"ğŸ“ '{user.name}'ë‹˜ì´ {location}ì— ì¹´ë“œ '{new_card.title}'ì„(ë¥¼) ìƒì„±í–ˆìŠµë‹ˆë‹¤."
     )
 
     return new_card
@@ -113,6 +133,24 @@ def get_board(project_id: int, db: Session = Depends(get_db)):
         })
     return result
 
+@router.get("/projects/{project_id}/cards", response_model=List[CardResponse])
+@vectorize(search_description="Get all cards in project", capture_return_value=True, replay=True)
+def get_project_cards(
+        project_id: int,
+        db: Session = Depends(get_db)
+):
+    """
+    íŠ¹ì • í”„ë¡œì íŠ¸ì— ì†í•œ 'ëª¨ë“  ì¹´ë“œ'ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.
+    (ì¹¸ë°˜ ì»¬ëŸ¼ì— ìˆëŠ” ì¹´ë“œ + ì»¬ëŸ¼ ì—†ëŠ” ë°±ë¡œê·¸/í™”ì´íŠ¸ë³´ë“œ ì¹´ë“œ ëª¨ë‘ í¬í•¨)
+    """
+    cards = db.exec(
+        select(Card)
+        .where(Card.project_id == project_id)
+        .order_by(Card.id) # ë˜ëŠ” order_by(Card.order)
+    ).all()
+
+    return cards
+
 
 @router.get("/projects/{project_id}/columns", response_model=List[BoardColumnResponse])
 def get_project_columns(
diff --git a/app/schemas.py b/app/schemas.py
index 6a5c732..6bb2900 100644
--- a/app/schemas.py
+++ b/app/schemas.py
@@ -64,6 +64,7 @@ class BoardColumnResponse(BaseModel):
 class CardCreate(BaseModel):
     title: str
     content: Optional[str] = None
+    column_id: Optional[int] = None
     order: Optional[int] = 0
     x: Optional[float] = 0.0
     y: Optional[float] = 0.0
@@ -169,7 +170,7 @@ class CardResponse(BaseModel):
     y: float
     created_at: datetime
     updated_at: datetime
-
+    column_id: Optional[int] = None
     assignees: List[UserResponse] = []
     files: List[FileResponse] = []
     start_date: Optional[datetime] = None

commit 65de8803973cebe2279a84a6992b83e67ab8c852
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Wed Jan 21 21:34:53 2026 +0900

    Add card delete api
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/routers/board.py b/app/routers/board.py
index c432166..1ad38c7 100644
--- a/app/routers/board.py
+++ b/app/routers/board.py
@@ -157,6 +157,40 @@ def update_card(
     db.refresh(card)
     return card
 
+@router.delete("/cards/{card_id}")
+@vectorize(search_description="Delete card", capture_return_value=True)
+def delete_card(
+        card_id: int,
+        user_id: int = Depends(get_current_user_id),
+        db: Session = Depends(get_db)
+):
+    # 1. ì¹´ë“œ ì¡°íšŒ
+    card = db.get(Card, card_id)
+    if not card:
+        raise HTTPException(status_code=404, detail="ì¹´ë“œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
+
+    # 2. ì‚­ì œ ì „ ë¡œê·¸ë¥¼ ìœ„í•œ ì •ë³´ ìˆ˜ì§‘ (ì‚­ì œí•˜ë©´ ì •ë³´ê°€ ì‚¬ë¼ì§€ë¯€ë¡œ ë¯¸ë¦¬ ì¡°íšŒ)
+    column = db.get(BoardColumn, card.column_id)
+    project = db.get(Project, column.project_id) if column else None
+
+    # 3. ì‚­ì œ ìˆ˜í–‰
+    # (Card ëª¨ë¸ì— cascade ì˜µì…˜ì´ ì˜ ì„¤ì •ë˜ì–´ ìˆë‹¤ë©´ ëŒ“ê¸€ ë“±ë„ ìë™ ì‚­ì œë©ë‹ˆë‹¤.)
+    db.delete(card)
+    db.commit()
+
+    # 4. í™œë™ ë¡œê·¸ ê¸°ë¡
+    if project:
+        user = db.get(User, user_id)
+        log_activity(
+            db=db,
+            user_id=user_id,
+            workspace_id=project.workspace_id,
+            action_type="DELETE",
+            content=f"ğŸ—‘ï¸ '{user.name}'ë‹˜ì´ ì¹´ë“œ '{card.title}'ì„(ë¥¼) ì‚­ì œí–ˆìŠµë‹ˆë‹¤."
+        )
+
+    return {"message": "ì¹´ë“œê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤."}
+
 
 @router.post("/cards/{card_id}/files/{file_id}", response_model=CardResponse)
 @vectorize(search_description="Attach file to card", capture_return_value=True, replay=True)  # ğŸ‘ˆ ì¶”ê°€

commit aef27cfc0ca04f20c6b87aac50f64cce60448caa
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Wed Jan 21 19:59:32 2026 +0900

    Add card dependency and connection information
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/models/board.py b/app/models/board.py
index d4d096e..c1d7c74 100644
--- a/app/models/board.py
+++ b/app/models/board.py
@@ -19,10 +19,16 @@ class CardAssignee(SQLModel, table=True):
 class CardDependency(SQLModel, table=True):
     __tablename__ = "card_dependencies"
 
-    # ì„ ì˜ ì‹œì‘ì  (From)
-    from_card_id: int = Field(foreign_key="cards.id", primary_key=True)
-    # ì„ ì˜ ë„ì°©ì  (To)
-    to_card_id: int = Field(foreign_key="cards.id", primary_key=True)
+    # ê³ ìœ  ID ì¶”ê°€
+    id: Optional[int] = Field(default=None, primary_key=True)
+
+    # ì—°ê²° ì •ë³´
+    from_card_id: int = Field(foreign_key="cards.id")
+    to_card_id: int = Field(foreign_key="cards.id")
+
+    # ìŠ¤íƒ€ì¼ ì •ë³´ (ê¸°ë³¸ê°’ ì„¤ì •)
+    style: str = Field(default="solid")   # solid, dashed, dotted
+    shape: str = Field(default="bezier")  # bezier, straight, step
 
 
 # 1. ë³´ë“œ ì»¬ëŸ¼ (ì˜ˆ: í•  ì¼, ì§„í–‰ ì¤‘, ì™„ë£Œ)
diff --git a/app/routers/board.py b/app/routers/board.py
index b728fd3..c432166 100644
--- a/app/routers/board.py
+++ b/app/routers/board.py
@@ -12,9 +12,10 @@ from app.utils.logger import log_activity
 from app.models.user import User
 from app.models.workspace import Project
 from app.models.file import FileMetadata
-from app.models.board import CardFileLink, CardComment
+from app.models.board import CardFileLink, CardComment, CardDependency
 from app.schemas import FileResponse
 from vectorwave import *
+from app.schemas import CardConnectionCreate, CardConnectionResponse
 
 router = APIRouter(tags=["Board & Cards"])
 
@@ -305,3 +306,108 @@ def delete_comment(
     db.delete(comment)
     db.commit()
     return {"message": "ëŒ“ê¸€ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤."}
+
+# 1. í”„ë¡œì íŠ¸ ë‚´ ëª¨ë“  ì¹´ë“œ ì—°ê²° ì¡°íšŒ (í”„ë¡ íŠ¸ì—”ë“œ í¬ë§· ë§ì¶¤)
+@router.get("/projects/{project_id}/connections", response_model=List[CardConnectionResponse])
+@vectorize(search_description="Get project card connections", capture_return_value=True)
+def get_project_connections(
+        project_id: int,
+        db: Session = Depends(get_db)
+):
+    """
+    í”„ë¡ íŠ¸ì—”ë“œ ì¸í„°í˜ì´ìŠ¤ {id, from, to, boardId, style, shape} ì— ë§ì¶° ë°˜í™˜í•©ë‹ˆë‹¤.
+    """
+    # 1. í•´ë‹¹ í”„ë¡œì íŠ¸ì— ì†í•œ ì—°ê²°ë§Œ ì¡°íšŒ (Join)
+    statement = (
+        select(CardDependency)
+        .join(Card, CardDependency.from_card_id == Card.id)
+        .join(BoardColumn, Card.column_id == BoardColumn.id)
+        .where(BoardColumn.project_id == project_id)
+    )
+    connections = db.exec(statement).all()
+
+    # 2. ì‘ë‹µ ë°ì´í„° ë³€í™˜ (boardId ì£¼ì…)
+    # CardDependency ëª¨ë¸ì—ëŠ” board_idê°€ ì—†ìœ¼ë¯€ë¡œ, project_idë¥¼ boardIdë¡œ ë§¤í•‘í•´ì¤ë‹ˆë‹¤.
+    results = []
+    for conn in connections:
+        results.append(CardConnectionResponse(
+            id=conn.id,
+            from_card_id=conn.from_card_id,
+            to_card_id=conn.to_card_id,
+            board_id=project_id, # í˜„ì¬ í”„ë¡œì íŠ¸ IDë¥¼ boardIdë¡œ ì‚¬ìš©
+            style=conn.style,
+            shape=conn.shape
+        ))
+
+    return results
+
+
+# 2. ì¹´ë“œ ì—°ê²° ìƒì„±
+@router.post("/cards/connections", response_model=CardConnectionResponse)
+@vectorize(search_description="Create card connection", capture_return_value=True)
+def create_card_connection(
+        conn_data: CardConnectionCreate,
+        db: Session = Depends(get_db),
+        user_id: int = Depends(get_current_user_id)
+):
+    # ìœ íš¨ì„± ê²€ì‚¬ ë“±ì€ ê¸°ì¡´ê³¼ ë™ì¼...
+    card_from = db.get(Card, conn_data.from_card_id)
+    if not card_from: raise HTTPException(status_code=404, detail="Source card not found")
+
+    # boardId(project_id) ì—­ì¶”ì 
+    column = db.get(BoardColumn, card_from.column_id)
+    project_id = column.project_id
+
+    # ì¤‘ë³µ ì²´í¬ (from, toê°€ ê°™ì€ê²Œ ìˆëŠ”ì§€)
+    existing = db.exec(
+        select(CardDependency)
+        .where(CardDependency.from_card_id == conn_data.from_card_id)
+        .where(CardDependency.to_card_id == conn_data.to_card_id)
+    ).first()
+
+    if existing:
+        return CardConnectionResponse(
+            id=existing.id,
+            from_card_id=existing.from_card_id,
+            to_card_id=existing.to_card_id,
+            board_id=project_id,
+            style=existing.style,
+            shape=existing.shape
+        )
+
+    # ì €ì¥
+    new_conn = CardDependency(
+        from_card_id=conn_data.from_card_id,
+        to_card_id=conn_data.to_card_id,
+        style=conn_data.style,
+        shape=conn_data.shape
+    )
+    db.add(new_conn)
+    db.commit()
+    db.refresh(new_conn)
+
+    return CardConnectionResponse(
+        id=new_conn.id,
+        from_card_id=new_conn.from_card_id,
+        to_card_id=new_conn.to_card_id,
+        board_id=project_id,
+        style=new_conn.style,
+        shape=new_conn.shape
+    )
+
+# 3. ì¹´ë“œ ì—°ê²° ì‚­ì œ (IDë¡œ ì‚­ì œ)
+@router.delete("/cards/connections/{connection_id}")
+@vectorize(search_description="Delete card connection", capture_return_value=True)
+def delete_card_connection(
+        connection_id: int,
+        db: Session = Depends(get_db),
+        user_id: int = Depends(get_current_user_id)
+):
+    connection = db.get(CardDependency, connection_id)
+    if not connection:
+        raise HTTPException(status_code=404, detail="Connection not found")
+
+    db.delete(connection)
+    db.commit()
+
+    return {"message": "ì—°ê²°ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤."}
diff --git a/app/schemas.py b/app/schemas.py
index 92b0583..6a5c732 100644
--- a/app/schemas.py
+++ b/app/schemas.py
@@ -1,7 +1,7 @@
 from pydantic import BaseModel, EmailStr
 from datetime import time as dt_time, datetime
 from typing import Optional, List
-
+from pydantic import Field as PydanticField # ğŸ‘ˆ ë³„ì¹­ ì‚¬ìš©ì„ ìœ„í•´ í•„ìš”
 
 # data for register
 class UserCreate(BaseModel):
@@ -302,3 +302,19 @@ class ProjectEventUpdate(BaseModel):
     description: Optional[str] = None
     start_datetime: Optional[datetime] = None
     end_datetime: Optional[datetime] = None
+
+# ğŸ”— [ìˆ˜ì •] ì¹´ë“œ ì—°ê²° ìƒì„± ìš”ì²­
+class CardConnectionCreate(BaseModel):
+    from_card_id: int = PydanticField(alias="from") # í”„ë¡ íŠ¸ì—ì„œ { "from": 1, ... } ë¡œ ë³´ëƒ„
+    to_card_id: int = PydanticField(alias="to")
+    style: Optional[str] = "solid"
+    shape: Optional[str] = "bezier"
+
+# ğŸ”— [ìˆ˜ì •] ì¹´ë“œ ì—°ê²° ì‘ë‹µ (í”„ë¡ íŠ¸ì—”ë“œ ì¸í„°í˜ì´ìŠ¤ì™€ 100% ì¼ì¹˜)
+class CardConnectionResponse(BaseModel):
+    id: int
+    from_card_id: int = PydanticField(serialization_alias="from") # JSON ë‚˜ê°ˆë•Œ "from"ìœ¼ë¡œ ë³€í™˜
+    to_card_id: int = PydanticField(serialization_alias="to")     # JSON ë‚˜ê°ˆë•Œ "to"ë¡œ ë³€í™˜
+    board_id: int = PydanticField(serialization_alias="boardId")  # JSON ë‚˜ê°ˆë•Œ "boardId"ë¡œ ë³€í™˜
+    style: str
+    shape: str

commit 5dca2b7b85360766cc2b2f4067c473b11ceb6cb1
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Wed Jan 21 16:42:19 2026 +0900

    Add chat stream router for sse
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/routers/chat.py b/app/routers/chat.py
index 3b0ba19..9287c17 100644
--- a/app/routers/chat.py
+++ b/app/routers/chat.py
@@ -1,16 +1,18 @@
 # app/routers/chat.py
 
-from fastapi import APIRouter, Depends, HTTPException, Query
+from fastapi import APIRouter, Depends, HTTPException, Query, Request
 from sqlmodel import Session, select
 from typing import List
 from datetime import datetime
-
+from fastapi.responses import StreamingResponse
 from app.database import get_db
 from app.models.chat import ChatMessage
 from app.models.user import User
 from app.schemas import ChatMessageResponse, ChatMessageCreate
 from app.routers.workspace import get_current_user_id
 from vectorwave import vectorize
+import asyncio
+import json
 
 router = APIRouter(tags=["Project Chat"])
 
@@ -60,4 +62,64 @@ def send_chat_message(
     db.commit()
     db.refresh(new_msg)
 
-    return new_msg
\ No newline at end of file
+    return new_msg
+
+# âœ… [ì‹ ê·œ] SSE ê¸°ë°˜ ì‹¤ì‹œê°„ ì±„íŒ… ìŠ¤íŠ¸ë¦¼
+@router.get("/projects/{project_id}/chat/stream")
+async def stream_chat_messages(
+        project_id: int,
+        request: Request,
+        db: Session = Depends(get_db)
+):
+    """
+    Server-Sent Events (SSE) ì—”ë“œí¬ì¸íŠ¸
+    í´ë¼ì´ì–¸íŠ¸ê°€ ì—°ê²°í•˜ë©´, 1ì´ˆë§ˆë‹¤ DBë¥¼ í™•ì¸í•´ì„œ ìƒˆë¡œìš´ ë©”ì‹œì§€ê°€ ìˆìœ¼ë©´ 'í‘¸ì‹œ'í•´ì¤ë‹ˆë‹¤.
+    """
+
+    async def event_generator():
+        # ì²˜ìŒ ì—°ê²° ì‹œì ì˜ ê°€ì¥ ë§ˆì§€ë§‰ ë©”ì‹œì§€ IDë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.
+        last_msg = db.exec(
+            select(ChatMessage)
+            .where(ChatMessage.project_id == project_id)
+            .order_by(ChatMessage.id.desc())
+            .limit(1)
+        ).first()
+
+        last_id = last_msg.id if last_msg else 0
+
+        # ì—°ê²°ì´ ëŠê¸°ì§€ ì•ŠëŠ” ë™ì•ˆ ê³„ì† ë£¨í”„ë¥¼ ë•ë‹ˆë‹¤.
+        while True:
+            # í´ë¼ì´ì–¸íŠ¸ ì—°ê²°ì´ ëŠê²¼ëŠ”ì§€ ì²´í¬
+            if await request.is_disconnected():
+                break
+
+            # 1. ìƒˆë¡œìš´ ë©”ì‹œì§€ê°€ ìˆëŠ”ì§€ ì¡°íšŒ (ë§ˆì§€ë§‰ IDë³´ë‹¤ í° ê²ƒ)
+            # ì£¼ì˜: ì‹¤ì œ í”„ë¡œë•ì…˜ì—ì„œëŠ” Redis ë“±ì„ ì“°ì§€ë§Œ, ê°„ë‹¨í•˜ê²Œ DB í´ë§ìœ¼ë¡œ êµ¬í˜„í•©ë‹ˆë‹¤.
+            new_messages = db.exec(
+                select(ChatMessage)
+                .where(ChatMessage.project_id == project_id)
+                .where(ChatMessage.id > last_id)
+                .order_by(ChatMessage.id.asc())
+            ).all()
+
+            # 2. ìƒˆ ë©”ì‹œì§€ê°€ ìˆìœ¼ë©´ ì „ì†¡
+            if new_messages:
+                for msg in new_messages:
+                    # ë³´ë‚¼ ë°ì´í„°ë¥¼ JSON ë¬¸ìì—´ë¡œ ë³€í™˜
+                    data = json.dumps({
+                        "id": msg.id,
+                        "content": msg.content,
+                        "user_id": msg.user_id,
+                        "created_at": msg.created_at.isoformat()
+                    }, ensure_ascii=False)
+
+                    # SSE í˜•ì‹ (data: {json}\n\n)ì— ë§ì¶° ì „ì†¡
+                    yield f"data: {data}\n\n"
+
+                    # ë§ˆì§€ë§‰ ID ê°±ì‹ 
+                    last_id = msg.id
+
+            # 3. 1ì´ˆ ëŒ€ê¸° (ì„œë²„ ë¶€í•˜ ë°©ì§€)
+            await asyncio.sleep(1)
+
+    return StreamingResponse(event_generator(), media_type="text/event-stream")
\ No newline at end of file

commit 27d23e9bef36bfaab53f91a229392863fd236ed8
Author: UZIH05 <luv.wlgjs@gmail.com>
Date:   Mon Jan 19 23:35:18 2026 +0900

    fix: resolve TypeScript build errors and refactor ID types
    
    - Update `src/types/index.ts` to allow `string | number` for entity IDs.
    - Fix type mismatches in `BoardCanvas` and `WorkspaceBoard` by ensuring explicit string conversion.
    - Resolve strict type errors in `TaskDetailModal`.
    - Configure environment variables to disable mock mode for real API communication.
    - Ensure successful `next build`.
    
    Signed-off-by: UZIH05 <luv.wlgjs@gmail.com>

diff --git a/app/main.py b/app/main.py
index 68add33..ca41da9 100644
--- a/app/main.py
+++ b/app/main.py
@@ -9,6 +9,9 @@ from fastapi.staticfiles import StaticFiles
 #routers
 from app.routers import auth, workspace, board, schedule, file, activity, user, voice, chat, post
 
+from fastapi.middleware.cors import CORSMiddleware
+
+
 try:
     from vectorwave import initialize_database, generate_and_register_metadata
 except ImportError:
@@ -68,6 +71,21 @@ app = FastAPI(
     lifespan=lifespan
 )
 
+origins = [
+    "http://localhost:3000",      # í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ ì„œë²„
+    "http://localhost:3001",      # (í˜¹ì‹œ í¬íŠ¸ê°€ ë‹¤ë¥¼ ê²½ìš° ëŒ€ë¹„)
+    "http://127.0.0.1:3000",
+    "*"                           # í…ŒìŠ¤íŠ¸ìš© (ë³´ì•ˆìƒ ë‚˜ì¤‘ì—” íŠ¹ì • ë„ë©”ì¸ë§Œ í—ˆìš© ì¶”ì²œ)
+]
+
+app.add_middleware(
+    CORSMiddleware,
+    allow_origins=origins,        # í—ˆìš©í•  ì¶œì²˜ ëª©ë¡
+    allow_credentials=True,       # ì¿ í‚¤/ì¸ì¦ ì •ë³´ í¬í•¨ í—ˆìš©
+    allow_methods=["*"],          # ëª¨ë“  HTTP ë©”ì„œë“œ(GET, POST, OPTIONS ë“±) í—ˆìš©
+    allow_headers=["*"],          # ëª¨ë“  í—¤ë” í—ˆìš©
+)
+
 app.mount("/static", StaticFiles(directory="/app/uploads"), name="static")
 
 #routers
@@ -82,7 +100,6 @@ app.include_router(voice.router)
 app.include_router(chat.router, prefix="/api")
 app.include_router(post.router, prefix="/api")
 
-
 @app.get("/")
 def read_root():
     return {

commit 8c2d3690986511d96fcda389a85272814e8a3323
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Mon Jan 19 20:33:38 2026 +0900

    Add update api for missing
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/routers/post.py b/app/routers/post.py
index fe6c86f..1d3a235 100644
--- a/app/routers/post.py
+++ b/app/routers/post.py
@@ -2,7 +2,7 @@ from fastapi import APIRouter, Depends, HTTPException
 from sqlmodel import Session, select
 from typing import List
 from vectorwave import vectorize
-
+from datetime import datetime
 from app.database import get_db
 from app.routers.workspace import get_current_user_id
 from app.models.post import Post, PostComment
@@ -90,3 +90,35 @@ def delete_post_comment(
     db.delete(comment)
     db.commit()
     return {"message": "ëŒ“ê¸€ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤."}
+
+@router.patch("/posts/{post_id}", response_model=PostResponse)
+@vectorize(search_description="Update post", capture_return_value=True)
+def update_post(
+        post_id: int,
+        post_data: PostUpdate,
+        user_id: int = Depends(get_current_user_id),
+        db: Session = Depends(get_db)
+):
+    # 1. ê²Œì‹œê¸€ ì¡°íšŒ
+    post = db.get(Post, post_id)
+    if not post:
+        raise HTTPException(status_code=404, detail="Post not found")
+
+    # 2. ê¶Œí•œ í™•ì¸ (ì‘ì„±ìë§Œ ìˆ˜ì • ê°€ëŠ¥)
+    if post.user_id != user_id:
+        raise HTTPException(status_code=403, detail="ì‘ì„±ìë§Œ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.")
+
+    # 3. ë°ì´í„° ì—…ë°ì´íŠ¸
+    if post_data.title is not None:
+        post.title = post_data.title
+    if post_data.content is not None:
+        post.content = post_data.content
+
+    # ìˆ˜ì • ì‹œê°„ ê°±ì‹ 
+    post.updated_at = datetime.now()
+
+    db.add(post)
+    db.commit()
+    db.refresh(post)
+
+    return post
\ No newline at end of file
diff --git a/app/routers/schedule.py b/app/routers/schedule.py
index 5d744e4..58a279a 100644
--- a/app/routers/schedule.py
+++ b/app/routers/schedule.py
@@ -8,7 +8,8 @@ from app.routers.workspace import get_current_user_id
 from app.models.schedule import Schedule, ProjectEvent
 from app.models.workspace import WorkspaceMember
 from app.models.user import User
-from app.schemas import ScheduleCreate, ScheduleResponse, FreeTimeSlot, ProjectEventCreate, ProjectEventResponse
+from app.schemas import ScheduleCreate, ScheduleResponse, FreeTimeSlot, ProjectEventCreate, ProjectEventResponse, \
+    ProjectEventUpdate, ScheduleUpdate
 from app.utils.logger import log_activity
 from app.models.workspace import Project
 from vectorwave import *
@@ -190,3 +191,65 @@ def delete_project_event(
     db.commit()
 
     return {"message": "ì¼ì •ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤."}
+
+@router.patch("/schedules/{schedule_id}", response_model=ScheduleResponse)
+@vectorize(search_description="Update personal schedule", capture_return_value=True)
+def update_personal_schedule(
+        schedule_id: int,
+        schedule_data: ScheduleUpdate,
+        user_id: int = Depends(get_current_user_id),
+        db: Session = Depends(get_db)
+):
+    schedule = db.get(Schedule, schedule_id)
+    if not schedule:
+        raise HTTPException(status_code=404, detail="Schedule not found")
+
+    if schedule.user_id != user_id:
+        raise HTTPException(status_code=403, detail="ë³¸ì¸ì˜ ì¼ì •ë§Œ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.")
+
+    # ì…ë ¥ëœ ê°’ë§Œ ì—…ë°ì´íŠ¸
+    if schedule_data.day_of_week is not None:
+        schedule.day_of_week = schedule_data.day_of_week
+    if schedule_data.start_time is not None:
+        schedule.start_time = schedule_data.start_time
+    if schedule_data.end_time is not None:
+        schedule.end_time = schedule_data.end_time
+    if schedule_data.description is not None:
+        schedule.description = schedule_data.description
+
+    db.add(schedule)
+    db.commit()
+    db.refresh(schedule)
+    return schedule
+
+
+# 2. í”„ë¡œì íŠ¸ ì¼ì • ìˆ˜ì • (ì˜ˆ: íšŒì˜ ì‹œê°„ ë³€ê²½)
+@router.patch("/projects/events/{event_id}", response_model=ProjectEventResponse)
+@vectorize(search_description="Update project event", capture_return_value=True)
+def update_project_event(
+        event_id: int,
+        event_data: ProjectEventUpdate,
+        user_id: int = Depends(get_current_user_id),
+        db: Session = Depends(get_db)
+):
+    event = db.get(ProjectEvent, event_id)
+    if not event:
+        raise HTTPException(status_code=404, detail="Event not found")
+
+    # ê¶Œí•œ í™•ì¸ (ìƒì„±ìë§Œ ìˆ˜ì • ê°€ëŠ¥, í•„ìš”ì‹œ ê´€ë¦¬ìë„ ê°€ëŠ¥í•˜ê²Œ ë³€ê²½ ê°€ëŠ¥)
+    if event.created_by != user_id:
+        raise HTTPException(status_code=403, detail="ì¼ì •ì„ ë“±ë¡í•œ ì‚¬ëŒë§Œ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.")
+
+    if event_data.title is not None:
+        event.title = event_data.title
+    if event_data.description is not None:
+        event.description = event_data.description
+    if event_data.start_datetime is not None:
+        event.start_datetime = event_data.start_datetime
+    if event_data.end_datetime is not None:
+        event.end_datetime = event_data.end_datetime
+
+    db.add(event)
+    db.commit()
+    db.refresh(event)
+    return event
diff --git a/app/routers/user.py b/app/routers/user.py
index 1e1950a..1afdd95 100644
--- a/app/routers/user.py
+++ b/app/routers/user.py
@@ -7,7 +7,7 @@ from sqlmodel import Session, select
 from app.database import get_db
 from app.routers.workspace import get_current_user_id
 from app.models.user import User
-from app.schemas import UserResponse
+from app.schemas import UserResponse, UserUpdate
 from vectorwave import vectorize  # ë¡œê·¸/ì¶”ì ìš© (ì„ íƒ ì‚¬í•­)
 
 router = APIRouter(tags=["User"])
@@ -61,3 +61,23 @@ def get_my_info(
     if not user:
         raise HTTPException(status_code=404, detail="User not found")
     return user
+
+@router.patch("/users/me", response_model=UserResponse)
+@vectorize(search_description="Update user name", capture_return_value=True)
+def update_my_info(
+        user_data: UserUpdate,
+        user_id: int = Depends(get_current_user_id),
+        db: Session = Depends(get_db)
+):
+    user = db.get(User, user_id)
+    if not user:
+        raise HTTPException(status_code=404, detail="User not found")
+
+    if user_data.name is not None:
+        user.name = user_data.name
+
+    db.add(user)
+    db.commit()
+    db.refresh(user)
+
+    return user
diff --git a/app/routers/workspace.py b/app/routers/workspace.py
index cbda04c..b8dd5f0 100644
--- a/app/routers/workspace.py
+++ b/app/routers/workspace.py
@@ -14,6 +14,7 @@ from datetime import datetime, timedelta
 from typing import Any
 from app.utils.logger import log_activity
 from vectorwave import *
+from app.schemas import WorkspaceUpdate, ProjectUpdate
 
 router = APIRouter(tags=["Workspace & Project"])
 
@@ -410,3 +411,65 @@ def remove_workspace_member(
 
     action = "íƒˆí‡´" if user_id == target_user_id else "ê°•í‡´"
     return {"message": f"ë©¤ë²„ê°€ ì„±ê³µì ìœ¼ë¡œ {action}ì²˜ë¦¬ ë˜ì—ˆìŠµë‹ˆë‹¤."}
+
+@router.patch("/workspaces/{workspace_id}", response_model=WorkspaceResponse)
+@vectorize(search_description="Update workspace info", capture_return_value=True)
+def update_workspace(
+        workspace_id: int,
+        ws_data: WorkspaceUpdate,
+        user_id: int = Depends(get_current_user_id),
+        db: Session = Depends(get_db)
+):
+    # 1. ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ì¡°íšŒ
+    workspace = db.get(Workspace, workspace_id)
+    if not workspace:
+        raise HTTPException(status_code=404, detail="Workspace not found")
+
+    # 2. ê¶Œí•œ í™•ì¸ (ì†Œìœ ìë§Œ ìˆ˜ì • ê°€ëŠ¥)
+    if workspace.owner_id != user_id:
+        raise HTTPException(status_code=403, detail="ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ì†Œìœ ìë§Œ ì •ë³´ë¥¼ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.")
+
+    # 3. ë°ì´í„° ì—…ë°ì´íŠ¸ (ì…ë ¥ëœ ê°’ë§Œ ë³€ê²½)
+    if ws_data.name is not None:
+        workspace.name = ws_data.name
+    if ws_data.description is not None:
+        workspace.description = ws_data.description
+
+    db.add(workspace)
+    db.commit()
+    db.refresh(workspace)
+
+    return workspace
+
+
+# 2. í”„ë¡œì íŠ¸ ì •ë³´ ìˆ˜ì •
+@router.patch("/projects/{project_id}", response_model=ProjectResponse)
+@vectorize(search_description="Update project info", capture_return_value=True)
+def update_project(
+        project_id: int,
+        project_data: ProjectUpdate,
+        user_id: int = Depends(get_current_user_id),
+        db: Session = Depends(get_db)
+):
+    # 1. í”„ë¡œì íŠ¸ ì¡°íšŒ
+    project = db.get(Project, project_id)
+    if not project:
+        raise HTTPException(status_code=404, detail="Project not found")
+
+    # 2. ê¶Œí•œ í™•ì¸ (ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ê´€ë¦¬ìë§Œ ìˆ˜ì • ê°€ëŠ¥)
+    #    (í”„ë¡œì íŠ¸ëŠ” ë³„ë„ ì†Œìœ ìê°€ ì—†ìœ¼ë¯€ë¡œ, ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ê´€ë¦¬ì ê¶Œí•œì„ í™•ì¸í•©ë‹ˆë‹¤.)
+    membership = db.get(WorkspaceMember, (project.workspace_id, user_id))
+    if not membership or membership.role != "admin":
+        raise HTTPException(status_code=403, detail="ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ê´€ë¦¬ìë§Œ í”„ë¡œì íŠ¸ ì •ë³´ë¥¼ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.")
+
+    # 3. ë°ì´í„° ì—…ë°ì´íŠ¸
+    if project_data.name is not None:
+        project.name = project_data.name
+    if project_data.description is not None:
+        project.description = project_data.description
+
+    db.add(project)
+    db.commit()
+    db.refresh(project)
+
+    return project
diff --git a/app/schemas.py b/app/schemas.py
index a2051f1..92b0583 100644
--- a/app/schemas.py
+++ b/app/schemas.py
@@ -274,3 +274,31 @@ class ChatMessageResponse(BaseModel):
     content: str
     created_at: datetime
     user: Optional[UserResponse] = None
+
+
+class WorkspaceUpdate(BaseModel):
+    name: Optional[str] = None
+    description: Optional[str] = None
+
+
+class ProjectUpdate(BaseModel):
+    name: Optional[str] = None
+    description: Optional[str] = None
+
+
+class UserUpdate(BaseModel):
+    name: Optional[str] = None
+
+
+class ScheduleUpdate(BaseModel):
+    day_of_week: Optional[int] = None
+    start_time: Optional[dt_time] = None
+    end_time: Optional[dt_time] = None
+    description: Optional[str] = None
+
+
+class ProjectEventUpdate(BaseModel):
+    title: Optional[str] = None
+    description: Optional[str] = None
+    start_datetime: Optional[datetime] = None
+    end_datetime: Optional[datetime] = None

commit 4b28ca3538553a1bb83dd735af9b79630095eba8
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Mon Jan 19 20:22:14 2026 +0900

    Add cascade relationships for all model
    
    For graceful delete add relationship to workspace, projects
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/models/activity.py b/app/models/activity.py
index 663662e..33eb01e 100644
--- a/app/models/activity.py
+++ b/app/models/activity.py
@@ -1,6 +1,7 @@
 from datetime import datetime
 from typing import Optional
-from sqlmodel import SQLModel, Field
+from sqlmodel import SQLModel, Field, Relationship
+
 
 class ActivityLog(SQLModel, table=True):
     __tablename__ = "activity_logs"
@@ -13,4 +14,5 @@ class ActivityLog(SQLModel, table=True):
     content: str  # ë‚´ìš© (ì˜ˆ: "ê¹€ì² ìˆ˜ë‹˜ì´ ìƒˆ í”„ë¡œì íŠ¸ 'ì•ŒíŒŒ'ë¥¼ ìƒì„±í–ˆìŠµë‹ˆë‹¤.")
     action_type: str # ë¶„ë¥˜ (CREATE, UPDATE, DELETE, UPLOAD ë“±) - í•„í„°ë§ìš©
 
-    created_at: datetime = Field(default_factory=datetime.now)
\ No newline at end of file
+    created_at: datetime = Field(default_factory=datetime.now)
+    workspace: Optional["Workspace"] = Relationship(back_populates="activity_logs")
\ No newline at end of file
diff --git a/app/models/board.py b/app/models/board.py
index 2e221d1..d4d096e 100644
--- a/app/models/board.py
+++ b/app/models/board.py
@@ -35,6 +35,9 @@ class BoardColumn(SQLModel, table=True):
     project_id: int = Field(foreign_key="projects.id", index=True)
     created_at: datetime = Field(default_factory=datetime.now)
 
+    project: Optional["Project"] = Relationship(back_populates="columns")
+    cards: List["Card"] = Relationship(back_populates="column", sa_relationship_kwargs={"cascade": "all, delete"})
+
 
 # 2. ì¹´ë“œ (ì‹¤ì œ í•  ì¼ / í¬ìŠ¤íŠ¸ì‡)
 class Card(SQLModel, table=True):
@@ -58,6 +61,9 @@ class Card(SQLModel, table=True):
     created_at: datetime = Field(default_factory=datetime.now)
     updated_at: datetime = Field(default_factory=datetime.now)
 
+    column: Optional[BoardColumn] = Relationship(back_populates="cards")
+    comments: List["CardComment"] = Relationship(back_populates="card", sa_relationship_kwargs={"cascade": "all, delete"})
+
 
 class CardComment(SQLModel, table=True):
     __tablename__ = "card_comments"
diff --git a/app/models/chat.py b/app/models/chat.py
index 09fba02..e8d82ef 100644
--- a/app/models/chat.py
+++ b/app/models/chat.py
@@ -13,4 +13,5 @@ class ChatMessage(SQLModel, table=True):
     content: str
     created_at: datetime = Field(default_factory=datetime.now)
 
-    user: Optional[User] = Relationship()
\ No newline at end of file
+    user: Optional[User] = Relationship()
+    project: Optional["Project"] = Relationship(back_populates="chats")
diff --git a/app/models/file.py b/app/models/file.py
index dc9c40a..ef49f48 100644
--- a/app/models/file.py
+++ b/app/models/file.py
@@ -19,6 +19,7 @@ class FileMetadata(SQLModel, table=True):
     cards: List[Card] = Relationship(link_model=CardFileLink, back_populates="files")
 
     versions: List["FileVersion"] = Relationship(back_populates="file_metadata")
+    project: Optional["Project"] = Relationship(back_populates="files")
 
     # âœ… [ì¶”ê°€ 2] "ìµœì‹  ë²„ì „"ì„ ìë™ìœ¼ë¡œ ê³„ì‚°í•˜ëŠ” í”„ë¡œí¼í‹°
     # ìŠ¤í‚¤ë§ˆ(FileResponse)ê°€ 'latest_version'ì´ë¼ëŠ” ì´ë¦„ì„ ì°¾ì„ ë•Œ ì´ í•¨ìˆ˜ê°€ ì‹¤í–‰ë©ë‹ˆë‹¤.
diff --git a/app/models/post.py b/app/models/post.py
index b0951d2..4069299 100644
--- a/app/models/post.py
+++ b/app/models/post.py
@@ -19,6 +19,8 @@ class Post(SQLModel, table=True):
     # ê´€ê³„ ì„¤ì •
     comments: List["PostComment"] = Relationship(back_populates="post", sa_relationship_kwargs={"cascade": "all, delete"})
     user: Optional[User] = Relationship()
+    project: Optional["Project"] = Relationship(back_populates="posts")
+
 
 class PostComment(SQLModel, table=True):
     __tablename__ = "post_comments"
diff --git a/app/models/schedule.py b/app/models/schedule.py
index 28ff677..3e51235 100644
--- a/app/models/schedule.py
+++ b/app/models/schedule.py
@@ -1,6 +1,6 @@
 from typing import Optional
 from datetime import time, datetime
-from sqlmodel import SQLModel, Field
+from sqlmodel import SQLModel, Field, Relationship
 
 
 class Schedule(SQLModel, table=True):
@@ -28,4 +28,5 @@ class ProjectEvent(SQLModel, table=True):
     end_datetime: datetime
 
     created_by: int = Field(foreign_key="users.id")
-    created_at: datetime = Field(default_factory=datetime.now)
\ No newline at end of file
+    created_at: datetime = Field(default_factory=datetime.now)
+    project: Optional["Project"] = Relationship(back_populates="events")
\ No newline at end of file
diff --git a/app/models/user.py b/app/models/user.py
index 1115091..d90a212 100644
--- a/app/models/user.py
+++ b/app/models/user.py
@@ -1,6 +1,7 @@
-from typing import Optional
+from typing import Optional,List
 from datetime import datetime
 from sqlmodel import SQLModel, Field
+from sqlmodel import SQLModel, Field, Relationship
 
 
 class User(SQLModel, table=True):
@@ -16,3 +17,4 @@ class User(SQLModel, table=True):
 
     last_active_at: datetime = Field(default_factory=datetime.now)
     created_at: datetime = Field(default_factory=datetime.now)
+    workspaces: List["WorkspaceMember"] = Relationship(back_populates="user", sa_relationship_kwargs={"cascade": "all, delete"})
diff --git a/app/models/workspace.py b/app/models/workspace.py
index 83fee74..8e474a8 100644
--- a/app/models/workspace.py
+++ b/app/models/workspace.py
@@ -2,27 +2,38 @@ from typing import Optional, List
 from datetime import datetime
 from sqlmodel import SQLModel, Field, Relationship
 
-# 1. ì›Œí¬ìŠ¤í˜ì´ìŠ¤ (íŒ€ ë‹¨ìœ„)
+
+# 1. ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ë©¤ë²„ (N:M ê´€ê³„ í…Œì´ë¸”)
+class WorkspaceMember(SQLModel, table=True):
+    __tablename__ = "workspace_members"
+
+    workspace_id: int = Field(primary_key=True, foreign_key="workspaces.id")
+    user_id: int = Field(primary_key=True, foreign_key="users.id")
+    role: str = Field(default="member")  # admin, member ë“±
+    joined_at: datetime = Field(default_factory=datetime.now)
+
+    # ê´€ê³„ ì„¤ì •
+    workspace: "Workspace" = Relationship(back_populates="members")
+    user: "User" = Relationship(back_populates="workspaces")
+
+
+# 2. ì›Œí¬ìŠ¤í˜ì´ìŠ¤ (íŒ€ ë‹¨ìœ„)
 class Workspace(SQLModel, table=True):
     __tablename__ = "workspaces"
 
     id: Optional[int] = Field(default=None, primary_key=True)
     name: str
     description: Optional[str] = None
-    owner_id: int = Field(index=True) # ìƒì„±ì(íŒ€ì¥)
+    owner_id: int = Field(index=True)  # ìƒì„±ì(íŒ€ì¥)
     created_at: datetime = Field(default_factory=datetime.now)
 
-    # ê´€ê³„ ì„¤ì • (ë‚˜ì¤‘ì— í™•ì¥ì„±ì„ ìœ„í•´)
-    # members: List["User"] = Relationship(back_populates="workspaces", link_model="WorkspaceMember")
+    projects: List["Project"] = Relationship(back_populates="workspace",
+                                             sa_relationship_kwargs={"cascade": "all, delete"})
+    members: List["WorkspaceMember"] = Relationship(back_populates="workspace",
+                                                    sa_relationship_kwargs={"cascade": "all, delete"})
+    activity_logs: List["ActivityLog"] = Relationship(back_populates="workspace",
+                                                      sa_relationship_kwargs={"cascade": "all, delete"})
 
-# 2. ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ë©¤ë²„ (N:M ê´€ê³„ í…Œì´ë¸”)
-class WorkspaceMember(SQLModel, table=True):
-    __tablename__ = "workspace_members"
-
-    workspace_id: int = Field(primary_key=True, foreign_key="workspaces.id")
-    user_id: int = Field(primary_key=True, foreign_key="users.id")
-    role: str = Field(default="member") # admin, member ë“±
-    joined_at: datetime = Field(default_factory=datetime.now)
 
 # 3. í”„ë¡œì íŠ¸ (ì›Œí¬ìŠ¤í˜ì´ìŠ¤ í•˜ìœ„ ì‘ì—… ë‹¨ìœ„)
 class Project(SQLModel, table=True):
@@ -32,4 +43,18 @@ class Project(SQLModel, table=True):
     name: str
     description: Optional[str] = None
     workspace_id: int = Field(foreign_key="workspaces.id")
-    created_at: datetime = Field(default_factory=datetime.now)
\ No newline at end of file
+    created_at: datetime = Field(default_factory=datetime.now)
+
+    # ë¶€ëª¨ ê´€ê³„
+    workspace: Optional[Workspace] = Relationship(back_populates="projects")
+
+    # ğŸ‘‡ ìì‹ ê´€ê³„ë“¤ (ì‚­ì œ ì‹œ ê°™ì´ ì‚­ì œë˜ë„ë¡ cascade ì„¤ì •)
+    columns: List["BoardColumn"] = Relationship(back_populates="project",
+                                                sa_relationship_kwargs={"cascade": "all, delete"})
+    posts: List["Post"] = Relationship(back_populates="project", sa_relationship_kwargs={"cascade": "all, delete"})
+    chats: List["ChatMessage"] = Relationship(back_populates="project",
+                                              sa_relationship_kwargs={"cascade": "all, delete"})
+    events: List["ProjectEvent"] = Relationship(back_populates="project",
+                                                sa_relationship_kwargs={"cascade": "all, delete"})
+    files: List["FileMetadata"] = Relationship(back_populates="project",
+                                               sa_relationship_kwargs={"cascade": "all, delete"})
diff --git a/app/routers/post.py b/app/routers/post.py
index 6c3bdf5..fe6c86f 100644
--- a/app/routers/post.py
+++ b/app/routers/post.py
@@ -11,6 +11,7 @@ from app.schemas import PostCreate, PostUpdate, PostResponse, PostCommentCreate,
 
 router = APIRouter(tags=["Project Board"])
 
+
 # 1. ê²Œì‹œê¸€ ëª©ë¡ ì¡°íšŒ
 @router.get("/projects/{project_id}/posts", response_model=List[PostResponse])
 def get_project_posts(project_id: int, db: Session = Depends(get_db)):
@@ -19,6 +20,7 @@ def get_project_posts(project_id: int, db: Session = Depends(get_db)):
     ).all()
     return posts
 
+
 # 2. ê²Œì‹œê¸€ ì‘ì„±
 @router.post("/projects/{project_id}/posts", response_model=PostResponse)
 @vectorize(search_description="Create board post", capture_return_value=True)
@@ -34,6 +36,7 @@ def create_post(
     db.refresh(new_post)
     return new_post
 
+
 # 3. ê²Œì‹œê¸€ ìƒì„¸ ì¡°íšŒ
 @router.get("/posts/{post_id}", response_model=PostResponse)
 def get_post(post_id: int, db: Session = Depends(get_db)):
@@ -42,6 +45,7 @@ def get_post(post_id: int, db: Session = Depends(get_db)):
         raise HTTPException(status_code=404, detail="Post not found")
     return post
 
+
 # 4. ê²Œì‹œê¸€ ì‚­ì œ
 @router.delete("/posts/{post_id}")
 def delete_post(post_id: int, user_id: int = Depends(get_current_user_id), db: Session = Depends(get_db)):
@@ -54,6 +58,7 @@ def delete_post(post_id: int, user_id: int = Depends(get_current_user_id), db: S
     db.commit()
     return {"message": "ê²Œì‹œê¸€ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤."}
 
+
 # 5. ëŒ“ê¸€ ì‘ì„±
 @router.post("/posts/{post_id}/comments", response_model=PostCommentResponse)
 def create_post_comment(
@@ -66,4 +71,22 @@ def create_post_comment(
     db.add(comment)
     db.commit()
     db.refresh(comment)
-    return comment
\ No newline at end of file
+    return comment
+
+
+@router.delete("/posts/comments/{comment_id}")
+def delete_post_comment(
+        comment_id: int,
+        user_id: int = Depends(get_current_user_id),
+        db: Session = Depends(get_db)
+):
+    comment = db.get(PostComment, comment_id)
+    if not comment:
+        raise HTTPException(status_code=404, detail="Comment not found")
+
+    if comment.user_id != user_id:
+        raise HTTPException(status_code=403, detail="ì‘ì„±ìë§Œ ì‚­ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.")
+
+    db.delete(comment)
+    db.commit()
+    return {"message": "ëŒ“ê¸€ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤."}
diff --git a/app/routers/workspace.py b/app/routers/workspace.py
index 59f6d2a..cbda04c 100644
--- a/app/routers/workspace.py
+++ b/app/routers/workspace.py
@@ -92,7 +92,7 @@ def get_my_workspaces(
 
 # 3. í”„ë¡œì íŠ¸ ìƒì„± (ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ì•ˆì—)
 @router.post("/workspaces/{workspace_id}/projects", response_model=ProjectResponse)
-@vectorize(search_description="Create project", capture_return_value=True, replay=True) # ğŸ‘ˆ ì¶”ê°€
+@vectorize(search_description="Create project", capture_return_value=True, replay=True)  # ğŸ‘ˆ ì¶”ê°€
 def create_project(
         workspace_id: int,
         project_data: ProjectCreate,
@@ -126,7 +126,7 @@ def create_project(
 
 
 @router.get("/workspaces/{workspace_id}/projects", response_model=List[ProjectResponse])
-@vectorize(search_description="List workspace projects", capture_return_value=True, replay=True) # ğŸ‘ˆ ì¶”ê°€
+@vectorize(search_description="List workspace projects", capture_return_value=True, replay=True)  # ğŸ‘ˆ ì¶”ê°€
 def get_workspace_projects(
         workspace_id: int,
         user_id: int = Depends(get_current_user_id),
@@ -146,7 +146,7 @@ def get_workspace_projects(
 
 # 5. ì›Œí¬ìŠ¤í˜ì´ìŠ¤ì— íŒ€ì› ì´ˆëŒ€ (ì´ë©”ì¼ë¡œ ì¶”ê°€)
 @router.post("/workspaces/{workspace_id}/members")
-@vectorize(search_description="Add member manually", capture_return_value=True, replay=True) # ğŸ‘ˆ ì¶”ê°€
+@vectorize(search_description="Add member manually", capture_return_value=True, replay=True)  # ğŸ‘ˆ ì¶”ê°€
 def add_workspace_member(
         workspace_id: int,
         request: AddMemberRequest,
@@ -194,7 +194,7 @@ def add_workspace_member(
 
 # 6. ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ì „ì²´ ë©¤ë²„ ëª©ë¡ ì¡°íšŒ
 @router.get("/workspaces/{workspace_id}/members", response_model=List[WorkspaceMemberResponse])
-@vectorize(search_description="List workspace members", capture_return_value=True, replay=True) # ğŸ‘ˆ ì¶”ê°€
+@vectorize(search_description="List workspace members", capture_return_value=True, replay=True)  # ğŸ‘ˆ ì¶”ê°€
 def get_workspace_members(
         workspace_id: int,
         user_id: int = Depends(get_current_user_id),
@@ -227,7 +227,7 @@ def get_workspace_members(
 
 
 @router.get("/workspaces/{workspace_id}/online-members", response_model=List[UserResponse])
-@vectorize(search_description="Get online members", capture_return_value=True, replay=True) # ğŸ‘ˆ ì¶”ê°€
+@vectorize(search_description="Get online members", capture_return_value=True, replay=True)  # ğŸ‘ˆ ì¶”ê°€
 def get_online_members(
         workspace_id: int,
         user_id: int = Depends(get_current_user_id),
@@ -254,7 +254,7 @@ def get_online_members(
 
 
 @router.post("/workspaces/{workspace_id}/invitations", response_model=InvitationResponse)
-@vectorize(search_description="Generate invitation link", capture_return_value=True, replay=True) # ğŸ‘ˆ ì¶”ê°€
+@vectorize(search_description="Generate invitation link", capture_return_value=True, replay=True)  # ğŸ‘ˆ ì¶”ê°€
 def create_invitation(
         workspace_id: int,
         invite_data: InvitationCreate,
@@ -290,7 +290,7 @@ def create_invitation(
 
 # 9. [ì‹ ê·œ] ì´ˆëŒ€ ë§í¬ ìˆ˜ë½í•˜ê¸°
 @router.post("/invitations/{token}/accept")
-@vectorize(search_description="Accept invitation", capture_return_value=True, replay=True) # ğŸ‘ˆ ì¶”ê°€
+@vectorize(search_description="Accept invitation", capture_return_value=True, replay=True)  # ğŸ‘ˆ ì¶”ê°€
 def accept_invitation(
         token: str,
         user_id: int = Depends(get_current_user_id),
@@ -331,3 +331,82 @@ def accept_invitation(
     )
 
     return {"message": "ì›Œí¬ìŠ¤í˜ì´ìŠ¤ì— ì„±ê³µì ìœ¼ë¡œ ì°¸ì—¬í–ˆìŠµë‹ˆë‹¤!"}
+
+
+@router.delete("/workspaces/{workspace_id}")
+def delete_workspace(
+        workspace_id: int,
+        user_id: int = Depends(get_current_user_id),
+        db: Session = Depends(get_db)
+):
+    workspace = db.get(Workspace, workspace_id)
+    if not workspace:
+        raise HTTPException(status_code=404, detail="Workspace not found")
+
+    if workspace.owner_id != user_id:
+        raise HTTPException(status_code=403, detail="ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ì†Œìœ ìë§Œ ì‚­ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.")
+
+    db.delete(workspace)
+    db.commit()
+    return {"message": "ì›Œí¬ìŠ¤í˜ì´ìŠ¤ê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤."}
+
+
+# 2. í”„ë¡œì íŠ¸ ì‚­ì œ
+@router.delete("/projects/{project_id}")
+def delete_project(
+        project_id: int,
+        user_id: int = Depends(get_current_user_id),
+        db: Session = Depends(get_db)
+):
+    project = db.get(Project, project_id)
+    if not project:
+        raise HTTPException(status_code=404, detail="Project not found")
+
+    # ê¶Œí•œ ì²´í¬: ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ì†Œìœ ìë§Œ ì‚­ì œ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ì • (í•„ìš”ì‹œ ë¡œì§ ë³€ê²½ ê°€ëŠ¥)
+    workspace = db.get(Workspace, project.workspace_id)
+    if workspace.owner_id != user_id:
+        raise HTTPException(status_code=403, detail="ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ì†Œìœ ìë§Œ í”„ë¡œì íŠ¸ë¥¼ ì‚­ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.")
+
+    db.delete(project)
+    db.commit()
+    return {"message": "í”„ë¡œì íŠ¸ê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤."}
+
+
+# 3. ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ë©¤ë²„ ì‚­ì œ (ê°•í‡´ ë˜ëŠ” ë³¸ì¸ íƒˆí‡´)
+@router.delete("/workspaces/{workspace_id}/members/{target_user_id}")
+def remove_workspace_member(
+        workspace_id: int,
+        target_user_id: int,
+        user_id: int = Depends(get_current_user_id),
+        db: Session = Depends(get_db)
+):
+    # 1. ì›Œí¬ìŠ¤í˜ì´ìŠ¤ í™•ì¸
+    workspace = db.get(Workspace, workspace_id)
+    if not workspace:
+        raise HTTPException(status_code=404, detail="Workspace not found")
+
+    # 2. ê¶Œí•œ í™•ì¸
+    # - ì†Œìœ ìëŠ” ëˆ„êµ¬ë“  ë‚´ë³´ë‚¼ ìˆ˜ ìˆìŒ
+    # - ì¼ë°˜ ë©¤ë²„ëŠ” 'ìê¸° ìì‹ 'ë§Œ ë‚˜ê°ˆ ìˆ˜ ìˆìŒ (íƒˆí‡´)
+    if workspace.owner_id != user_id and user_id != target_user_id:
+        raise HTTPException(status_code=403, detail="ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤.")
+
+    # - ì†Œìœ ìëŠ” ìŠ¤ìŠ¤ë¡œ íƒˆí‡´ ë¶ˆê°€ëŠ¥ (ì›Œí¬ìŠ¤í˜ì´ìŠ¤ë¥¼ ì‚­ì œí•˜ê±°ë‚˜ ì†Œìœ ê¶Œì„ ë„˜ê²¨ì•¼ í•¨)
+    if workspace.owner_id == target_user_id:
+        raise HTTPException(status_code=400, detail="ì†Œìœ ìëŠ” íƒˆí‡´í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì›Œí¬ìŠ¤í˜ì´ìŠ¤ë¥¼ ì‚­ì œí•´ì£¼ì„¸ìš”.")
+
+    # 3. ë©¤ë²„ ì¡°íšŒ ë° ì‚­ì œ
+    member = db.exec(
+        select(WorkspaceMember)
+        .where(WorkspaceMember.workspace_id == workspace_id)
+        .where(WorkspaceMember.user_id == target_user_id)
+    ).first()
+
+    if not member:
+        raise HTTPException(status_code=404, detail="í•´ë‹¹ ë©¤ë²„ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
+
+    db.delete(member)
+    db.commit()
+
+    action = "íƒˆí‡´" if user_id == target_user_id else "ê°•í‡´"
+    return {"message": f"ë©¤ë²„ê°€ ì„±ê³µì ìœ¼ë¡œ {action}ì²˜ë¦¬ ë˜ì—ˆìŠµë‹ˆë‹¤."}

commit c643fc621c004b79079e52d246a5b5f35bed7be8
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Mon Jan 19 19:41:27 2026 +0900

    Add post and chat function inside project
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/main.py b/app/main.py
index 9d55cc9..68add33 100644
--- a/app/main.py
+++ b/app/main.py
@@ -7,7 +7,7 @@ import asyncio
 from fastapi.staticfiles import StaticFiles
 
 #routers
-from app.routers import auth, workspace, board, schedule, file, activity, user, voice
+from app.routers import auth, workspace, board, schedule, file, activity, user, voice, chat, post
 
 try:
     from vectorwave import initialize_database, generate_and_register_metadata
@@ -79,6 +79,8 @@ app.include_router(file.router, prefix="/api")
 app.include_router(activity.router, prefix="/api")
 app.include_router(user.router, prefix="/api")
 app.include_router(voice.router)
+app.include_router(chat.router, prefix="/api")
+app.include_router(post.router, prefix="/api")
 
 
 @app.get("/")
diff --git a/app/models/chat.py b/app/models/chat.py
new file mode 100644
index 0000000..09fba02
--- /dev/null
+++ b/app/models/chat.py
@@ -0,0 +1,16 @@
+from typing import Optional
+from sqlmodel import SQLModel, Field, Relationship
+from datetime import datetime
+from app.models.user import User
+
+class ChatMessage(SQLModel, table=True):
+    __tablename__ = "chat_messages"
+
+    id: Optional[int] = Field(default=None, primary_key=True)
+    project_id: int = Field(foreign_key="projects.id", index=True)
+    user_id: int = Field(foreign_key="users.id")
+
+    content: str
+    created_at: datetime = Field(default_factory=datetime.now)
+
+    user: Optional[User] = Relationship()
\ No newline at end of file
diff --git a/app/models/post.py b/app/models/post.py
new file mode 100644
index 0000000..b0951d2
--- /dev/null
+++ b/app/models/post.py
@@ -0,0 +1,35 @@
+from typing import Optional, List
+from sqlmodel import SQLModel, Field, Relationship
+from datetime import datetime
+from app.models.user import User  # User ëª¨ë¸ ì°¸ì¡°ë¥¼ ìœ„í•´
+
+class Post(SQLModel, table=True):
+    __tablename__ = "posts"
+
+    id: Optional[int] = Field(default=None, primary_key=True)
+    project_id: int = Field(foreign_key="projects.id")
+    user_id: int = Field(foreign_key="users.id")
+
+    title: str
+    content: str
+
+    created_at: datetime = Field(default_factory=datetime.now)
+    updated_at: datetime = Field(default_factory=datetime.now)
+
+    # ê´€ê³„ ì„¤ì •
+    comments: List["PostComment"] = Relationship(back_populates="post", sa_relationship_kwargs={"cascade": "all, delete"})
+    user: Optional[User] = Relationship()
+
+class PostComment(SQLModel, table=True):
+    __tablename__ = "post_comments"
+
+    id: Optional[int] = Field(default=None, primary_key=True)
+    post_id: int = Field(foreign_key="posts.id")
+    user_id: int = Field(foreign_key="users.id")
+
+    content: str
+    created_at: datetime = Field(default_factory=datetime.now)
+    updated_at: datetime = Field(default_factory=datetime.now)
+
+    post: Optional[Post] = Relationship(back_populates="comments")
+    user: Optional[User] = Relationship()
\ No newline at end of file
diff --git a/app/routers/chat.py b/app/routers/chat.py
new file mode 100644
index 0000000..3b0ba19
--- /dev/null
+++ b/app/routers/chat.py
@@ -0,0 +1,63 @@
+# app/routers/chat.py
+
+from fastapi import APIRouter, Depends, HTTPException, Query
+from sqlmodel import Session, select
+from typing import List
+from datetime import datetime
+
+from app.database import get_db
+from app.models.chat import ChatMessage
+from app.models.user import User
+from app.schemas import ChatMessageResponse, ChatMessageCreate
+from app.routers.workspace import get_current_user_id
+from vectorwave import vectorize
+
+router = APIRouter(tags=["Project Chat"])
+
+# 1. ì±„íŒ… ë©”ì‹œì§€ ëª©ë¡ ì¡°íšŒ (Pollingìš©)
+# í”„ë¡ íŠ¸ì—”ë“œ: 1~3ì´ˆë§ˆë‹¤ ì´ APIë¥¼ í˜¸ì¶œí•´ì„œ ìƒˆë¡œìš´ ë©”ì‹œì§€ê°€ ìˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.
+@router.get("/projects/{project_id}/chat", response_model=List[ChatMessageResponse])
+def get_chat_messages(
+        project_id: int,
+        limit: int = 50,
+        after_id: int = 0,  # ğŸ‘ˆ í•µì‹¬: ì´ ID ì´í›„ì˜ ë©”ì‹œì§€ë§Œ ê°€ì ¸ì˜¤ê¸° (ìµœì í™”)
+        db: Session = Depends(get_db),
+        user_id: int = Depends(get_current_user_id)
+):
+    query = select(ChatMessage).where(ChatMessage.project_id == project_id)
+
+    # ë§ˆì§€ë§‰ìœ¼ë¡œ ë°›ì€ ë©”ì‹œì§€ ì´í›„ì˜ ê²ƒë§Œ ì¡°íšŒ (ëŒ€ì—­í­ ì ˆì•½)
+    if after_id > 0:
+        query = query.where(ChatMessage.id > after_id)
+
+    # ìµœì‹ ìˆœ ì •ë ¬ -> ë‹¤ì‹œ ì‹œê°„ìˆœ ì •ë ¬
+    messages = db.exec(query.order_by(ChatMessage.created_at.desc()).limit(limit)).all()
+
+    # ì‹œê°„ìˆœìœ¼ë¡œ ì •ë ¬í•´ì„œ ë°˜í™˜ (ê³¼ê±° -> í˜„ì¬)
+    return list(reversed(messages))
+
+# 2. ì±„íŒ… ë©”ì‹œì§€ ì „ì†¡ (ì¼ë°˜ HTTP POST)
+@router.post("/projects/{project_id}/chat", response_model=ChatMessageResponse)
+@vectorize(search_description="Send chat message", capture_return_value=True)
+def send_chat_message(
+        project_id: int,
+        message_data: ChatMessageCreate,
+        db: Session = Depends(get_db),
+        user_id: int = Depends(get_current_user_id)
+):
+    # ìœ ì € ì •ë³´ ì¡°íšŒ (ì‘ë‹µìš©)
+    user = db.get(User, user_id)
+    if not user:
+        raise HTTPException(status_code=404, detail="User not found")
+
+    # ë©”ì‹œì§€ ì €ì¥
+    new_msg = ChatMessage(
+        project_id=project_id,
+        user_id=user_id,
+        content=message_data.content
+    )
+    db.add(new_msg)
+    db.commit()
+    db.refresh(new_msg)
+
+    return new_msg
\ No newline at end of file
diff --git a/app/routers/post.py b/app/routers/post.py
new file mode 100644
index 0000000..6c3bdf5
--- /dev/null
+++ b/app/routers/post.py
@@ -0,0 +1,69 @@
+from fastapi import APIRouter, Depends, HTTPException
+from sqlmodel import Session, select
+from typing import List
+from vectorwave import vectorize
+
+from app.database import get_db
+from app.routers.workspace import get_current_user_id
+from app.models.post import Post, PostComment
+from app.models.user import User
+from app.schemas import PostCreate, PostUpdate, PostResponse, PostCommentCreate, PostCommentResponse
+
+router = APIRouter(tags=["Project Board"])
+
+# 1. ê²Œì‹œê¸€ ëª©ë¡ ì¡°íšŒ
+@router.get("/projects/{project_id}/posts", response_model=List[PostResponse])
+def get_project_posts(project_id: int, db: Session = Depends(get_db)):
+    posts = db.exec(
+        select(Post).where(Post.project_id == project_id).order_by(Post.created_at.desc())
+    ).all()
+    return posts
+
+# 2. ê²Œì‹œê¸€ ì‘ì„±
+@router.post("/projects/{project_id}/posts", response_model=PostResponse)
+@vectorize(search_description="Create board post", capture_return_value=True)
+def create_post(
+        project_id: int,
+        post_data: PostCreate,
+        user_id: int = Depends(get_current_user_id),
+        db: Session = Depends(get_db)
+):
+    new_post = Post(project_id=project_id, user_id=user_id, **post_data.model_dump())
+    db.add(new_post)
+    db.commit()
+    db.refresh(new_post)
+    return new_post
+
+# 3. ê²Œì‹œê¸€ ìƒì„¸ ì¡°íšŒ
+@router.get("/posts/{post_id}", response_model=PostResponse)
+def get_post(post_id: int, db: Session = Depends(get_db)):
+    post = db.get(Post, post_id)
+    if not post:
+        raise HTTPException(status_code=404, detail="Post not found")
+    return post
+
+# 4. ê²Œì‹œê¸€ ì‚­ì œ
+@router.delete("/posts/{post_id}")
+def delete_post(post_id: int, user_id: int = Depends(get_current_user_id), db: Session = Depends(get_db)):
+    post = db.get(Post, post_id)
+    if not post:
+        raise HTTPException(status_code=404, detail="Post not found")
+    if post.user_id != user_id:
+        raise HTTPException(status_code=403, detail="ì‘ì„±ìë§Œ ì‚­ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.")
+    db.delete(post)
+    db.commit()
+    return {"message": "ê²Œì‹œê¸€ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤."}
+
+# 5. ëŒ“ê¸€ ì‘ì„±
+@router.post("/posts/{post_id}/comments", response_model=PostCommentResponse)
+def create_post_comment(
+        post_id: int,
+        comment_data: PostCommentCreate,
+        user_id: int = Depends(get_current_user_id),
+        db: Session = Depends(get_db)
+):
+    comment = PostComment(post_id=post_id, user_id=user_id, content=comment_data.content)
+    db.add(comment)
+    db.commit()
+    db.refresh(comment)
+    return comment
\ No newline at end of file
diff --git a/app/schemas.py b/app/schemas.py
index f8b078f..a2051f1 100644
--- a/app/schemas.py
+++ b/app/schemas.py
@@ -142,9 +142,11 @@ class FileResponse(BaseModel):
     # ê°€ì¥ ìµœì‹  ë²„ì „ì„ ë³´ì—¬ì£¼ê¸° ìœ„í•´
     latest_version: Optional[FileVersionResponse] = None
 
+
 class CardCommentCreate(BaseModel):
     content: str
 
+
 class CardCommentResponse(BaseModel):
     id: int
     card_id: int
@@ -153,7 +155,7 @@ class CardCommentResponse(BaseModel):
     created_at: datetime
     updated_at: datetime
 
-    user: Optional[UserResponse] = None # ì‘ì„±ì ì •ë³´ í¬í•¨
+    user: Optional[UserResponse] = None  # ì‘ì„±ì ì •ë³´ í¬í•¨
 
 
 class CardResponse(BaseModel):
@@ -221,3 +223,54 @@ class ProjectEventResponse(BaseModel):
     end_datetime: datetime
     created_by: int
     created_at: datetime
+
+
+# [ê²Œì‹œíŒ ê´€ë ¨ ìŠ¤í‚¤ë§ˆ]
+class PostCreate(BaseModel):
+    title: str
+    content: str
+
+
+class PostUpdate(BaseModel):
+    title: Optional[str] = None
+    content: Optional[str] = None
+
+
+class PostCommentCreate(BaseModel):
+    content: str
+
+
+class PostCommentResponse(BaseModel):
+    id: int
+    post_id: int
+    user_id: int
+    content: str
+    created_at: datetime
+    user: Optional[UserResponse] = None  # ì‘ì„±ì ì •ë³´
+
+
+class PostResponse(BaseModel):
+    id: int
+    project_id: int
+    user_id: int
+    title: str
+    content: str
+    created_at: datetime
+    updated_at: datetime
+    user: Optional[UserResponse] = None  # ì‘ì„±ì ì •ë³´
+    # ëª©ë¡ ì¡°íšŒ ì‹œì—ëŠ” ëŒ“ê¸€ ìˆ˜ë§Œ ë³´ì—¬ì£¼ëŠ” ë“±ì˜ ìµœì í™”ê°€ í•„ìš”í•  ìˆ˜ ìˆìŒ
+    comments: List[PostCommentResponse] = []
+
+
+# [ì±„íŒ… ê´€ë ¨ ìŠ¤í‚¤ë§ˆ]
+class ChatMessageCreate(BaseModel):
+    content: str
+
+
+class ChatMessageResponse(BaseModel):
+    id: int
+    project_id: int
+    user_id: int
+    content: str
+    created_at: datetime
+    user: Optional[UserResponse] = None

commit f2d96b53deb0dddd9300cf8de99f7309a714161a
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Mon Jan 19 18:42:06 2026 +0900

    Add column based card list api
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/models/board.py b/app/models/board.py
index 57b1afe..2e221d1 100644
--- a/app/models/board.py
+++ b/app/models/board.py
@@ -47,6 +47,7 @@ class Card(SQLModel, table=True):
     column_id: int = Field(foreign_key="board_columns.id", index=True)
     assignees: List[User] = Relationship(link_model=CardAssignee)
     files: List["FileMetadata"] = Relationship(link_model=CardFileLink, back_populates="cards")
+    card_type: str = Field(default="task")
 
     x: float = Field(default=0.0)
     y: float = Field(default=0.0)
diff --git a/app/routers/board.py b/app/routers/board.py
index 654123e..b728fd3 100644
--- a/app/routers/board.py
+++ b/app/routers/board.py
@@ -113,6 +113,19 @@ def get_board(project_id: int, db: Session = Depends(get_db)):
     return result
 
 
+@router.get("/projects/{project_id}/columns", response_model=List[BoardColumnResponse])
+def get_project_columns(
+        project_id: int,
+        db: Session = Depends(get_db)
+):
+    columns = db.exec(
+        select(BoardColumn)
+        .where(BoardColumn.project_id == project_id)
+        .order_by(BoardColumn.order)
+    ).all()
+    return columns
+
+
 @router.patch("/cards/{card_id}", response_model=CardResponse)
 @vectorize(search_description="Update card", capture_return_value=True, replay=True)  # ğŸ‘ˆ ì¶”ê°€
 def update_card(
diff --git a/app/schemas.py b/app/schemas.py
index 2a1e142..f8b078f 100644
--- a/app/schemas.py
+++ b/app/schemas.py
@@ -70,6 +70,7 @@ class CardCreate(BaseModel):
     assignee_ids: List[int] = []
     start_date: Optional[datetime] = None
     due_date: Optional[datetime] = None
+    card_type: str = "task"
 
 
 class CardUpdate(BaseModel):
@@ -82,6 +83,7 @@ class CardUpdate(BaseModel):
     assignee_ids: Optional[List[int]] = None
     start_date: Optional[datetime] = None
     due_date: Optional[datetime] = None
+    card_type: str = "task"
 
 
 # 2. ì¹´ë“œ ì‘ë‹µ ìŠ¤í‚¤ë§ˆ ë³€ê²½
@@ -160,6 +162,7 @@ class CardResponse(BaseModel):
     content: Optional[str] = None
     order: int
     column_id: int
+    card_type: str
     x: float
     y: float
     created_at: datetime

commit 2529225e55f4710d475bf7facb5fb58b7de6f6d0
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Mon Jan 19 18:39:24 2026 +0900

    Add voice chat function
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/main.py b/app/main.py
index e0af7ec..9d55cc9 100644
--- a/app/main.py
+++ b/app/main.py
@@ -7,7 +7,7 @@ import asyncio
 from fastapi.staticfiles import StaticFiles
 
 #routers
-from app.routers import auth, workspace, board, schedule, file, activity, user
+from app.routers import auth, workspace, board, schedule, file, activity, user, voice
 
 try:
     from vectorwave import initialize_database, generate_and_register_metadata
@@ -78,6 +78,7 @@ app.include_router(schedule.router, prefix="/api")
 app.include_router(file.router, prefix="/api")
 app.include_router(activity.router, prefix="/api")
 app.include_router(user.router, prefix="/api")
+app.include_router(voice.router)
 
 
 @app.get("/")
diff --git a/app/models/board.py b/app/models/board.py
index 6147083..57b1afe 100644
--- a/app/models/board.py
+++ b/app/models/board.py
@@ -44,7 +44,6 @@ class Card(SQLModel, table=True):
     title: str
     content: Optional[str] = None
     order: int = Field(default=0)  # ì»¬ëŸ¼ ë‚´ì—ì„œì˜ ì¹´ë“œ ìˆœì„œ
-
     column_id: int = Field(foreign_key="board_columns.id", index=True)
     assignees: List[User] = Relationship(link_model=CardAssignee)
     files: List["FileMetadata"] = Relationship(link_model=CardFileLink, back_populates="cards")
diff --git a/app/routers/voice.py b/app/routers/voice.py
new file mode 100644
index 0000000..a4ba8b6
--- /dev/null
+++ b/app/routers/voice.py
@@ -0,0 +1,18 @@
+from fastapi import APIRouter, WebSocket, WebSocketDisconnect
+from app.utils.connection_manager import manager
+
+router = APIRouter(tags=["Voice Chat"])
+
+@router.websocket("/ws/projects/{project_id}/voice")
+async def voice_chat_endpoint(websocket: WebSocket, project_id: int):
+    await manager.connect(websocket, project_id)
+    try:
+        while True:
+            # í´ë¼ì´ì–¸íŠ¸ì˜ WebRTC ì‹œê·¸ë„(Offer, Answer, ICE)ì„ ë°›ì•„ì„œ
+            data = await websocket.receive_json()
+            # ê°™ì€ ë°©ì˜ ë‹¤ë¥¸ ì‚¬ëŒë“¤ì—ê²Œ ê·¸ëŒ€ë¡œ ì „ë‹¬ (Signaling)
+            await manager.broadcast(data, project_id, websocket)
+    except WebSocketDisconnect:
+        manager.disconnect(websocket, project_id)
+        # í‡´ì¥ ì•Œë¦¼ (í•„ìš”ì‹œ)
+        await manager.broadcast({"type": "user_left"}, project_id, websocket)
\ No newline at end of file
diff --git a/app/utils/connection_manager.py b/app/utils/connection_manager.py
new file mode 100644
index 0000000..1a2f523
--- /dev/null
+++ b/app/utils/connection_manager.py
@@ -0,0 +1,31 @@
+from typing import List, Dict
+from fastapi import WebSocket
+
+
+class ConnectionManager:
+    def __init__(self):
+        # í”„ë¡œì íŠ¸ IDë³„ë¡œ ì—°ê²°ëœ ì†Œì¼“ ë¦¬ìŠ¤íŠ¸ ì €ì¥ { project_id: [socket1, socket2] }
+        self.active_connections: Dict[int, List[WebSocket]] = {}
+
+    async def connect(self, websocket: WebSocket, project_id: int):
+        await websocket.accept()
+        if project_id not in self.active_connections:
+            self.active_connections[project_id] = []
+        self.active_connections[project_id].append(websocket)
+
+    def disconnect(self, websocket: WebSocket, project_id: int):
+        if project_id in self.active_connections:
+            if websocket in self.active_connections[project_id]:
+                self.active_connections[project_id].remove(websocket)
+                if not self.active_connections[project_id]:
+                    del self.active_connections[project_id]
+
+    async def broadcast(self, message: dict, project_id: int, sender_socket: WebSocket):
+        # ë‚˜ë¥¼ ì œì™¸í•œ ê°™ì€ ë°© ì‚¬ëŒë“¤ì—ê²Œ ë©”ì‹œì§€ ì „ì†¡
+        if project_id in self.active_connections:
+            for connection in self.active_connections[project_id]:
+                if connection != sender_socket:
+                    await connection.send_json(message)
+
+
+manager = ConnectionManager()

commit 91b2846f3e8ced4878e35b0917bba594446d962e
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Sun Jan 18 23:08:37 2026 +0900

    Add personal schedule check function
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/routers/schedule.py b/app/routers/schedule.py
index 5bba9a9..5d744e4 100644
--- a/app/routers/schedule.py
+++ b/app/routers/schedule.py
@@ -61,6 +61,17 @@ def delete_personal_schedule(
 
     return {"message": "ê°œì¸ ì¼ì •ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤."}
 
+@router.get("/schedules/me", response_model=List[ScheduleResponse])
+def get_my_schedules(
+        user_id: int = Depends(get_current_user_id),
+        db: Session = Depends(get_db)
+):
+    """
+    ë‚´ê°€ ë“±ë¡í•œ ê°œì¸ ì‹œê°„í‘œ(ìˆ˜ì—… ë“±) ëª©ë¡ì„ ì¡°íšŒí•©ë‹ˆë‹¤.
+    """
+    schedules = db.exec(select(Schedule).where(Schedule.user_id == user_id)).all()
+    return schedules
+
 
 # 2. íŠ¹ì • ì›Œí¬ìŠ¤í˜ì´ìŠ¤ íŒ€ì›ë“¤ì˜ ê³µí†µ ë¹ˆ ì‹œê°„ ê³„ì‚° (í•µì‹¬!)
 @router.get("/workspaces/{workspace_id}/free-time", response_model=List[FreeTimeSlot])

commit 9fbfb459435896924c305a53ee10925e971fe80f
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Sun Jan 18 22:59:47 2026 +0900

    Add project schedule and card comment system
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/models/board.py b/app/models/board.py
index 21b13a3..6147083 100644
--- a/app/models/board.py
+++ b/app/models/board.py
@@ -57,3 +57,19 @@ class Card(SQLModel, table=True):
 
     created_at: datetime = Field(default_factory=datetime.now)
     updated_at: datetime = Field(default_factory=datetime.now)
+
+
+class CardComment(SQLModel, table=True):
+    __tablename__ = "card_comments"
+
+    id: Optional[int] = Field(default=None, primary_key=True)
+    card_id: int = Field(foreign_key="cards.id")
+    user_id: int = Field(foreign_key="users.id")
+
+    content: str
+    created_at: datetime = Field(default_factory=datetime.now)
+    updated_at: datetime = Field(default_factory=datetime.now)
+
+    # ê´€ê³„ ì„¤ì •
+    card: "Card" = Relationship(back_populates="comments")
+    user: "User" = Relationship()  # ì‘ì„±ì ì •ë³´ ì ‘ê·¼ìš©
diff --git a/app/models/schedule.py b/app/models/schedule.py
index 894a666..28ff677 100644
--- a/app/models/schedule.py
+++ b/app/models/schedule.py
@@ -1,7 +1,8 @@
 from typing import Optional
-from datetime import time
+from datetime import time, datetime
 from sqlmodel import SQLModel, Field
 
+
 class Schedule(SQLModel, table=True):
     __tablename__ = "schedules"
 
@@ -10,4 +11,21 @@ class Schedule(SQLModel, table=True):
     day_of_week: int = Field(description="0:ì›”, 1:í™”, ..., 6:ì¼")
     start_time: time # ìˆ˜ì—… ì‹œì‘ ì‹œê°„
     end_time: time   # ìˆ˜ì—… ì¢…ë£Œ ì‹œê°„
-    description: Optional[str] = None # ê³¼ëª©ëª… ë“±
\ No newline at end of file
+    description: Optional[str] = None # ê³¼ëª©ëª… ë“±
+
+
+class ProjectEvent(SQLModel, table=True):
+    __tablename__ = "project_events"
+
+    id: Optional[int] = Field(default=None, primary_key=True)
+    project_id: int = Field(foreign_key="projects.id")
+
+    title: str
+    description: Optional[str] = None
+
+    # ë‚ ì§œì™€ ì‹œê°„ ì •ë³´ë¥¼ ëª¨ë‘ í¬í•¨
+    start_datetime: datetime
+    end_datetime: datetime
+
+    created_by: int = Field(foreign_key="users.id")
+    created_at: datetime = Field(default_factory=datetime.now)
\ No newline at end of file
diff --git a/app/routers/board.py b/app/routers/board.py
index d3354d1..654123e 100644
--- a/app/routers/board.py
+++ b/app/routers/board.py
@@ -5,23 +5,23 @@ from app.database import get_db
 from app.routers.workspace import get_current_user_id  # ê¸°ì¡´ ì¸ì¦ í•¨ìˆ˜ ì¬ì‚¬ìš©
 from app.models.board import BoardColumn, Card, CardAssignee
 from app.models.workspace import Project, WorkspaceMember
-from app.schemas import BoardColumnCreate, BoardColumnResponse, CardCreate, CardResponse, CardUpdate
+from app.schemas import BoardColumnCreate, BoardColumnResponse, CardCreate, CardResponse, CardUpdate, CardCommentCreate, \
+    CardCommentResponse
 from datetime import datetime
 from app.utils.logger import log_activity
 from app.models.user import User
 from app.models.workspace import Project
 from app.models.file import FileMetadata
-from app.models.board import CardFileLink
+from app.models.board import CardFileLink, CardComment
 from app.schemas import FileResponse
 from vectorwave import *
 
-
 router = APIRouter(tags=["Board & Cards"])
 
 
 # 1. ì»¬ëŸ¼ ìƒì„±
 @router.post("/projects/{project_id}/columns", response_model=BoardColumnResponse)
-@vectorize(search_description="Create board column", capture_return_value=True, replay=True) # ğŸ‘ˆ ì¶”ê°€
+@vectorize(search_description="Create board column", capture_return_value=True, replay=True)  # ğŸ‘ˆ ì¶”ê°€
 def create_column(project_id: int, col_data: BoardColumnCreate, user_id: int = Depends(get_current_user_id),
                   db: Session = Depends(get_db)):
     project = db.get(Project, project_id)
@@ -51,7 +51,7 @@ def create_column(project_id: int, col_data: BoardColumnCreate, user_id: int = D
 
 # 2. ì¹´ë“œ ìƒì„±
 @router.post("/columns/{column_id}/cards", response_model=CardResponse)
-@vectorize(search_description="Create card", capture_return_value=True, replay=True) # ğŸ‘ˆ ì¶”ê°€
+@vectorize(search_description="Create card", capture_return_value=True, replay=True)  # ğŸ‘ˆ ì¶”ê°€
 def create_card(
         column_id: int,
         card_data: CardCreate,
@@ -100,7 +100,7 @@ def create_card(
 
 # 3. íŠ¹ì • í”„ë¡œì íŠ¸ì˜ ëª¨ë“  ì»¬ëŸ¼ ë° ì¹´ë“œ ì¡°íšŒ
 @router.get("/projects/{project_id}/board")
-@vectorize(search_description="Get project kanban board", capture_return_value=True, replay=True) # ğŸ‘ˆ ì¶”ê°€
+@vectorize(search_description="Get project kanban board", capture_return_value=True, replay=True)  # ğŸ‘ˆ ì¶”ê°€
 def get_board(project_id: int, db: Session = Depends(get_db)):
     columns = db.exec(select(BoardColumn).where(BoardColumn.project_id == project_id).order_by(BoardColumn.order)).all()
     result = []
@@ -114,7 +114,7 @@ def get_board(project_id: int, db: Session = Depends(get_db)):
 
 
 @router.patch("/cards/{card_id}", response_model=CardResponse)
-@vectorize(search_description="Update card", capture_return_value=True, replay=True) # ğŸ‘ˆ ì¶”ê°€
+@vectorize(search_description="Update card", capture_return_value=True, replay=True)  # ğŸ‘ˆ ì¶”ê°€
 def update_card(
         card_id: int,
         card_data: CardUpdate,
@@ -145,7 +145,7 @@ def update_card(
 
 
 @router.post("/cards/{card_id}/files/{file_id}", response_model=CardResponse)
-@vectorize(search_description="Attach file to card", capture_return_value=True, replay=True) # ğŸ‘ˆ ì¶”ê°€
+@vectorize(search_description="Attach file to card", capture_return_value=True, replay=True)  # ğŸ‘ˆ ì¶”ê°€
 def attach_file_to_card(
         card_id: int,
         file_id: int,
@@ -190,7 +190,7 @@ def attach_file_to_card(
 
 # 5. [ì‹ ê·œ] ì¹´ë“œì—ì„œ íŒŒì¼ ì—°ê²° í•´ì œ
 @router.delete("/cards/{card_id}/files/{file_id}")
-@vectorize(search_description="Detach file from card", capture_return_value=True, replay=True) # ğŸ‘ˆ ì¶”ê°€
+@vectorize(search_description="Detach file from card", capture_return_value=True, replay=True)  # ğŸ‘ˆ ì¶”ê°€
 def detach_file_from_card(
         card_id: int,
         file_id: int,
@@ -223,7 +223,7 @@ def detach_file_from_card(
 
 
 @router.get("/cards/{card_id}", response_model=CardResponse)
-@vectorize(search_description="Get card details", capture_return_value=True, replay=True) # ğŸ‘ˆ ì¶”ê°€
+@vectorize(search_description="Get card details", capture_return_value=True, replay=True)  # ğŸ‘ˆ ì¶”ê°€
 def get_card(
         card_id: int,
         db: Session = Depends(get_db)
@@ -233,3 +233,62 @@ def get_card(
         raise HTTPException(status_code=404, detail="ì¹´ë“œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
 
     return card
+
+
+@router.post("/cards/{card_id}/comments", response_model=CardCommentResponse)
+@vectorize(search_description="Add comment to card", capture_return_value=True)
+def create_comment(
+        card_id: int,
+        comment_data: CardCommentCreate,
+        user_id: int = Depends(get_current_user_id),
+        db: Session = Depends(get_db)
+):
+    card = db.get(Card, card_id)
+    if not card:
+        raise HTTPException(status_code=404, detail="Card not found")
+
+    new_comment = CardComment(
+        card_id=card_id,
+        user_id=user_id,
+        content=comment_data.content
+    )
+    db.add(new_comment)
+    db.commit()
+    db.refresh(new_comment)
+
+    # í™œë™ ë¡œê·¸ (ì„ íƒ)
+    user = db.get(User, user_id)
+    # log_activity(...) # í•„ìš”í•˜ë‹¤ë©´ ì¶”ê°€
+
+    return new_comment
+
+
+@router.get("/cards/{card_id}/comments", response_model=List[CardCommentResponse])
+def get_card_comments(
+        card_id: int,
+        db: Session = Depends(get_db)
+):
+    comments = db.exec(
+        select(CardComment)
+        .where(CardComment.card_id == card_id)
+        .order_by(CardComment.created_at.asc())  # ì˜¤ë˜ëœ ìˆœ ì •ë ¬
+    ).all()
+    return comments
+
+
+@router.delete("/cards/comments/{comment_id}")
+def delete_comment(
+        comment_id: int,
+        user_id: int = Depends(get_current_user_id),
+        db: Session = Depends(get_db)
+):
+    comment = db.get(CardComment, comment_id)
+    if not comment:
+        raise HTTPException(status_code=404, detail="Comment not found")
+
+    if comment.user_id != user_id:
+        raise HTTPException(status_code=403, detail="ì‘ì„±ìë§Œ ì‚­ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.")
+
+    db.delete(comment)
+    db.commit()
+    return {"message": "ëŒ“ê¸€ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤."}
diff --git a/app/routers/schedule.py b/app/routers/schedule.py
index 5f389aa..5bba9a9 100644
--- a/app/routers/schedule.py
+++ b/app/routers/schedule.py
@@ -5,17 +5,17 @@ from datetime import time, datetime, timedelta
 
 from app.database import get_db
 from app.routers.workspace import get_current_user_id
-from app.models.schedule import Schedule
+from app.models.schedule import Schedule, ProjectEvent
 from app.models.workspace import WorkspaceMember
 from app.models.user import User
-from app.schemas import ScheduleCreate, ScheduleResponse, FreeTimeSlot
+from app.schemas import ScheduleCreate, ScheduleResponse, FreeTimeSlot, ProjectEventCreate, ProjectEventResponse
 from app.utils.logger import log_activity
+from app.models.workspace import Project
 from vectorwave import *
 
-
-
 router = APIRouter(tags=["Schedule & Free Time"])
 
+
 # 1. ë‚´ ì‹œê°„í‘œ ë“±ë¡ (ìˆ˜ì—… ì¶”ê°€)
 @router.post("/schedules", response_model=ScheduleResponse)
 @vectorize(search_description="Create a personal schedule", capture_return_value=True, replay=True)
@@ -31,13 +31,37 @@ def add_schedule(s_data: ScheduleCreate,
     log_activity(
         db=db,
         user_id=user_id,
-        workspace_id=None, # ê°œì¸ í™œë™
+        workspace_id=None,  # ê°œì¸ í™œë™
         action_type="SCHEDULE",
         content=f"ğŸ“… '{user.name}'ë‹˜ì´ ìƒˆë¡œìš´ ì¼ì • '{new_schedule.description or 'ì¼ì •'}'ì„(ë¥¼) ë“±ë¡í–ˆìŠµë‹ˆë‹¤."
     )
 
     return new_schedule
 
+
+@router.delete("/schedules/{schedule_id}")
+@vectorize(search_description="Delete personal schedule", capture_return_value=True)
+def delete_personal_schedule(
+        schedule_id: int,
+        db: Session = Depends(get_db),
+        user_id: int = Depends(get_current_user_id)
+):
+    # 1. ì¼ì • ì¡°íšŒ
+    schedule = db.get(Schedule, schedule_id)
+    if not schedule:
+        raise HTTPException(status_code=404, detail="ì¼ì •ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
+
+    # 2. ë³¸ì¸ í™•ì¸ (ë‚´ ì¼ì •ë§Œ ì‚­ì œ ê°€ëŠ¥)
+    if schedule.user_id != user_id:
+        raise HTTPException(status_code=403, detail="ë³¸ì¸ì˜ ì¼ì •ë§Œ ì‚­ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.")
+
+    # 3. ì‚­ì œ
+    db.delete(schedule)
+    db.commit()
+
+    return {"message": "ê°œì¸ ì¼ì •ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤."}
+
+
 # 2. íŠ¹ì • ì›Œí¬ìŠ¤í˜ì´ìŠ¤ íŒ€ì›ë“¤ì˜ ê³µí†µ ë¹ˆ ì‹œê°„ ê³„ì‚° (í•µì‹¬!)
 @router.get("/workspaces/{workspace_id}/free-time", response_model=List[FreeTimeSlot])
 def get_common_free_time(workspace_id: int, db: Session = Depends(get_db)):
@@ -60,8 +84,8 @@ def get_common_free_time(workspace_id: int, db: Session = Depends(get_db)):
             key=lambda x: x.start_time
         )
 
-        current_time = datetime.combine(datetime.today(), time(9, 0)) # ì˜¤ì „ 9ì‹œ ì‹œì‘
-        end_limit = datetime.combine(datetime.today(), time(22, 0))   # ì˜¤í›„ 10ì‹œ ì¢…ë£Œ
+        current_time = datetime.combine(datetime.today(), time(9, 0))  # ì˜¤ì „ 9ì‹œ ì‹œì‘
+        end_limit = datetime.combine(datetime.today(), time(22, 0))  # ì˜¤í›„ 10ì‹œ ì¢…ë£Œ
 
         for s in day_schedules:
             s_start = datetime.combine(datetime.today(), s.start_time)
@@ -87,4 +111,71 @@ def get_common_free_time(workspace_id: int, db: Session = Depends(get_db)):
                 end_time=end_limit.time()
             ))
 
-    return free_slots
\ No newline at end of file
+    return free_slots
+
+
+@router.get("/projects/{project_id}/events", response_model=List[ProjectEventResponse])
+@vectorize(search_description="List project calendar events", capture_return_value=True)
+def get_project_events(
+        project_id: int,
+        db: Session = Depends(get_db),
+        user_id: int = Depends(get_current_user_id)
+):
+    # (ì„ íƒ) ì—¬ê¸°ì„œ ì‚¬ìš©ìê°€ í”„ë¡œì íŠ¸ ë©¤ë²„ì¸ì§€ ì²´í¬í•˜ëŠ” ë¡œì§ì„ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
+    events = db.exec(select(ProjectEvent).where(ProjectEvent.project_id == project_id)).all()
+    return events
+
+
+# 2. í”„ë¡œì íŠ¸ ì¼ì • ë“±ë¡
+@router.post("/projects/{project_id}/events", response_model=ProjectEventResponse)
+@vectorize(search_description="Create project calendar event", capture_return_value=True)
+def create_project_event(
+        project_id: int,
+        event_data: ProjectEventCreate,
+        db: Session = Depends(get_db),
+        user_id: int = Depends(get_current_user_id)
+):
+    # í”„ë¡œì íŠ¸ ì¡´ì¬ í™•ì¸
+    project = db.get(Project, project_id)
+    if not project:
+        raise HTTPException(status_code=404, detail="Project not found")
+
+    new_event = ProjectEvent(
+        project_id=project_id,
+        created_by=user_id,
+        **event_data.model_dump()
+    )
+
+    db.add(new_event)
+    db.commit()
+    db.refresh(new_event)
+
+    # í™œë™ ë¡œê·¸ ê¸°ë¡
+    user = db.get(User, user_id)
+    log_activity(
+        db=db,
+        user_id=user_id,
+        workspace_id=project.workspace_id,  # í”„ë¡œì íŠ¸ê°€ ì†í•œ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ì— ë¡œê·¸ ë‚¨ê¹€
+        action_type="CALENDAR",
+        content=f"ğŸ“… '{user.name}'ë‹˜ì´ í”„ë¡œì íŠ¸ '{project.name}'ì— ì¼ì • '{new_event.title}'ì„(ë¥¼) ë“±ë¡í–ˆìŠµë‹ˆë‹¤."
+    )
+
+    return new_event
+
+
+# 3. í”„ë¡œì íŠ¸ ì¼ì • ì‚­ì œ
+@router.delete("/events/{event_id}")
+@vectorize(search_description="Delete project event", capture_return_value=True)
+def delete_project_event(
+        event_id: int,
+        db: Session = Depends(get_db),
+        user_id: int = Depends(get_current_user_id)
+):
+    event = db.get(ProjectEvent, event_id)
+    if not event:
+        raise HTTPException(status_code=404, detail="Event not found")
+
+    db.delete(event)
+    db.commit()
+
+    return {"message": "ì¼ì •ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤."}
diff --git a/app/schemas.py b/app/schemas.py
index fe31170..2a1e142 100644
--- a/app/schemas.py
+++ b/app/schemas.py
@@ -140,6 +140,19 @@ class FileResponse(BaseModel):
     # ê°€ì¥ ìµœì‹  ë²„ì „ì„ ë³´ì—¬ì£¼ê¸° ìœ„í•´
     latest_version: Optional[FileVersionResponse] = None
 
+class CardCommentCreate(BaseModel):
+    content: str
+
+class CardCommentResponse(BaseModel):
+    id: int
+    card_id: int
+    user_id: int
+    content: str
+    created_at: datetime
+    updated_at: datetime
+
+    user: Optional[UserResponse] = None # ì‘ì„±ì ì •ë³´ í¬í•¨
+
 
 class CardResponse(BaseModel):
     id: int
@@ -187,3 +200,21 @@ class ActivityLogResponse(BaseModel):
     content: str
     action_type: str
     created_at: datetime
+
+
+class ProjectEventCreate(BaseModel):
+    title: str
+    description: Optional[str] = None
+    start_datetime: datetime
+    end_datetime: datetime
+
+
+class ProjectEventResponse(BaseModel):
+    id: int
+    project_id: int
+    title: str
+    description: Optional[str] = None
+    start_datetime: datetime
+    end_datetime: datetime
+    created_by: int
+    created_at: datetime

commit 8cbd8903af65dea3547426705aaf4bc32095076e
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Sun Jan 18 22:07:14 2026 +0900

    Add user profile image add function
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/main.py b/app/main.py
index 4e29c36..e0af7ec 100644
--- a/app/main.py
+++ b/app/main.py
@@ -4,10 +4,10 @@ from fastapi.responses import JSONResponse
 from app.database import create_db_and_tables
 import time
 import asyncio
+from fastapi.staticfiles import StaticFiles
 
 #routers
-from app.routers import auth,workspace,board,schedule,file,activity
-
+from app.routers import auth, workspace, board, schedule, file, activity, user
 
 try:
     from vectorwave import initialize_database, generate_and_register_metadata
@@ -41,7 +41,7 @@ async def lifespan(app: FastAPI):
                     print("âœ… [VectorWave] Connected successfully!", flush=True)
                     print("ğŸ“ [VectorWave] Syncing function metadata...", flush=True)
                     generate_and_register_metadata()
-                    break # ì„±ê³µí•˜ë©´ ë£¨í”„ íƒˆì¶œ
+                    break  # ì„±ê³µí•˜ë©´ ë£¨í”„ íƒˆì¶œ
 
             except Exception as e:
                 # ì—ëŸ¬ê°€ ë‚˜ë„ ì£½ì§€ ì•Šê³  ì¶œë ¥í•¨
@@ -49,7 +49,7 @@ async def lifespan(app: FastAPI):
 
             # ì‹¤íŒ¨ ì‹œ ëŒ€ê¸° (ë§ˆì§€ë§‰ ì‹œë„ê°€ ì•„ë‹ ë•Œë§Œ)
             if i < max_retries - 1:
-                print(f"â³ [VectorWave] DB not ready. Retrying in 3s... ({i+1}/{max_retries})", flush=True)
+                print(f"â³ [VectorWave] DB not ready. Retrying in 3s... ({i + 1}/{max_retries})", flush=True)
                 await asyncio.sleep(3)
 
         if not client:
@@ -68,6 +68,8 @@ app = FastAPI(
     lifespan=lifespan
 )
 
+app.mount("/static", StaticFiles(directory="/app/uploads"), name="static")
+
 #routers
 app.include_router(auth.router, prefix="/api/auth")
 app.include_router(workspace.router, prefix="/api")
@@ -75,6 +77,8 @@ app.include_router(board.router, prefix="/api")
 app.include_router(schedule.router, prefix="/api")
 app.include_router(file.router, prefix="/api")
 app.include_router(activity.router, prefix="/api")
+app.include_router(user.router, prefix="/api")
+
 
 @app.get("/")
 def read_root():
diff --git a/app/routers/user.py b/app/routers/user.py
new file mode 100644
index 0000000..1e1950a
--- /dev/null
+++ b/app/routers/user.py
@@ -0,0 +1,63 @@
+import os
+import shutil
+import uuid
+from fastapi import APIRouter, Depends, HTTPException, UploadFile, File
+from sqlmodel import Session, select
+
+from app.database import get_db
+from app.routers.workspace import get_current_user_id
+from app.models.user import User
+from app.schemas import UserResponse
+from vectorwave import vectorize  # ë¡œê·¸/ì¶”ì ìš© (ì„ íƒ ì‚¬í•­)
+
+router = APIRouter(tags=["User"])
+
+UPLOAD_DIR = "/app/uploads"
+os.makedirs(UPLOAD_DIR, exist_ok=True)
+
+
+@router.patch("/users/me/profile-image", response_model=UserResponse)
+@vectorize(search_description="Update user profile image", capture_return_value=True)
+def update_profile_image(
+        file: UploadFile = File(...),
+        user_id: int = Depends(get_current_user_id),
+        db: Session = Depends(get_db)
+):
+    # 1. ìœ ì € í™•ì¸
+    user = db.get(User, user_id)
+    if not user:
+        raise HTTPException(status_code=404, detail="User not found")
+
+    # 2. ì´ë¯¸ì§€ íŒŒì¼ ê²€ì¦ (ê°„ë‹¨íˆ í™•ì¥ì ì²´í¬)
+    if not file.content_type.startswith("image/"):
+        raise HTTPException(status_code=400, detail="ì´ë¯¸ì§€ íŒŒì¼ë§Œ ì—…ë¡œë“œ ê°€ëŠ¥í•©ë‹ˆë‹¤.")
+
+    # 3. íŒŒì¼ ì €ì¥
+    file_ext = os.path.splitext(file.filename)[1]
+    filename = f"profile_{user_id}_{uuid.uuid4().hex[:8]}{file_ext}"
+    file_path = os.path.join(UPLOAD_DIR, filename)
+
+    with open(file_path, "wb") as buffer:
+        shutil.copyfileobj(file.file, buffer)
+
+    # 4. DB ì—…ë°ì´íŠ¸ (ì ‘ê·¼ ê°€ëŠ¥í•œ URL ê²½ë¡œë¡œ ì €ì¥)
+    # /static/ ê²½ë¡œë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆê²Œ ì €ì¥í•©ë‹ˆë‹¤.
+    image_url = f"/static/{filename}"
+    user.profile_image = image_url
+
+    db.add(user)
+    db.commit()
+    db.refresh(user)
+
+    return user
+
+
+@router.get("/users/me", response_model=UserResponse)
+def get_my_info(
+        user_id: int = Depends(get_current_user_id),
+        db: Session = Depends(get_db)
+):
+    user = db.get(User, user_id)
+    if not user:
+        raise HTTPException(status_code=404, detail="User not found")
+    return user

commit 676df9ce29fa231bae959d70ec3d6016da920c84
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Sun Jan 18 21:06:06 2026 +0900

    Add start end field to card
    
    It can maange period for task end
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/models/board.py b/app/models/board.py
index 9ea5dcd..21b13a3 100644
--- a/app/models/board.py
+++ b/app/models/board.py
@@ -52,5 +52,8 @@ class Card(SQLModel, table=True):
     x: float = Field(default=0.0)
     y: float = Field(default=0.0)
 
+    start_date: Optional[datetime] = Field(default=None)
+    due_date: Optional[datetime] = Field(default=None)
+
     created_at: datetime = Field(default_factory=datetime.now)
     updated_at: datetime = Field(default_factory=datetime.now)
diff --git a/app/schemas.py b/app/schemas.py
index c702adf..fe31170 100644
--- a/app/schemas.py
+++ b/app/schemas.py
@@ -67,7 +67,9 @@ class CardCreate(BaseModel):
     order: Optional[int] = 0
     x: Optional[float] = 0.0
     y: Optional[float] = 0.0
-    assignee_ids: List[int] = []  # ğŸ‘ˆ ì—¬ëŸ¬ ëª…ì˜ IDë¥¼ ë¦¬ìŠ¤íŠ¸ë¡œ ë°›ìŒ
+    assignee_ids: List[int] = []
+    start_date: Optional[datetime] = None
+    due_date: Optional[datetime] = None
 
 
 class CardUpdate(BaseModel):
@@ -77,7 +79,9 @@ class CardUpdate(BaseModel):
     order: Optional[int] = None
     x: Optional[float] = None
     y: Optional[float] = None
-    assignee_ids: Optional[List[int]] = None  # ğŸ‘ˆ ìˆ˜ì • ì‹œì—ë„ ë¦¬ìŠ¤íŠ¸ë¡œ ë°›ìŒ
+    assignee_ids: Optional[List[int]] = None
+    start_date: Optional[datetime] = None
+    due_date: Optional[datetime] = None
 
 
 # 2. ì¹´ë“œ ì‘ë‹µ ìŠ¤í‚¤ë§ˆ ë³€ê²½
@@ -148,9 +152,10 @@ class CardResponse(BaseModel):
     created_at: datetime
     updated_at: datetime
 
-    # âœ… ë‹´ë‹¹ìë“¤ì˜ ìƒì„¸ ì •ë³´ë¥¼ ë¦¬ìŠ¤íŠ¸ë¡œ ë°˜í™˜
     assignees: List[UserResponse] = []
     files: List[FileResponse] = []
+    start_date: Optional[datetime] = None
+    due_date: Optional[datetime] = None
 
 
 class VerificationRequest(BaseModel):

commit 89cf1cc2f77536929f06a76f805d9fd0a5044bc1
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Sun Jan 18 15:38:18 2026 +0900

    Add vectorize decorators and change port
    
    Because of vectorsurfer using port 8000 now the backend server
    use 9000 instead.
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/routers/activity.py b/app/routers/activity.py
index cfe69e1..7c32486 100644
--- a/app/routers/activity.py
+++ b/app/routers/activity.py
@@ -6,12 +6,14 @@ from app.database import get_db
 from app.routers.workspace import get_current_user_id
 from app.models.activity import ActivityLog
 from app.schemas import ActivityLogResponse
+from vectorwave import *
 
 router = APIRouter(tags=["Activity Logs"])
 
 
 # 1. ë‚´ í™œë™ ê¸°ë¡ ì „ì²´ ë³´ê¸°
 @router.get("/users/me/activities", response_model=List[ActivityLogResponse])
+@vectorize(search_description="View my activity logs", capture_return_value=True, replay=True) # ğŸ‘ˆ ì¶”ê°€
 def get_my_activities(
         user_id: int = Depends(get_current_user_id),
         db: Session = Depends(get_db)
@@ -23,6 +25,7 @@ def get_my_activities(
 
 # 2. íŠ¹ì • ì›Œí¬ìŠ¤í˜ì´ìŠ¤ì˜ í™œë™ ê¸°ë¡ ë³´ê¸° (íŒ€ì›ë“¤ì´ ë­˜ í–ˆëŠ”ì§€)
 @router.get("/workspaces/{workspace_id}/activities", response_model=List[ActivityLogResponse])
+@vectorize(search_description="View workspace activity logs", capture_return_value=True, replay=True) # ğŸ‘ˆ ì¶”ê°€
 def get_workspace_activities(
         workspace_id: int,
         user_id: int = Depends(get_current_user_id),
diff --git a/app/routers/auth.py b/app/routers/auth.py
index 1f68331..ff68477 100644
--- a/app/routers/auth.py
+++ b/app/routers/auth.py
@@ -4,6 +4,7 @@ from fastapi import APIRouter, Depends, HTTPException, status, Response, Request
 from sqlmodel import Session, select
 from datetime import datetime, timedelta
 import bcrypt
+from vectorwave import *
 
 from app.database import get_db
 from app.models.user import User
@@ -27,6 +28,7 @@ def generate_code(length=6):
 
 # --- 1. íšŒì›ê°€ì… (1ë‹¨ê³„: ì •ë³´ ë“±ë¡ & ë©”ì¼ ë°œì†¡) ---
 @router.post("/signup", response_model=UserResponse)
+@vectorize(search_description="User signup request", capture_return_value=True, replay=True)
 async def signup(
         user_data: UserCreate,
         background_tasks: BackgroundTasks, # ğŸ‘ˆ ë¹„ë™ê¸° ë©”ì¼ ë°œì†¡ìš©
@@ -65,6 +67,7 @@ async def signup(
 
 # --- 2. ì´ë©”ì¼ ì¸ì¦ ì½”ë“œ í™•ì¸ (2ë‹¨ê³„) ---
 @router.post("/verify")
+@vectorize(search_description="Verify email code", capture_return_value=True, replay=True) # ğŸ‘ˆ ì¶”ê°€
 def verify_email(req: VerificationRequest, db: Session = Depends(get_db)):
     # 1. ì¸ì¦ ì½”ë“œ ì¡°íšŒ
     verification = db.get(EmailVerification, req.email)
@@ -88,6 +91,7 @@ def verify_email(req: VerificationRequest, db: Session = Depends(get_db)):
 
 # --- 3. ë¡œê·¸ì¸ API (ì¸ì¦ ì—¬ë¶€ ì²´í¬ ì¶”ê°€) ---
 @router.post("/login")
+@vectorize(search_description="User login", capture_return_value=True, replay=True) # ğŸ‘ˆ ì¶”ê°€
 def login(response: Response, login_data: UserLogin, db: Session = Depends(get_db)):
     user = db.exec(select(User).where(User.email == login_data.email)).first()
 
@@ -119,6 +123,7 @@ def login(response: Response, login_data: UserLogin, db: Session = Depends(get_d
 
 # --- 4. ë¡œê·¸ì•„ì›ƒ API ---
 @router.post("/logout")
+@vectorize(search_description="User logout", capture_return_value=True, replay=True) # ğŸ‘ˆ ì¶”ê°€
 def logout(response: Response, request: Request, db: Session = Depends(get_db)):
     session_id = request.cookies.get("session_id")
     if session_id:
diff --git a/app/routers/board.py b/app/routers/board.py
index ae556e1..d3354d1 100644
--- a/app/routers/board.py
+++ b/app/routers/board.py
@@ -13,6 +13,7 @@ from app.models.workspace import Project
 from app.models.file import FileMetadata
 from app.models.board import CardFileLink
 from app.schemas import FileResponse
+from vectorwave import *
 
 
 router = APIRouter(tags=["Board & Cards"])
@@ -20,6 +21,7 @@ router = APIRouter(tags=["Board & Cards"])
 
 # 1. ì»¬ëŸ¼ ìƒì„±
 @router.post("/projects/{project_id}/columns", response_model=BoardColumnResponse)
+@vectorize(search_description="Create board column", capture_return_value=True, replay=True) # ğŸ‘ˆ ì¶”ê°€
 def create_column(project_id: int, col_data: BoardColumnCreate, user_id: int = Depends(get_current_user_id),
                   db: Session = Depends(get_db)):
     project = db.get(Project, project_id)
@@ -49,6 +51,7 @@ def create_column(project_id: int, col_data: BoardColumnCreate, user_id: int = D
 
 # 2. ì¹´ë“œ ìƒì„±
 @router.post("/columns/{column_id}/cards", response_model=CardResponse)
+@vectorize(search_description="Create card", capture_return_value=True, replay=True) # ğŸ‘ˆ ì¶”ê°€
 def create_card(
         column_id: int,
         card_data: CardCreate,
@@ -97,6 +100,7 @@ def create_card(
 
 # 3. íŠ¹ì • í”„ë¡œì íŠ¸ì˜ ëª¨ë“  ì»¬ëŸ¼ ë° ì¹´ë“œ ì¡°íšŒ
 @router.get("/projects/{project_id}/board")
+@vectorize(search_description="Get project kanban board", capture_return_value=True, replay=True) # ğŸ‘ˆ ì¶”ê°€
 def get_board(project_id: int, db: Session = Depends(get_db)):
     columns = db.exec(select(BoardColumn).where(BoardColumn.project_id == project_id).order_by(BoardColumn.order)).all()
     result = []
@@ -110,6 +114,7 @@ def get_board(project_id: int, db: Session = Depends(get_db)):
 
 
 @router.patch("/cards/{card_id}", response_model=CardResponse)
+@vectorize(search_description="Update card", capture_return_value=True, replay=True) # ğŸ‘ˆ ì¶”ê°€
 def update_card(
         card_id: int,
         card_data: CardUpdate,
@@ -140,6 +145,7 @@ def update_card(
 
 
 @router.post("/cards/{card_id}/files/{file_id}", response_model=CardResponse)
+@vectorize(search_description="Attach file to card", capture_return_value=True, replay=True) # ğŸ‘ˆ ì¶”ê°€
 def attach_file_to_card(
         card_id: int,
         file_id: int,
@@ -184,6 +190,7 @@ def attach_file_to_card(
 
 # 5. [ì‹ ê·œ] ì¹´ë“œì—ì„œ íŒŒì¼ ì—°ê²° í•´ì œ
 @router.delete("/cards/{card_id}/files/{file_id}")
+@vectorize(search_description="Detach file from card", capture_return_value=True, replay=True) # ğŸ‘ˆ ì¶”ê°€
 def detach_file_from_card(
         card_id: int,
         file_id: int,
@@ -216,6 +223,7 @@ def detach_file_from_card(
 
 
 @router.get("/cards/{card_id}", response_model=CardResponse)
+@vectorize(search_description="Get card details", capture_return_value=True, replay=True) # ğŸ‘ˆ ì¶”ê°€
 def get_card(
         card_id: int,
         db: Session = Depends(get_db)
diff --git a/app/routers/file.py b/app/routers/file.py
index c4e71c9..7aa1ec3 100644
--- a/app/routers/file.py
+++ b/app/routers/file.py
@@ -16,6 +16,7 @@ from app.utils.logger import log_activity
 from app.models.workspace import Project
 from app.models.user import User
 from app.models.board import CardFileLink
+from vectorwave import *
 
 router = APIRouter(tags=["File Management"])
 
@@ -27,6 +28,7 @@ os.makedirs(UPLOAD_DIR, exist_ok=True)
 
 # 1. íŒŒì¼ ì—…ë¡œë“œ (ìë™ ë²„ì „ ê´€ë¦¬)
 @router.post("/projects/{project_id}/files", response_model=FileResponse)
+@vectorize(search_description="Upload file", capture_return_value=True, replay=True) # ğŸ‘ˆ ì¶”ê°€
 async def upload_file(
         project_id: int,
         file: UploadFile = File(...),
@@ -132,6 +134,7 @@ async def upload_file(
 
 # 2. íŒŒì¼ ë‹¤ìš´ë¡œë“œ (íŠ¹ì • ë²„ì „)
 @router.get("/files/download/{version_id}")
+@vectorize(search_description="Download file version", capture_return_value=False, replay=True)
 def download_file_version(version_id: int, db: Session = Depends(get_db)):
     version = db.get(FileVersion, version_id)
     if not version:
@@ -148,6 +151,7 @@ def download_file_version(version_id: int, db: Session = Depends(get_db)):
 
 
 @router.get("/files/{file_id}/versions", response_model=List[FileVersionResponse])
+@vectorize(search_description="Get file version history", capture_return_value=True, replay=True) # ğŸ‘ˆ ì¶”ê°€
 def get_file_history(
         file_id: int,
         db: Session = Depends(get_db)
@@ -167,6 +171,7 @@ def get_file_history(
     return versions
 
 @router.delete("/files/{file_id}")
+@vectorize(search_description="Delete file", capture_return_value=True, replay=True) # ğŸ‘ˆ ì¶”ê°€
 def delete_file(
         file_id: int,
         user_id: int = Depends(get_current_user_id),
diff --git a/app/routers/schedule.py b/app/routers/schedule.py
index 88df3fd..5f389aa 100644
--- a/app/routers/schedule.py
+++ b/app/routers/schedule.py
@@ -10,7 +10,7 @@ from app.models.workspace import WorkspaceMember
 from app.models.user import User
 from app.schemas import ScheduleCreate, ScheduleResponse, FreeTimeSlot
 from app.utils.logger import log_activity
-
+from vectorwave import *
 
 
 
@@ -18,6 +18,7 @@ router = APIRouter(tags=["Schedule & Free Time"])
 
 # 1. ë‚´ ì‹œê°„í‘œ ë“±ë¡ (ìˆ˜ì—… ì¶”ê°€)
 @router.post("/schedules", response_model=ScheduleResponse)
+@vectorize(search_description="Create a personal schedule", capture_return_value=True, replay=True)
 def add_schedule(s_data: ScheduleCreate,
                  user_id: int = Depends(get_current_user_id),
                  db: Session = Depends(get_db)):
diff --git a/app/routers/workspace.py b/app/routers/workspace.py
index 431cba9..59f6d2a 100644
--- a/app/routers/workspace.py
+++ b/app/routers/workspace.py
@@ -13,12 +13,14 @@ from app.schemas import InvitationCreate, InvitationResponse, InvitationInfo
 from datetime import datetime, timedelta
 from typing import Any
 from app.utils.logger import log_activity
+from vectorwave import *
 
 router = APIRouter(tags=["Workspace & Project"])
 
 # ì¿ í‚¤ì—ì„œ ì„¸ì…˜ IDë¥¼ ì¶”ì¶œí•˜ì—¬ ìœ ì € ID ë°˜í™˜í•˜ëŠ” ì˜ì¡´ì„± í•¨ìˆ˜
 from fastapi import Cookie
 
+
 def get_current_user_id(session_id: str = Cookie(None), db: Session = Depends(get_db)):
     if not session_id:
         raise HTTPException(status_code=401, detail="ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.")
@@ -38,6 +40,7 @@ def get_current_user_id(session_id: str = Cookie(None), db: Session = Depends(ge
 
 # 1. ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ìƒì„± (íŒ€ ë§Œë“¤ê¸°)
 @router.post("/workspaces", response_model=WorkspaceResponse)
+@vectorize(search_description="Create workspace", capture_return_value=True, replay=True)  # ğŸ‘ˆ ì¶”ê°€
 def create_workspace(
         ws_data: WorkspaceCreate,
         user_id: int = Depends(get_current_user_id),
@@ -69,8 +72,10 @@ def create_workspace(
 
     return new_ws
 
+
 # 2. ë‚´ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ëª©ë¡ ì¡°íšŒ
 @router.get("/workspaces", response_model=List[WorkspaceResponse])
+@vectorize(search_description="List my workspaces", capture_return_value=True, replay=True)  # ğŸ‘ˆ ì¶”ê°€
 def get_my_workspaces(
         user_id: int = Depends(get_current_user_id),
         db: Session = Depends(get_db)
@@ -84,8 +89,10 @@ def get_my_workspaces(
     results = db.exec(statement).all()
     return results
 
+
 # 3. í”„ë¡œì íŠ¸ ìƒì„± (ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ì•ˆì—)
 @router.post("/workspaces/{workspace_id}/projects", response_model=ProjectResponse)
+@vectorize(search_description="Create project", capture_return_value=True, replay=True) # ğŸ‘ˆ ì¶”ê°€
 def create_project(
         workspace_id: int,
         project_data: ProjectCreate,
@@ -117,7 +124,9 @@ def create_project(
 
     return new_project
 
+
 @router.get("/workspaces/{workspace_id}/projects", response_model=List[ProjectResponse])
+@vectorize(search_description="List workspace projects", capture_return_value=True, replay=True) # ğŸ‘ˆ ì¶”ê°€
 def get_workspace_projects(
         workspace_id: int,
         user_id: int = Depends(get_current_user_id),
@@ -132,10 +141,12 @@ def get_workspace_projects(
     projects = db.exec(select(Project).where(Project.workspace_id == workspace_id)).all()
     return projects
 
+
 # app/routers/workspace.py ë§¨ ì•„ë˜ì— ì¶”ê°€
 
 # 5. ì›Œí¬ìŠ¤í˜ì´ìŠ¤ì— íŒ€ì› ì´ˆëŒ€ (ì´ë©”ì¼ë¡œ ì¶”ê°€)
 @router.post("/workspaces/{workspace_id}/members")
+@vectorize(search_description="Add member manually", capture_return_value=True, replay=True) # ğŸ‘ˆ ì¶”ê°€
 def add_workspace_member(
         workspace_id: int,
         request: AddMemberRequest,
@@ -183,6 +194,7 @@ def add_workspace_member(
 
 # 6. ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ì „ì²´ ë©¤ë²„ ëª©ë¡ ì¡°íšŒ
 @router.get("/workspaces/{workspace_id}/members", response_model=List[WorkspaceMemberResponse])
+@vectorize(search_description="List workspace members", capture_return_value=True, replay=True) # ğŸ‘ˆ ì¶”ê°€
 def get_workspace_members(
         workspace_id: int,
         user_id: int = Depends(get_current_user_id),
@@ -215,6 +227,7 @@ def get_workspace_members(
 
 
 @router.get("/workspaces/{workspace_id}/online-members", response_model=List[UserResponse])
+@vectorize(search_description="Get online members", capture_return_value=True, replay=True) # ğŸ‘ˆ ì¶”ê°€
 def get_online_members(
         workspace_id: int,
         user_id: int = Depends(get_current_user_id),
@@ -232,7 +245,7 @@ def get_online_members(
         select(User)
         .join(WorkspaceMember, User.id == WorkspaceMember.user_id)
         .where(WorkspaceMember.workspace_id == workspace_id)
-        .where(User.last_active_at >= active_threshold) # ğŸ‘ˆ í•µì‹¬ ì¡°ê±´
+        .where(User.last_active_at >= active_threshold)  # ğŸ‘ˆ í•µì‹¬ ì¡°ê±´
     )
 
     online_users = db.exec(statement).all()
@@ -241,6 +254,7 @@ def get_online_members(
 
 
 @router.post("/workspaces/{workspace_id}/invitations", response_model=InvitationResponse)
+@vectorize(search_description="Generate invitation link", capture_return_value=True, replay=True) # ğŸ‘ˆ ì¶”ê°€
 def create_invitation(
         workspace_id: int,
         invite_data: InvitationCreate,
@@ -268,7 +282,7 @@ def create_invitation(
     db.commit()
 
     # 3. í”„ë¡ íŠ¸ì—”ë“œ URL ìƒì„± (í™˜ê²½ë³€ìˆ˜ë¡œ ë„ë©”ì¸ ê´€ë¦¬ ì¶”ì²œ)
-    base_url = "http://localhost:8000" # ì‹¤ì œ ë°°í¬ ì‹œ ë³€ê²½ í•„ìš”
+    base_url = "http://localhost:8000"  # ì‹¤ì œ ë°°í¬ ì‹œ ë³€ê²½ í•„ìš”
     invite_link = f"{base_url}/invite/{token}"
 
     return InvitationResponse(invite_link=invite_link, expires_at=expires_at)
@@ -276,6 +290,7 @@ def create_invitation(
 
 # 9. [ì‹ ê·œ] ì´ˆëŒ€ ë§í¬ ìˆ˜ë½í•˜ê¸°
 @router.post("/invitations/{token}/accept")
+@vectorize(search_description="Accept invitation", capture_return_value=True, replay=True) # ğŸ‘ˆ ì¶”ê°€
 def accept_invitation(
         token: str,
         user_id: int = Depends(get_current_user_id),
@@ -315,4 +330,4 @@ def accept_invitation(
         content=f"ğŸ‘‹ '{new_comer.name}'ë‹˜ì´ '{ws.name}' ì›Œí¬ìŠ¤í˜ì´ìŠ¤ì— ì°¸ì—¬í–ˆìŠµë‹ˆë‹¤."
     )
 
-    return {"message": "ì›Œí¬ìŠ¤í˜ì´ìŠ¤ì— ì„±ê³µì ìœ¼ë¡œ ì°¸ì—¬í–ˆìŠµë‹ˆë‹¤!"}
\ No newline at end of file
+    return {"message": "ì›Œí¬ìŠ¤í˜ì´ìŠ¤ì— ì„±ê³µì ìœ¼ë¡œ ì°¸ì—¬í–ˆìŠµë‹ˆë‹¤!"}
diff --git a/docker-compose.yml b/docker-compose.yml
index 508d422..88bb844 100644
--- a/docker-compose.yml
+++ b/docker-compose.yml
@@ -5,7 +5,7 @@ services:
     build: .
     container_name: team_project_backend
     ports:
-      - "8000:8000"
+      - "9000:8000"
     environment:
       - DATABASE_URL=postgresql://user:password@db:5432/project_db
       - WEAVIATE_HOST=weaviate

commit 25c41130da2990f906f1c52aedcbc392d6185f55
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Sat Jan 17 21:03:05 2026 +0900

    Add file delete function
    
    This function delete the connection with the card also
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/routers/file.py b/app/routers/file.py
index c0f7d8b..c4e71c9 100644
--- a/app/routers/file.py
+++ b/app/routers/file.py
@@ -14,7 +14,8 @@ from app.schemas import FileResponse, FileVersionResponse
 from typing import List
 from app.utils.logger import log_activity
 from app.models.workspace import Project
-from app.models.user import User  # ğŸ‘ˆ User ëª¨ë¸ ì„í¬íŠ¸ (ë¡œê·¸ìš©)
+from app.models.user import User
+from app.models.board import CardFileLink
 
 router = APIRouter(tags=["File Management"])
 
@@ -164,3 +165,56 @@ def get_file_history(
     ).all()
 
     return versions
+
+@router.delete("/files/{file_id}")
+def delete_file(
+        file_id: int,
+        user_id: int = Depends(get_current_user_id),
+        db: Session = Depends(get_db)
+):
+    # 1. íŒŒì¼ ë©”íƒ€ë°ì´í„° í™•ì¸
+    file_meta = db.get(FileMetadata, file_id)
+    if not file_meta:
+        raise HTTPException(status_code=404, detail="íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
+
+    # 2. ë¡œê·¸ë¥¼ ìœ„í•œ ì •ë³´ ë¯¸ë¦¬ ì €ì¥ (ì‚­ì œ í›„ì—” ì¡°íšŒ ë¶ˆê°€)
+    filename = file_meta.filename
+    project = db.get(Project, file_meta.project_id)
+    workspace_id = project.workspace_id if project else None
+
+    # 3. ë¬¼ë¦¬ì  íŒŒì¼ ì‚­ì œ (ëª¨ë“  ë²„ì „ ë°˜ë³µ)
+    versions = db.exec(select(FileVersion).where(FileVersion.file_id == file_id)).all()
+    for version in versions:
+        # ì‹¤ì œ íŒŒì¼ì´ ë””ìŠ¤í¬ì— ìˆìœ¼ë©´ ì‚­ì œ
+        if os.path.exists(version.saved_path):
+            try:
+                os.remove(version.saved_path)
+            except Exception as e:
+                print(f"íŒŒì¼ ì‚­ì œ ì‹¤íŒ¨ (ID: {version.id}): {e}")
+
+        # DBì—ì„œ ë²„ì „ ì •ë³´ ì‚­ì œ
+        db.delete(version)
+
+    # 4. ì¹´ë“œì™€ì˜ ì—°ê²° ê´€ê³„(ë§í¬) ì‚­ì œ
+    links = db.exec(select(CardFileLink).where(CardFileLink.file_id == file_id)).all()
+    for link in links:
+        db.delete(link)
+
+    # 5. ë©”íƒ€ë°ì´í„°(ê»ë°ê¸°) ì‚­ì œ
+    db.delete(file_meta)
+    db.commit()
+
+    # 6. ë¡œê·¸ ê¸°ë¡
+    try:
+        user = db.get(User, user_id)
+        log_activity(
+            db=db,
+            user_id=user_id,
+            workspace_id=workspace_id,
+            action_type="DELETE",
+            content=f"ğŸ—‘ï¸ '{user.name}'ë‹˜ì´ íŒŒì¼ '{filename}'ì„(ë¥¼) ì˜êµ¬ ì‚­ì œí–ˆìŠµë‹ˆë‹¤."
+        )
+    except Exception as e:
+        print(f"ë¡œê·¸ ì €ì¥ ì‹¤íŒ¨: {e}")
+
+    return {"message": "íŒŒì¼ê³¼ ëª¨ë“  ë²„ì „ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤."}

commit c69eaa2ed57ec4ac3919a1e86dedc1af46ab3aa8
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Sat Jan 17 20:33:52 2026 +0900

    Add user activity logging system
    
    Now logs can be created when users do anything
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/main.py b/app/main.py
index 9c61bdd..4e29c36 100644
--- a/app/main.py
+++ b/app/main.py
@@ -6,7 +6,7 @@ import time
 import asyncio
 
 #routers
-from app.routers import auth,workspace,board,schedule,file
+from app.routers import auth,workspace,board,schedule,file,activity
 
 
 try:
@@ -74,6 +74,7 @@ app.include_router(workspace.router, prefix="/api")
 app.include_router(board.router, prefix="/api")
 app.include_router(schedule.router, prefix="/api")
 app.include_router(file.router, prefix="/api")
+app.include_router(activity.router, prefix="/api")
 
 @app.get("/")
 def read_root():
diff --git a/app/models/activity.py b/app/models/activity.py
new file mode 100644
index 0000000..663662e
--- /dev/null
+++ b/app/models/activity.py
@@ -0,0 +1,16 @@
+from datetime import datetime
+from typing import Optional
+from sqlmodel import SQLModel, Field
+
+class ActivityLog(SQLModel, table=True):
+    __tablename__ = "activity_logs"
+
+    id: Optional[int] = Field(default=None, primary_key=True)
+
+    user_id: int = Field(foreign_key="users.id", index=True)      # ëˆ„ê°€
+    workspace_id: Optional[int] = Field(default=None, foreign_key="workspaces.id", index=True) # ì–´ë””ì„œ
+
+    content: str  # ë‚´ìš© (ì˜ˆ: "ê¹€ì² ìˆ˜ë‹˜ì´ ìƒˆ í”„ë¡œì íŠ¸ 'ì•ŒíŒŒ'ë¥¼ ìƒì„±í–ˆìŠµë‹ˆë‹¤.")
+    action_type: str # ë¶„ë¥˜ (CREATE, UPDATE, DELETE, UPLOAD ë“±) - í•„í„°ë§ìš©
+
+    created_at: datetime = Field(default_factory=datetime.now)
\ No newline at end of file
diff --git a/app/routers/activity.py b/app/routers/activity.py
new file mode 100644
index 0000000..cfe69e1
--- /dev/null
+++ b/app/routers/activity.py
@@ -0,0 +1,35 @@
+from fastapi import APIRouter, Depends
+from sqlmodel import Session, select, desc
+from typing import List
+
+from app.database import get_db
+from app.routers.workspace import get_current_user_id
+from app.models.activity import ActivityLog
+from app.schemas import ActivityLogResponse
+
+router = APIRouter(tags=["Activity Logs"])
+
+
+# 1. ë‚´ í™œë™ ê¸°ë¡ ì „ì²´ ë³´ê¸°
+@router.get("/users/me/activities", response_model=List[ActivityLogResponse])
+def get_my_activities(
+        user_id: int = Depends(get_current_user_id),
+        db: Session = Depends(get_db)
+):
+    # ë‚´ IDë¡œ í•„í„°ë§, ìµœì‹ ìˆœ ì •ë ¬
+    statement = select(ActivityLog).where(ActivityLog.user_id == user_id).order_by(desc(ActivityLog.created_at))
+    return db.exec(statement).all()
+
+
+# 2. íŠ¹ì • ì›Œí¬ìŠ¤í˜ì´ìŠ¤ì˜ í™œë™ ê¸°ë¡ ë³´ê¸° (íŒ€ì›ë“¤ì´ ë­˜ í–ˆëŠ”ì§€)
+@router.get("/workspaces/{workspace_id}/activities", response_model=List[ActivityLogResponse])
+def get_workspace_activities(
+        workspace_id: int,
+        user_id: int = Depends(get_current_user_id),
+        db: Session = Depends(get_db)
+):
+    # (ì—¬ê¸°ì„œ ë©¤ë²„ ê¶Œí•œ ì²´í¬ ë¡œì§ì„ ë„£ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤)
+
+    statement = select(ActivityLog).where(ActivityLog.workspace_id == workspace_id).order_by(
+        desc(ActivityLog.created_at))
+    return db.exec(statement).all()
diff --git a/app/routers/board.py b/app/routers/board.py
index 061649b..ae556e1 100644
--- a/app/routers/board.py
+++ b/app/routers/board.py
@@ -6,8 +6,14 @@ from app.routers.workspace import get_current_user_id  # ê¸°ì¡´ ì¸ì¦ í•¨ìˆ˜ 
 from app.models.board import BoardColumn, Card, CardAssignee
 from app.models.workspace import Project, WorkspaceMember
 from app.schemas import BoardColumnCreate, BoardColumnResponse, CardCreate, CardResponse, CardUpdate
-from app.models.user import User
 from datetime import datetime
+from app.utils.logger import log_activity
+from app.models.user import User
+from app.models.workspace import Project
+from app.models.file import FileMetadata
+from app.models.board import CardFileLink
+from app.schemas import FileResponse
+
 
 router = APIRouter(tags=["Board & Cards"])
 
@@ -25,6 +31,19 @@ def create_column(project_id: int, col_data: BoardColumnCreate, user_id: int = D
     db.add(new_col)
     db.commit()
     db.refresh(new_col)
+
+    user = db.get(User, user_id)
+    # Projectë¥¼ ì¡°íšŒí•´ì„œ workspace_idë¥¼ ì•Œì•„ëƒ„
+    project = db.get(Project, project_id)
+
+    log_activity(
+        db=db,
+        user_id=user_id,
+        workspace_id=project.workspace_id,
+        action_type="CREATE",
+        content=f"ğŸ“‹ '{user.name}'ë‹˜ì´ '{project.name}' í”„ë¡œì íŠ¸ì— '{new_col.title}' ì»¬ëŸ¼ì„ ìƒì„±í–ˆìŠµë‹ˆë‹¤."
+    )
+
     return new_col
 
 
@@ -59,6 +78,20 @@ def create_card(
     db.add(new_card)
     db.commit()
     db.refresh(new_card)
+
+    user = db.get(User, user_id)
+    # Column -> Project -> Workspace ì—­ì¶”ì 
+    column = db.get(BoardColumn, column_id)
+    project = db.get(Project, column.project_id)
+
+    log_activity(
+        db=db,
+        user_id=user_id,
+        workspace_id=project.workspace_id,
+        action_type="CREATE",
+        content=f"ğŸ“ '{user.name}'ë‹˜ì´ '{project.name}'ì— ì¹´ë“œ '{new_card.title}'ì„(ë¥¼) ìƒì„±í–ˆìŠµë‹ˆë‹¤."
+    )
+
     return new_card
 
 
@@ -106,18 +139,11 @@ def update_card(
     return card
 
 
-from app.models.file import FileMetadata  # ğŸ‘ˆ ì„í¬íŠ¸ ì¶”ê°€
-from app.models.board import CardFileLink  # ğŸ‘ˆ ì„í¬íŠ¸ ì¶”ê°€
-from app.schemas import FileResponse  # ğŸ‘ˆ ì„í¬íŠ¸ ì¶”ê°€
-
-
-# ... (ê¸°ì¡´ APIë“¤) ...
-
-# 4. [ì‹ ê·œ] ì¹´ë“œì— íŒŒì¼ ì²¨ë¶€ (ë§í¬ ì—°ê²°)
 @router.post("/cards/{card_id}/files/{file_id}", response_model=CardResponse)
 def attach_file_to_card(
         card_id: int,
         file_id: int,
+        user_id: int = Depends(get_current_user_id),
         db: Session = Depends(get_db)
 ):
     # 1. ì¡´ì¬ ì—¬ë¶€ í™•ì¸
@@ -138,6 +164,21 @@ def attach_file_to_card(
     db.commit()
     db.refresh(card)  # card.files ê´€ê³„ ìƒˆë¡œê³ ì¹¨
 
+    user = db.get(User, user_id)
+    card = db.get(Card, card_id)
+    file = db.get(FileMetadata, file_id)
+    # ì—­ì¶”ì 
+    column = db.get(BoardColumn, card.column_id)
+    project = db.get(Project, column.project_id)
+
+    log_activity(
+        db=db,
+        user_id=user_id,
+        workspace_id=project.workspace_id,
+        action_type="ATTACH",
+        content=f"ğŸ“ '{user.name}'ë‹˜ì´ ì¹´ë“œ '{card.title}'ì— íŒŒì¼ '{file.filename}'ì„(ë¥¼) ì²¨ë¶€í–ˆìŠµë‹ˆë‹¤."
+    )
+
     return card
 
 
@@ -146,6 +187,7 @@ def attach_file_to_card(
 def detach_file_from_card(
         card_id: int,
         file_id: int,
+        user_id: int = Depends(get_current_user_id),
         db: Session = Depends(get_db)
 ):
     link = db.get(CardFileLink, (card_id, file_id))
@@ -155,6 +197,21 @@ def detach_file_from_card(
     db.delete(link)
     db.commit()
 
+    user = db.get(User, user_id)
+    card = db.get(Card, card_id)
+    file = db.get(FileMetadata, file_id)
+    # ì—­ì¶”ì 
+    column = db.get(BoardColumn, card.column_id)
+    project = db.get(Project, column.project_id)
+
+    log_activity(
+        db=db,
+        user_id=user_id,
+        workspace_id=project.workspace_id,
+        action_type="DETACH",
+        content=f"ğŸ“ '{user.name}'ë‹˜ì´ ì¹´ë“œ '{card.title}'ì—ì„œ íŒŒì¼ '{file.filename}'ì„(ë¥¼) ë¶„ë¦¬í–ˆìŠµë‹ˆë‹¤."
+    )
+
     return {"message": "íŒŒì¼ ì—°ê²°ì´ í•´ì œë˜ì—ˆìŠµë‹ˆë‹¤."}
 
 
diff --git a/app/routers/file.py b/app/routers/file.py
index 598d522..c0f7d8b 100644
--- a/app/routers/file.py
+++ b/app/routers/file.py
@@ -12,6 +12,9 @@ from app.models.file import FileMetadata, FileVersion
 from app.models.workspace import Project, WorkspaceMember
 from app.schemas import FileResponse, FileVersionResponse
 from typing import List
+from app.utils.logger import log_activity
+from app.models.workspace import Project
+from app.models.user import User  # ğŸ‘ˆ User ëª¨ë¸ ì„í¬íŠ¸ (ë¡œê·¸ìš©)
 
 router = APIRouter(tags=["File Management"])
 
@@ -90,6 +93,25 @@ async def upload_file(
     db.commit()
     db.refresh(new_version)
 
+    try:
+        user = db.get(User, user_id)
+        project = db.get(Project, project_id)
+
+        # v1ì´ë©´ "ì—…ë¡œë“œ", v2 ì´ìƒì´ë©´ "ì—…ë°ì´íŠ¸"
+        action_msg = "ì—…ë¡œë“œ" if current_version_num == 1 else f"ìƒˆ ë²„ì „(v{current_version_num}) ì—…ë°ì´íŠ¸"
+
+        log_activity(
+            db=db,
+            user_id=user_id,
+            workspace_id=project.workspace_id if project else None,
+            action_type="UPLOAD",
+            content=f"ğŸ’¾ '{user.name}'ë‹˜ì´ '{project.name}' í”„ë¡œì íŠ¸ì— íŒŒì¼ '{file.filename}'ì„(ë¥¼) {action_msg}í–ˆìŠµë‹ˆë‹¤."
+        )
+    except Exception as e:
+        print(f"ë¡œê·¸ ì €ì¥ ì‹¤íŒ¨: {e}") # ë¡œê·¸ ì‹¤íŒ¨ê°€ íŒŒì¼ ì—…ë¡œë“œë¥¼ ë§‰ìœ¼ë©´ ì•ˆ ë˜ë¯€ë¡œ ì˜ˆì™¸ ì²˜ë¦¬
+
+
+
     # ì‘ë‹µ ìƒì„±
     return FileResponse(
         id=existing_file.id,
diff --git a/app/routers/schedule.py b/app/routers/schedule.py
index 7bec593..88df3fd 100644
--- a/app/routers/schedule.py
+++ b/app/routers/schedule.py
@@ -7,17 +7,34 @@ from app.database import get_db
 from app.routers.workspace import get_current_user_id
 from app.models.schedule import Schedule
 from app.models.workspace import WorkspaceMember
+from app.models.user import User
 from app.schemas import ScheduleCreate, ScheduleResponse, FreeTimeSlot
+from app.utils.logger import log_activity
+
+
+
 
 router = APIRouter(tags=["Schedule & Free Time"])
 
 # 1. ë‚´ ì‹œê°„í‘œ ë“±ë¡ (ìˆ˜ì—… ì¶”ê°€)
 @router.post("/schedules", response_model=ScheduleResponse)
-def add_schedule(s_data: ScheduleCreate, user_id: int = Depends(get_current_user_id), db: Session = Depends(get_db)):
+def add_schedule(s_data: ScheduleCreate,
+                 user_id: int = Depends(get_current_user_id),
+                 db: Session = Depends(get_db)):
     new_schedule = Schedule(**s_data.model_dump(), user_id=user_id)
     db.add(new_schedule)
     db.commit()
     db.refresh(new_schedule)
+    user = db.get(User, user_id)
+
+    log_activity(
+        db=db,
+        user_id=user_id,
+        workspace_id=None, # ê°œì¸ í™œë™
+        action_type="SCHEDULE",
+        content=f"ğŸ“… '{user.name}'ë‹˜ì´ ìƒˆë¡œìš´ ì¼ì • '{new_schedule.description or 'ì¼ì •'}'ì„(ë¥¼) ë“±ë¡í–ˆìŠµë‹ˆë‹¤."
+    )
+
     return new_schedule
 
 # 2. íŠ¹ì • ì›Œí¬ìŠ¤í˜ì´ìŠ¤ íŒ€ì›ë“¤ì˜ ê³µí†µ ë¹ˆ ì‹œê°„ ê³„ì‚° (í•µì‹¬!)
diff --git a/app/routers/workspace.py b/app/routers/workspace.py
index 2326b7d..431cba9 100644
--- a/app/routers/workspace.py
+++ b/app/routers/workspace.py
@@ -12,6 +12,7 @@ from app.models.invitation import Invitation
 from app.schemas import InvitationCreate, InvitationResponse, InvitationInfo
 from datetime import datetime, timedelta
 from typing import Any
+from app.utils.logger import log_activity
 
 router = APIRouter(tags=["Workspace & Project"])
 
@@ -57,6 +58,15 @@ def create_workspace(
     db.add(member)
     db.commit()
 
+    user = db.get(User, user_id)
+    log_activity(
+        db=db,
+        user_id=user_id,
+        workspace_id=new_ws.id,
+        action_type="CREATE",
+        content=f"ğŸš© '{user.name}'ë‹˜ì´ ìƒˆë¡œìš´ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ '{new_ws.name}'ì„(ë¥¼) ì‹œì‘í–ˆìŠµë‹ˆë‹¤."
+    )
+
     return new_ws
 
 # 2. ë‚´ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ëª©ë¡ ì¡°íšŒ
@@ -96,6 +106,15 @@ def create_project(
     db.commit()
     db.refresh(new_project)
 
+    user = db.get(User, user_id)
+    log_activity(
+        db=db,
+        user_id=user_id,
+        workspace_id=workspace_id,
+        action_type="CREATE",
+        content=f"ğŸ“‚ '{user.name}'ë‹˜ì´ í”„ë¡œì íŠ¸ '{new_project.name}'ì„(ë¥¼) ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤."
+    )
+
     return new_project
 
 @router.get("/workspaces/{workspace_id}/projects", response_model=List[ProjectResponse])
@@ -147,6 +166,16 @@ def add_workspace_member(
     db.add(new_member)
     db.commit()
 
+    actor = db.get(User, user_id)
+    ws = db.get(Workspace, workspace_id)
+    log_activity(
+        db=db,
+        user_id=user_id,
+        workspace_id=workspace_id,
+        action_type="MEMBER_ADD",
+        content=f"ğŸ‘¥ '{actor.name}'ë‹˜ì´ '{target_user.name}'ë‹˜ì„ '{ws.name}' ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ë©¤ë²„ë¡œ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤."
+    )
+
     return {"message": f"{target_user.name} ë‹˜ì´ íŒ€ì›ìœ¼ë¡œ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤."}
 
 
@@ -275,4 +304,15 @@ def accept_invitation(
     db.add(new_member)
     db.commit()
 
+    new_comer = db.get(User, user_id)
+    ws = db.get(Workspace, invite.workspace_id)
+
+    log_activity(
+        db=db,
+        user_id=user_id,
+        workspace_id=invite.workspace_id,
+        action_type="JOIN",
+        content=f"ğŸ‘‹ '{new_comer.name}'ë‹˜ì´ '{ws.name}' ì›Œí¬ìŠ¤í˜ì´ìŠ¤ì— ì°¸ì—¬í–ˆìŠµë‹ˆë‹¤."
+    )
+
     return {"message": "ì›Œí¬ìŠ¤í˜ì´ìŠ¤ì— ì„±ê³µì ìœ¼ë¡œ ì°¸ì—¬í–ˆìŠµë‹ˆë‹¤!"}
\ No newline at end of file
diff --git a/app/schemas.py b/app/schemas.py
index 2029b60..c702adf 100644
--- a/app/schemas.py
+++ b/app/schemas.py
@@ -174,3 +174,11 @@ class InvitationInfo(BaseModel):
     workspace_name: str
     inviter_name: str
     role: str
+
+
+class ActivityLogResponse(BaseModel):
+    id: int
+    user_id: int
+    content: str
+    action_type: str
+    created_at: datetime
diff --git a/app/utils/logger.py b/app/utils/logger.py
new file mode 100644
index 0000000..f425522
--- /dev/null
+++ b/app/utils/logger.py
@@ -0,0 +1,21 @@
+from sqlmodel import Session
+from app.models.activity import ActivityLog
+
+def log_activity(
+        db: Session,
+        user_id: int,
+        content: str,
+        action_type: str,
+        workspace_id: int = None
+):
+    """
+    í™œë™ ë¡œê·¸ë¥¼ DBì— ì €ì¥í•˜ëŠ” í—¬í¼ í•¨ìˆ˜
+    """
+    log = ActivityLog(
+        user_id=user_id,
+        content=content,
+        action_type=action_type,
+        workspace_id=workspace_id
+    )
+    db.add(log)
+    db.commit()
\ No newline at end of file

commit b47db2d914d0d4120ea9124fac91c4c8cb595f3d
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Sat Jan 17 18:33:18 2026 +0900

    Add connection between card and file
    
    Now card can have several files and files can be
    related to several cards.
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/models/board.py b/app/models/board.py
index 43c45b0..9ea5dcd 100644
--- a/app/models/board.py
+++ b/app/models/board.py
@@ -4,6 +4,12 @@ from sqlmodel import SQLModel, Field, Relationship
 from app.models.user import User
 
 
+class CardFileLink(SQLModel, table=True):
+    __tablename__ = "card_files"
+    card_id: int = Field(foreign_key="cards.id", primary_key=True)
+    file_id: int = Field(foreign_key="files.id", primary_key=True)
+
+
 class CardAssignee(SQLModel, table=True):
     __tablename__ = "card_assignees"
     card_id: int = Field(foreign_key="cards.id", primary_key=True)
@@ -41,6 +47,7 @@ class Card(SQLModel, table=True):
 
     column_id: int = Field(foreign_key="board_columns.id", index=True)
     assignees: List[User] = Relationship(link_model=CardAssignee)
+    files: List["FileMetadata"] = Relationship(link_model=CardFileLink, back_populates="cards")
 
     x: float = Field(default=0.0)
     y: float = Field(default=0.0)
diff --git a/app/models/file.py b/app/models/file.py
index 3285d50..dc9c40a 100644
--- a/app/models/file.py
+++ b/app/models/file.py
@@ -1,6 +1,8 @@
 from typing import Optional, List
 from datetime import datetime
 from sqlmodel import SQLModel, Field, Relationship
+from app.models.board import Card, CardFileLink
+
 
 # 1. íŒŒì¼ ë©”íƒ€ë°ì´í„° (í”„ë¡œì íŠ¸ ë‚´ì˜ 'íŒŒì¼' ê°œë…)
 class FileMetadata(SQLModel, table=True):
@@ -8,12 +10,26 @@ class FileMetadata(SQLModel, table=True):
 
     id: Optional[int] = Field(default=None, primary_key=True)
     project_id: int = Field(foreign_key="projects.id", index=True)
-    filename: str = Field(index=True) # ì›ë³¸ íŒŒì¼ëª… (ì˜ˆ: ê¸°íšì„œ.pdf)
+    filename: str = Field(index=True)  # ì›ë³¸ íŒŒì¼ëª… (ì˜ˆ: ê¸°íšì„œ.pdf)
     owner_id: int = Field(foreign_key="users.id")
 
     created_at: datetime = Field(default_factory=datetime.now)
     updated_at: datetime = Field(default_factory=datetime.now)
 
+    cards: List[Card] = Relationship(link_model=CardFileLink, back_populates="files")
+
+    versions: List["FileVersion"] = Relationship(back_populates="file_metadata")
+
+    # âœ… [ì¶”ê°€ 2] "ìµœì‹  ë²„ì „"ì„ ìë™ìœ¼ë¡œ ê³„ì‚°í•˜ëŠ” í”„ë¡œí¼í‹°
+    # ìŠ¤í‚¤ë§ˆ(FileResponse)ê°€ 'latest_version'ì´ë¼ëŠ” ì´ë¦„ì„ ì°¾ì„ ë•Œ ì´ í•¨ìˆ˜ê°€ ì‹¤í–‰ë©ë‹ˆë‹¤.
+    @property
+    def latest_version(self):
+        if not self.versions:
+            return None
+        # ë²„ì „ ìˆ«ì(version)ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬ í›„ ì²« ë²ˆì§¸ ê²ƒ ë°˜í™˜
+        return sorted(self.versions, key=lambda v: v.version, reverse=True)[0]
+
+
 # 2. íŒŒì¼ ë²„ì „ (ì‹¤ì œ ë¬¼ë¦¬ì  íŒŒì¼ ì •ë³´)
 class FileVersion(SQLModel, table=True):
     __tablename__ = "file_versions"
@@ -21,9 +37,11 @@ class FileVersion(SQLModel, table=True):
     id: Optional[int] = Field(default=None, primary_key=True)
     file_id: int = Field(foreign_key="files.id", index=True)
 
-    version: int = Field(default=1) # v1, v2, ...
-    saved_path: str # ì„œë²„ì— ì €ì¥ëœ ì‹¤ì œ ê²½ë¡œ (UUID ë“±ìœ¼ë¡œ ë³€í™˜ë¨)
+    version: int = Field(default=1)  # v1, v2, ...
+    saved_path: str  # ì„œë²„ì— ì €ì¥ëœ ì‹¤ì œ ê²½ë¡œ (UUID ë“±ìœ¼ë¡œ ë³€í™˜ë¨)
     file_size: int  # ë°”ì´íŠ¸ ë‹¨ìœ„
 
-    uploader_id: int = Field(foreign_key="users.id") # ë²„ì „ì„ ì˜¬ë¦° ì‚¬ëŒ
-    created_at: datetime = Field(default_factory=datetime.now)
\ No newline at end of file
+    uploader_id: int = Field(foreign_key="users.id")  # ë²„ì „ì„ ì˜¬ë¦° ì‚¬ëŒ
+    created_at: datetime = Field(default_factory=datetime.now)
+
+    file_metadata: Optional[FileMetadata] = Relationship(back_populates="versions")
diff --git a/app/routers/board.py b/app/routers/board.py
index 6933ae8..061649b 100644
--- a/app/routers/board.py
+++ b/app/routers/board.py
@@ -2,19 +2,20 @@ from fastapi import APIRouter, Depends, HTTPException
 from sqlmodel import Session, select
 from typing import List
 from app.database import get_db
-from app.routers.workspace import get_current_user_id # ê¸°ì¡´ ì¸ì¦ í•¨ìˆ˜ ì¬ì‚¬ìš©
+from app.routers.workspace import get_current_user_id  # ê¸°ì¡´ ì¸ì¦ í•¨ìˆ˜ ì¬ì‚¬ìš©
 from app.models.board import BoardColumn, Card, CardAssignee
 from app.models.workspace import Project, WorkspaceMember
 from app.schemas import BoardColumnCreate, BoardColumnResponse, CardCreate, CardResponse, CardUpdate
 from app.models.user import User
 from datetime import datetime
 
-
 router = APIRouter(tags=["Board & Cards"])
 
+
 # 1. ì»¬ëŸ¼ ìƒì„±
 @router.post("/projects/{project_id}/columns", response_model=BoardColumnResponse)
-def create_column(project_id: int, col_data: BoardColumnCreate, user_id: int = Depends(get_current_user_id), db: Session = Depends(get_db)):
+def create_column(project_id: int, col_data: BoardColumnCreate, user_id: int = Depends(get_current_user_id),
+                  db: Session = Depends(get_db)):
     project = db.get(Project, project_id)
     if not project: raise HTTPException(status_code=404, detail="í”„ë¡œì íŠ¸ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
 
@@ -26,6 +27,7 @@ def create_column(project_id: int, col_data: BoardColumnCreate, user_id: int = D
     db.refresh(new_col)
     return new_col
 
+
 # 2. ì¹´ë“œ ìƒì„±
 @router.post("/columns/{column_id}/cards", response_model=CardResponse)
 def create_card(
@@ -59,6 +61,7 @@ def create_card(
     db.refresh(new_card)
     return new_card
 
+
 # 3. íŠ¹ì • í”„ë¡œì íŠ¸ì˜ ëª¨ë“  ì»¬ëŸ¼ ë° ì¹´ë“œ ì¡°íšŒ
 @router.get("/projects/{project_id}/board")
 def get_board(project_id: int, db: Session = Depends(get_db)):
@@ -72,6 +75,7 @@ def get_board(project_id: int, db: Session = Depends(get_db)):
         })
     return result
 
+
 @router.patch("/cards/{card_id}", response_model=CardResponse)
 def update_card(
         card_id: int,
@@ -99,4 +103,68 @@ def update_card(
     db.add(card)
     db.commit()
     db.refresh(card)
-    return card
\ No newline at end of file
+    return card
+
+
+from app.models.file import FileMetadata  # ğŸ‘ˆ ì„í¬íŠ¸ ì¶”ê°€
+from app.models.board import CardFileLink  # ğŸ‘ˆ ì„í¬íŠ¸ ì¶”ê°€
+from app.schemas import FileResponse  # ğŸ‘ˆ ì„í¬íŠ¸ ì¶”ê°€
+
+
+# ... (ê¸°ì¡´ APIë“¤) ...
+
+# 4. [ì‹ ê·œ] ì¹´ë“œì— íŒŒì¼ ì²¨ë¶€ (ë§í¬ ì—°ê²°)
+@router.post("/cards/{card_id}/files/{file_id}", response_model=CardResponse)
+def attach_file_to_card(
+        card_id: int,
+        file_id: int,
+        db: Session = Depends(get_db)
+):
+    # 1. ì¡´ì¬ ì—¬ë¶€ í™•ì¸
+    card = db.get(Card, card_id)
+    file = db.get(FileMetadata, file_id)
+
+    if not card or not file:
+        raise HTTPException(status_code=404, detail="ì¹´ë“œ ë˜ëŠ” íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
+
+    # 2. ì´ë¯¸ ì—°ê²°ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸
+    existing_link = db.get(CardFileLink, (card_id, file_id))
+    if existing_link:
+        return card  # ì´ë¯¸ ìˆìœ¼ë©´ ê·¸ëƒ¥ ë°˜í™˜
+
+    # 3. ì—°ê²° ìƒì„±
+    link = CardFileLink(card_id=card_id, file_id=file_id)
+    db.add(link)
+    db.commit()
+    db.refresh(card)  # card.files ê´€ê³„ ìƒˆë¡œê³ ì¹¨
+
+    return card
+
+
+# 5. [ì‹ ê·œ] ì¹´ë“œì—ì„œ íŒŒì¼ ì—°ê²° í•´ì œ
+@router.delete("/cards/{card_id}/files/{file_id}")
+def detach_file_from_card(
+        card_id: int,
+        file_id: int,
+        db: Session = Depends(get_db)
+):
+    link = db.get(CardFileLink, (card_id, file_id))
+    if not link:
+        raise HTTPException(status_code=404, detail="í•´ë‹¹ íŒŒì¼ì´ ì¹´ë“œì— ì²¨ë¶€ë˜ì–´ ìˆì§€ ì•ŠìŠµë‹ˆë‹¤.")
+
+    db.delete(link)
+    db.commit()
+
+    return {"message": "íŒŒì¼ ì—°ê²°ì´ í•´ì œë˜ì—ˆìŠµë‹ˆë‹¤."}
+
+
+@router.get("/cards/{card_id}", response_model=CardResponse)
+def get_card(
+        card_id: int,
+        db: Session = Depends(get_db)
+):
+    card = db.get(Card, card_id)
+    if not card:
+        raise HTTPException(status_code=404, detail="ì¹´ë“œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
+
+    return card
diff --git a/app/schemas.py b/app/schemas.py
index a5c01dd..2029b60 100644
--- a/app/schemas.py
+++ b/app/schemas.py
@@ -81,19 +81,6 @@ class CardUpdate(BaseModel):
 
 
 # 2. ì¹´ë“œ ì‘ë‹µ ìŠ¤í‚¤ë§ˆ ë³€ê²½
-class CardResponse(BaseModel):
-    id: int
-    title: str
-    content: Optional[str] = None
-    order: int
-    column_id: int
-    x: float
-    y: float
-    created_at: datetime
-    updated_at: datetime
-
-    # âœ… ë‹´ë‹¹ìë“¤ì˜ ìƒì„¸ ì •ë³´ë¥¼ ë¦¬ìŠ¤íŠ¸ë¡œ ë°˜í™˜
-    assignees: List[UserResponse] = []
 
 
 class ScheduleCreate(BaseModel):
@@ -150,6 +137,22 @@ class FileResponse(BaseModel):
     latest_version: Optional[FileVersionResponse] = None
 
 
+class CardResponse(BaseModel):
+    id: int
+    title: str
+    content: Optional[str] = None
+    order: int
+    column_id: int
+    x: float
+    y: float
+    created_at: datetime
+    updated_at: datetime
+
+    # âœ… ë‹´ë‹¹ìë“¤ì˜ ìƒì„¸ ì •ë³´ë¥¼ ë¦¬ìŠ¤íŠ¸ë¡œ ë°˜í™˜
+    assignees: List[UserResponse] = []
+    files: List[FileResponse] = []
+
+
 class VerificationRequest(BaseModel):
     email: EmailStr
     code: str

commit 0f7a1abcfa4c9fd84f87b613e2587c39c32482be
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Sat Jan 17 17:33:13 2026 +0900

    Add invitation system
    
    Now team manager can invite people
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/models/invitation.py b/app/models/invitation.py
new file mode 100644
index 0000000..d8d1d43
--- /dev/null
+++ b/app/models/invitation.py
@@ -0,0 +1,27 @@
+from typing import Optional
+from datetime import datetime, timedelta
+from sqlmodel import SQLModel, Field
+import uuid
+
+class Invitation(SQLModel, table=True):
+    __tablename__ = "invitations"
+
+    id: Optional[int] = Field(default=None, primary_key=True)
+    token: str = Field(index=True, unique=True)  # ì´ˆëŒ€ ì½”ë“œ (URLì— ë“¤ì–´ê°ˆ ê°’)
+    workspace_id: int = Field(foreign_key="workspaces.id")
+    inviter_id: int = Field(foreign_key="users.id") # ì´ˆëŒ€í•œ ì‚¬ëŒ
+
+    role: str = Field(default="member") # ì´ˆëŒ€ë°›ì€ ì‚¬ëŒì´ ê°€ì§ˆ ê¶Œí•œ
+
+    # íŠ¹ì • ì´ë©”ì¼ ì „ìš© ì´ˆëŒ€ì¼ ê²½ìš° ì‚¬ìš© (ì—†ìœ¼ë©´ ëˆ„êµ¬ë‚˜ ì‚¬ìš© ê°€ëŠ¥)
+    target_email: Optional[str] = None
+
+    expires_at: datetime
+    created_at: datetime = Field(default_factory=datetime.now)
+
+    # ì´ë¯¸ ì‚¬ìš©ëœ ì´ˆëŒ€ì¸ì§€ ì²´í¬ (1íšŒìš©ì¼ ê²½ìš°)
+    is_used: bool = Field(default=False)
+
+    @staticmethod
+    def generate_token():
+        return str(uuid.uuid4()) # ëœë¤í•˜ê³  ê¸´ ë¬¸ìì—´ ìƒì„±
\ No newline at end of file
diff --git a/app/routers/workspace.py b/app/routers/workspace.py
index 2065b2f..2326b7d 100644
--- a/app/routers/workspace.py
+++ b/app/routers/workspace.py
@@ -1,13 +1,15 @@
 from fastapi import APIRouter, Depends, HTTPException
 from sqlmodel import Session, select
 from typing import List
-
+import uuid
 from app.database import get_db
 from app.models.user import User
 from app.models.session import UserSession
 from app.models.workspace import Workspace, WorkspaceMember, Project
 from app.schemas import WorkspaceCreate, WorkspaceResponse, ProjectCreate, ProjectResponse, AddMemberRequest, \
     WorkspaceMemberResponse, UserResponse
+from app.models.invitation import Invitation
+from app.schemas import InvitationCreate, InvitationResponse, InvitationInfo
 from datetime import datetime, timedelta
 from typing import Any
 
@@ -206,4 +208,71 @@ def get_online_members(
 
     online_users = db.exec(statement).all()
 
-    return online_users
\ No newline at end of file
+    return online_users
+
+
+@router.post("/workspaces/{workspace_id}/invitations", response_model=InvitationResponse)
+def create_invitation(
+        workspace_id: int,
+        invite_data: InvitationCreate,
+        user_id: int = Depends(get_current_user_id),
+        db: Session = Depends(get_db)
+):
+    # 1. ê¶Œí•œ í™•ì¸ (ê´€ë¦¬ìë§Œ ì´ˆëŒ€ ê°€ëŠ¥)
+    membership = db.get(WorkspaceMember, (workspace_id, user_id))
+    if not membership or membership.role != "admin":
+        raise HTTPException(status_code=403, detail="ê´€ë¦¬ìë§Œ ì´ˆëŒ€ ë§í¬ë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.")
+
+    # 2. ì´ˆëŒ€ í† í° ìƒì„±
+    token = str(uuid.uuid4())
+    expires_at = datetime.now() + timedelta(hours=invite_data.expires_in_hours)
+
+    invitation = Invitation(
+        token=token,
+        workspace_id=workspace_id,
+        inviter_id=user_id,
+        role=invite_data.role,
+        expires_at=expires_at
+    )
+
+    db.add(invitation)
+    db.commit()
+
+    # 3. í”„ë¡ íŠ¸ì—”ë“œ URL ìƒì„± (í™˜ê²½ë³€ìˆ˜ë¡œ ë„ë©”ì¸ ê´€ë¦¬ ì¶”ì²œ)
+    base_url = "http://localhost:8000" # ì‹¤ì œ ë°°í¬ ì‹œ ë³€ê²½ í•„ìš”
+    invite_link = f"{base_url}/invite/{token}"
+
+    return InvitationResponse(invite_link=invite_link, expires_at=expires_at)
+
+
+# 9. [ì‹ ê·œ] ì´ˆëŒ€ ë§í¬ ìˆ˜ë½í•˜ê¸°
+@router.post("/invitations/{token}/accept")
+def accept_invitation(
+        token: str,
+        user_id: int = Depends(get_current_user_id),
+        db: Session = Depends(get_db)
+):
+    # 1. ì´ˆëŒ€ì¥ ì¡°íšŒ
+    invite = db.exec(select(Invitation).where(Invitation.token == token)).first()
+    if not invite:
+        raise HTTPException(status_code=404, detail="ìœ íš¨í•˜ì§€ ì•Šì€ ì´ˆëŒ€ ë§í¬ì…ë‹ˆë‹¤.")
+
+    # 2. ìœ íš¨ì„± ê²€ì‚¬ (ë§Œë£Œ í™•ì¸)
+    if invite.expires_at < datetime.now():
+        raise HTTPException(status_code=400, detail="ë§Œë£Œëœ ì´ˆëŒ€ ë§í¬ì…ë‹ˆë‹¤.")
+
+    # 3. ì´ë¯¸ ë©¤ë²„ì¸ì§€ í™•ì¸
+    existing_member = db.get(WorkspaceMember, (invite.workspace_id, user_id))
+    if existing_member:
+        return {"message": "ì´ë¯¸ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ì˜ ë©¤ë²„ì…ë‹ˆë‹¤."}
+
+    # 4. ë©¤ë²„ ì¶”ê°€
+    new_member = WorkspaceMember(
+        workspace_id=invite.workspace_id,
+        user_id=user_id,
+        role=invite.role
+    )
+    db.add(new_member)
+    db.commit()
+
+    return {"message": "ì›Œí¬ìŠ¤í˜ì´ìŠ¤ì— ì„±ê³µì ìœ¼ë¡œ ì°¸ì—¬í–ˆìŠµë‹ˆë‹¤!"}
\ No newline at end of file
diff --git a/app/schemas.py b/app/schemas.py
index ab09629..a5c01dd 100644
--- a/app/schemas.py
+++ b/app/schemas.py
@@ -60,13 +60,15 @@ class BoardColumnResponse(BaseModel):
     project_id: int
 
 
+#todo orders í•„ë“œëŠ” ì¶”í›„ ë¼ë²¨ë¡œ ì²˜ë¦¬
 class CardCreate(BaseModel):
     title: str
     content: Optional[str] = None
     order: Optional[int] = 0
     x: Optional[float] = 0.0
     y: Optional[float] = 0.0
-    assignee_ids: List[int] = [] # ğŸ‘ˆ ì—¬ëŸ¬ ëª…ì˜ IDë¥¼ ë¦¬ìŠ¤íŠ¸ë¡œ ë°›ìŒ
+    assignee_ids: List[int] = []  # ğŸ‘ˆ ì—¬ëŸ¬ ëª…ì˜ IDë¥¼ ë¦¬ìŠ¤íŠ¸ë¡œ ë°›ìŒ
+
 
 class CardUpdate(BaseModel):
     title: Optional[str] = None
@@ -75,7 +77,8 @@ class CardUpdate(BaseModel):
     order: Optional[int] = None
     x: Optional[float] = None
     y: Optional[float] = None
-    assignee_ids: Optional[List[int]] = None # ğŸ‘ˆ ìˆ˜ì • ì‹œì—ë„ ë¦¬ìŠ¤íŠ¸ë¡œ ë°›ìŒ
+    assignee_ids: Optional[List[int]] = None  # ğŸ‘ˆ ìˆ˜ì • ì‹œì—ë„ ë¦¬ìŠ¤íŠ¸ë¡œ ë°›ìŒ
+
 
 # 2. ì¹´ë“œ ì‘ë‹µ ìŠ¤í‚¤ë§ˆ ë³€ê²½
 class CardResponse(BaseModel):
@@ -149,4 +152,22 @@ class FileResponse(BaseModel):
 
 class VerificationRequest(BaseModel):
     email: EmailStr
-    code: str
\ No newline at end of file
+    code: str
+
+
+class InvitationCreate(BaseModel):
+    role: str = "member"
+    expires_in_hours: int = 24  # ìœ íš¨ê¸°ê°„ (ê¸°ë³¸ 24ì‹œê°„)
+
+
+# ì´ˆëŒ€ ë§í¬ ì‘ë‹µ
+class InvitationResponse(BaseModel):
+    invite_link: str
+    expires_at: datetime
+
+
+# ì´ˆëŒ€ ì •ë³´ ì¡°íšŒ ì‘ë‹µ (ìˆ˜ë½ ì „ í™•ì¸ìš©)
+class InvitationInfo(BaseModel):
+    workspace_name: str
+    inviter_name: str
+    role: str

commit b4f36e1a4e292f56de40208bef1547d1b78def77
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Sat Jan 17 16:45:24 2026 +0900

    Edit card fields
    
    Now it has x,y position and several asignees.
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/models/board.py b/app/models/board.py
index 36d9369..43c45b0 100644
--- a/app/models/board.py
+++ b/app/models/board.py
@@ -1,6 +1,23 @@
 from typing import Optional, List
 from datetime import datetime
 from sqlmodel import SQLModel, Field, Relationship
+from app.models.user import User
+
+
+class CardAssignee(SQLModel, table=True):
+    __tablename__ = "card_assignees"
+    card_id: int = Field(foreign_key="cards.id", primary_key=True)
+    user_id: int = Field(foreign_key="users.id", primary_key=True)
+
+
+class CardDependency(SQLModel, table=True):
+    __tablename__ = "card_dependencies"
+
+    # ì„ ì˜ ì‹œì‘ì  (From)
+    from_card_id: int = Field(foreign_key="cards.id", primary_key=True)
+    # ì„ ì˜ ë„ì°©ì  (To)
+    to_card_id: int = Field(foreign_key="cards.id", primary_key=True)
+
 
 # 1. ë³´ë“œ ì»¬ëŸ¼ (ì˜ˆ: í•  ì¼, ì§„í–‰ ì¤‘, ì™„ë£Œ)
 class BoardColumn(SQLModel, table=True):
@@ -12,6 +29,7 @@ class BoardColumn(SQLModel, table=True):
     project_id: int = Field(foreign_key="projects.id", index=True)
     created_at: datetime = Field(default_factory=datetime.now)
 
+
 # 2. ì¹´ë“œ (ì‹¤ì œ í•  ì¼ / í¬ìŠ¤íŠ¸ì‡)
 class Card(SQLModel, table=True):
     __tablename__ = "cards"
@@ -22,7 +40,10 @@ class Card(SQLModel, table=True):
     order: int = Field(default=0)  # ì»¬ëŸ¼ ë‚´ì—ì„œì˜ ì¹´ë“œ ìˆœì„œ
 
     column_id: int = Field(foreign_key="board_columns.id", index=True)
-    assignee_id: Optional[int] = Field(default=None, foreign_key="users.id") # ë‹´ë‹¹ì
+    assignees: List[User] = Relationship(link_model=CardAssignee)
+
+    x: float = Field(default=0.0)
+    y: float = Field(default=0.0)
 
     created_at: datetime = Field(default_factory=datetime.now)
-    updated_at: datetime = Field(default_factory=datetime.now)
\ No newline at end of file
+    updated_at: datetime = Field(default_factory=datetime.now)
diff --git a/app/routers/board.py b/app/routers/board.py
index 79e9c68..6933ae8 100644
--- a/app/routers/board.py
+++ b/app/routers/board.py
@@ -3,9 +3,12 @@ from sqlmodel import Session, select
 from typing import List
 from app.database import get_db
 from app.routers.workspace import get_current_user_id # ê¸°ì¡´ ì¸ì¦ í•¨ìˆ˜ ì¬ì‚¬ìš©
-from app.models.board import BoardColumn, Card
+from app.models.board import BoardColumn, Card, CardAssignee
 from app.models.workspace import Project, WorkspaceMember
 from app.schemas import BoardColumnCreate, BoardColumnResponse, CardCreate, CardResponse, CardUpdate
+from app.models.user import User
+from datetime import datetime
+
 
 router = APIRouter(tags=["Board & Cards"])
 
@@ -25,11 +28,32 @@ def create_column(project_id: int, col_data: BoardColumnCreate, user_id: int = D
 
 # 2. ì¹´ë“œ ìƒì„±
 @router.post("/columns/{column_id}/cards", response_model=CardResponse)
-def create_card(column_id: int, card_data: CardCreate, user_id: int = Depends(get_current_user_id), db: Session = Depends(get_db)):
+def create_card(
+        column_id: int,
+        card_data: CardCreate,
+        user_id: int = Depends(get_current_user_id),
+        db: Session = Depends(get_db)
+):
+    # ì»¬ëŸ¼ í™•ì¸
     column = db.get(BoardColumn, column_id)
-    if not column: raise HTTPException(status_code=404, detail="ì»¬ëŸ¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
+    if not column:
+        raise HTTPException(status_code=404, detail="ì»¬ëŸ¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
+
+    # ì¹´ë“œ ìƒì„±
+    new_card = Card(
+        title=card_data.title,
+        content=card_data.content,
+        order=card_data.order,
+        column_id=column_id,
+        x=card_data.x,
+        y=card_data.y
+    )
+
+    # ë‹´ë‹¹ì ì—°ê²° (Many-to-Many)
+    if card_data.assignee_ids:
+        users = db.exec(select(User).where(User.id.in_(card_data.assignee_ids))).all()
+        new_card.assignees = users
 
-    new_card = Card(**card_data.model_dump(), column_id=column_id)
     db.add(new_card)
     db.commit()
     db.refresh(new_card)
@@ -48,16 +72,30 @@ def get_board(project_id: int, db: Session = Depends(get_db)):
         })
     return result
 
-# 4. ì¹´ë“œ ìˆ˜ì • ë° ì´ë™ (í•µì‹¬: column_idë¥¼ ë°”ê¾¸ë©´ ì´ë™ë¨)
 @router.patch("/cards/{card_id}", response_model=CardResponse)
-def update_card(card_id: int, update_data: CardUpdate, db: Session = Depends(get_db)):
+def update_card(
+        card_id: int,
+        card_data: CardUpdate,
+        db: Session = Depends(get_db)
+):
     card = db.get(Card, card_id)
-    if not card: raise HTTPException(status_code=404, detail="ì¹´ë“œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
+    if not card:
+        raise HTTPException(status_code=404, detail="ì¹´ë“œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
+
+    # ê¸°ë³¸ í•„ë“œ ì—…ë°ì´íŠ¸
+    card_data_dict = card_data.model_dump(exclude_unset=True)
+
+    # assignee_idsëŠ” ë³„ë„ ì²˜ë¦¬í•˜ë¯€ë¡œ ë”•ì…”ë„ˆë¦¬ì—ì„œ ì œì™¸
+    if "assignee_ids" in card_data_dict:
+        assignee_ids = card_data_dict.pop("assignee_ids")
+        # ë‹´ë‹¹ì ëª©ë¡ êµì²´ (ê¸°ì¡´ ê´€ê³„ ì§€ìš°ê³  ìƒˆë¡œ ì„¤ì •)
+        users = db.exec(select(User).where(User.id.in_(assignee_ids))).all()
+        card.assignees = users
 
-    data = update_data.model_dump(exclude_unset=True)
-    for key, value in data.items():
+    for key, value in card_data_dict.items():
         setattr(card, key, value)
 
+    card.updated_at = datetime.now()
     db.add(card)
     db.commit()
     db.refresh(card)
diff --git a/app/schemas.py b/app/schemas.py
index 669f0f3..ab09629 100644
--- a/app/schemas.py
+++ b/app/schemas.py
@@ -1,6 +1,6 @@
 from pydantic import BaseModel, EmailStr
-from typing import Optional
 from datetime import time as dt_time, datetime
+from typing import Optional, List
 
 
 # data for register
@@ -64,22 +64,33 @@ class CardCreate(BaseModel):
     title: str
     content: Optional[str] = None
     order: Optional[int] = 0
+    x: Optional[float] = 0.0
+    y: Optional[float] = 0.0
+    assignee_ids: List[int] = [] # ğŸ‘ˆ ì—¬ëŸ¬ ëª…ì˜ IDë¥¼ ë¦¬ìŠ¤íŠ¸ë¡œ ë°›ìŒ
 
+class CardUpdate(BaseModel):
+    title: Optional[str] = None
+    content: Optional[str] = None
+    column_id: Optional[int] = None
+    order: Optional[int] = None
+    x: Optional[float] = None
+    y: Optional[float] = None
+    assignee_ids: Optional[List[int]] = None # ğŸ‘ˆ ìˆ˜ì • ì‹œì—ë„ ë¦¬ìŠ¤íŠ¸ë¡œ ë°›ìŒ
 
+# 2. ì¹´ë“œ ì‘ë‹µ ìŠ¤í‚¤ë§ˆ ë³€ê²½
 class CardResponse(BaseModel):
     id: int
     title: str
     content: Optional[str] = None
     order: int
     column_id: int
-    assignee_id: Optional[int] = None
-
+    x: float
+    y: float
+    created_at: datetime
+    updated_at: datetime
 
-class CardUpdate(BaseModel):
-    title: Optional[str] = None
-    content: Optional[str] = None
-    column_id: Optional[int] = None
-    order: Optional[int] = None
+    # âœ… ë‹´ë‹¹ìë“¤ì˜ ìƒì„¸ ì •ë³´ë¥¼ ë¦¬ìŠ¤íŠ¸ë¡œ ë°˜í™˜
+    assignees: List[UserResponse] = []
 
 
 class ScheduleCreate(BaseModel):

commit 7abe8d94987a065464b05aef1a436b94dc117c37
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Sat Jan 17 14:15:39 2026 +0900

    Add email verification
    
    Users can signup by jj.ac.kr domain
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/models/verification.py b/app/models/verification.py
new file mode 100644
index 0000000..cd2c691
--- /dev/null
+++ b/app/models/verification.py
@@ -0,0 +1,9 @@
+from datetime import datetime
+from sqlmodel import SQLModel, Field
+
+class EmailVerification(SQLModel, table=True):
+    __tablename__ = "email_verifications"
+
+    email: str = Field(primary_key=True) # ì´ë©”ì¼ í•˜ë‚˜ë‹¹ í•˜ë‚˜ì˜ ì¸ì¦ì½”ë“œë§Œ ìœ ì§€
+    code: str
+    created_at: datetime = Field(default_factory=datetime.now)
\ No newline at end of file
diff --git a/app/routers/auth.py b/app/routers/auth.py
index 5bf3d82..1f68331 100644
--- a/app/routers/auth.py
+++ b/app/routers/auth.py
@@ -1,4 +1,6 @@
-from fastapi import APIRouter, Depends, HTTPException, status, Response, Request
+import random
+import string
+from fastapi import APIRouter, Depends, HTTPException, status, Response, Request, BackgroundTasks
 from sqlmodel import Session, select
 from datetime import datetime, timedelta
 import bcrypt
@@ -6,11 +8,13 @@ import bcrypt
 from app.database import get_db
 from app.models.user import User
 from app.models.session import UserSession
-from app.schemas import UserCreate, UserLogin, UserResponse
+from app.models.verification import EmailVerification # ğŸ‘ˆ ì¶”ê°€
+from app.schemas import UserCreate, UserLogin, UserResponse, VerificationRequest # ğŸ‘ˆ ì¶”ê°€
+from app.utils.email import send_verification_email # ğŸ‘ˆ ì¶”ê°€
 
 router = APIRouter(tags=["Authentication"])
 
-# --- ë¹„ë°€ë²ˆí˜¸ í•´ì‹± í—¬í¼ í•¨ìˆ˜ ---
+# --- í—¬í¼ í•¨ìˆ˜ ---
 def hash_password(password: str) -> str:
     salt = bcrypt.gensalt()
     return bcrypt.hashpw(password.encode('utf-8'), salt).decode('utf-8')
@@ -18,39 +22,83 @@ def hash_password(password: str) -> str:
 def verify_password(plain_password: str, hashed_password: str) -> bool:
     return bcrypt.checkpw(plain_password.encode('utf-8'), hashed_password.encode('utf-8'))
 
-# --- 1. íšŒì›ê°€ì… API ---
+def generate_code(length=6):
+    return ''.join(random.choices(string.digits, k=length))
+
+# --- 1. íšŒì›ê°€ì… (1ë‹¨ê³„: ì •ë³´ ë“±ë¡ & ë©”ì¼ ë°œì†¡) ---
 @router.post("/signup", response_model=UserResponse)
-def signup(user_data: UserCreate, db: Session = Depends(get_db)):
-    # ì´ë©”ì¼ ì¤‘ë³µ í™•ì¸
+async def signup(
+        user_data: UserCreate,
+        background_tasks: BackgroundTasks, # ğŸ‘ˆ ë¹„ë™ê¸° ë©”ì¼ ë°œì†¡ìš©
+        db: Session = Depends(get_db)
+):
+    # 1. ì´ë©”ì¼ ì¤‘ë³µ í™•ì¸
     existing_user = db.exec(select(User).where(User.email == user_data.email)).first()
     if existing_user:
         raise HTTPException(status_code=400, detail="ì´ë¯¸ ê°€ì…ëœ ì´ë©”ì¼ì…ë‹ˆë‹¤.")
 
-    # ì „ì£¼ëŒ€ ì´ë©”ì¼ ìë™ ì¸ì¦ ì²´í¬ (@jj.ac.kr)
-    is_jj = user_data.email.endswith("@jj.ac.kr")
+    # 2. ì „ì£¼ëŒ€ ì´ë©”ì¼ ì²´í¬ (@jj.ac.kr)
+    if not user_data.email.endswith("@jj.ac.kr"):
+        raise HTTPException(status_code=400, detail="ì „ì£¼ëŒ€í•™êµ ì´ë©”ì¼(@jj.ac.kr)ë§Œ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.")
 
-    # DBì— ìœ ì € ì €ì¥
+    # 3. ìœ ì € ìƒì„± (ì•„ì§ ì¸ì¦ ì•ˆë¨: is_student_verified=False)
     new_user = User(
         email=user_data.email,
         password_hash=hash_password(user_data.password),
         name=user_data.name,
-        is_student_verified=is_jj
+        is_student_verified=False # ğŸ‘ˆ ê¸°ë³¸ê°’ False
     )
     db.add(new_user)
     db.commit()
     db.refresh(new_user)
+
+    # 4. ì¸ì¦ ì½”ë“œ ìƒì„± ë° ì €ì¥
+    code = generate_code()
+    verification = EmailVerification(email=user_data.email, code=code)
+    db.merge(verification) # ì´ë¯¸ ìˆìœ¼ë©´ ë®ì–´ì“°ê¸° (Upsert)
+    db.commit()
+
+    # 5. ì´ë©”ì¼ ë°œì†¡ (ë°±ê·¸ë¼ìš´ë“œ ì‘ì—…ìœ¼ë¡œ ì²˜ë¦¬í•˜ì—¬ ì‘ë‹µ ì§€ì—° ë°©ì§€)
+    background_tasks.add_task(send_verification_email, user_data.email, code)
+
     return new_user
 
-# --- 2. ë¡œê·¸ì¸ API ---
+# --- 2. ì´ë©”ì¼ ì¸ì¦ ì½”ë“œ í™•ì¸ (2ë‹¨ê³„) ---
+@router.post("/verify")
+def verify_email(req: VerificationRequest, db: Session = Depends(get_db)):
+    # 1. ì¸ì¦ ì½”ë“œ ì¡°íšŒ
+    verification = db.get(EmailVerification, req.email)
+
+    if not verification or verification.code != req.code:
+        raise HTTPException(status_code=400, detail="ì¸ì¦ ì½”ë“œê°€ ì¼ì¹˜í•˜ì§€ ì•Šê±°ë‚˜ ë§Œë£Œë˜ì—ˆìŠµë‹ˆë‹¤.")
+
+    # 2. ìœ ì € ì¸ì¦ ìƒíƒœ ì—…ë°ì´íŠ¸
+    user = db.exec(select(User).where(User.email == req.email)).first()
+    if not user:
+        raise HTTPException(status_code=404, detail="ì‚¬ìš©ìë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
+
+    user.is_student_verified = True
+    db.add(user)
+
+    # 3. ì‚¬ìš©í•œ ì¸ì¦ ì½”ë“œ ì‚­ì œ
+    db.delete(verification)
+    db.commit()
+
+    return {"message": "ì´ë©”ì¼ ì¸ì¦ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ì´ì œ ë¡œê·¸ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."}
+
+# --- 3. ë¡œê·¸ì¸ API (ì¸ì¦ ì—¬ë¶€ ì²´í¬ ì¶”ê°€) ---
 @router.post("/login")
 def login(response: Response, login_data: UserLogin, db: Session = Depends(get_db)):
     user = db.exec(select(User).where(User.email == login_data.email)).first()
 
-    # ê²€ì¦ ì‹¤íŒ¨ (ìœ ì €ê°€ ì—†ê±°ë‚˜ ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë¦¼)
     if not user or not verify_password(login_data.password, user.password_hash):
         raise HTTPException(status_code=401, detail="ì´ë©”ì¼ ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.")
 
-    # ì„¸ì…˜ ìƒì„± (DBì— ì €ì¥, 24ì‹œê°„ ìœ íš¨)
+    # âœ… [ì¶”ê°€] ì´ë©”ì¼ ì¸ì¦ ì—¬ë¶€ í™•ì¸
+    if not user.is_student_verified:
+        raise HTTPException(status_code=403, detail="ì´ë©”ì¼ ì¸ì¦ì´ ì™„ë£Œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ë©”ì¼ì„ í™•ì¸í•´ì£¼ì„¸ìš”.")
+
+    # ì„¸ì…˜ ìƒì„±
     expires = datetime.now() + timedelta(hours=24)
     session = UserSession(user_id=user.id, expires_at=expires)
 
@@ -58,29 +106,26 @@ def login(response: Response, login_data: UserLogin, db: Session = Depends(get_d
     db.commit()
     db.refresh(session)
 
-    # ë¸Œë¼ìš°ì €ì— ì¿ í‚¤ ë°œê¸‰ (HttpOnlyë¡œ ë³´ì•ˆ ê°•í™”)
     response.set_cookie(
         key="session_id",
         value=session.session_id,
-        httponly=True,  # ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ì ‘ê·¼ ë¶ˆê°€ (XSS ë°©ì§€)
-        secure=False,   # ë¡œì»¬ ê°œë°œ(http)ì´ë¯€ë¡œ False. (ì‹¤ë°°í¬ httpsì—ì„  True ê¶Œì¥)
+        httponly=True,
+        secure=False,
         samesite="lax",
-        max_age=60 * 60 * 24 # 24ì‹œê°„
+        max_age=60 * 60 * 24
     )
 
     return {"message": "ë¡œê·¸ì¸ ì„±ê³µ", "user": {"email": user.email, "name": user.name}}
 
-# --- 3. ë¡œê·¸ì•„ì›ƒ API ---
+# --- 4. ë¡œê·¸ì•„ì›ƒ API ---
 @router.post("/logout")
 def logout(response: Response, request: Request, db: Session = Depends(get_db)):
     session_id = request.cookies.get("session_id")
     if session_id:
-        # DBì—ì„œ ì„¸ì…˜ ì‚­ì œ (ì„œë²„ ì¸¡ ë¡œê·¸ì•„ì›ƒ)
         session = db.get(UserSession, session_id)
         if session:
             db.delete(session)
             db.commit()
 
-    # í´ë¼ì´ì–¸íŠ¸ ì¿ í‚¤ ì‚­ì œ
     response.delete_cookie("session_id")
     return {"message": "ë¡œê·¸ì•„ì›ƒ ë˜ì—ˆìŠµë‹ˆë‹¤."}
\ No newline at end of file
diff --git a/app/schemas.py b/app/schemas.py
index a6b50dd..669f0f3 100644
--- a/app/schemas.py
+++ b/app/schemas.py
@@ -134,3 +134,8 @@ class FileResponse(BaseModel):
     created_at: datetime
     # ê°€ì¥ ìµœì‹  ë²„ì „ì„ ë³´ì—¬ì£¼ê¸° ìœ„í•´
     latest_version: Optional[FileVersionResponse] = None
+
+
+class VerificationRequest(BaseModel):
+    email: EmailStr
+    code: str
\ No newline at end of file
diff --git a/app/utils/__init__.py b/app/utils/__init__.py
new file mode 100644
index 0000000..e69de29
diff --git a/app/utils/email.py b/app/utils/email.py
new file mode 100644
index 0000000..db8e91c
--- /dev/null
+++ b/app/utils/email.py
@@ -0,0 +1,36 @@
+import os
+from fastapi_mail import FastMail, MessageSchema, ConnectionConfig, MessageType
+from pydantic import EmailStr
+
+# í™˜ê²½ ë³€ìˆ˜ì—ì„œ ì„¤ì • ê°€ì ¸ì˜¤ê¸° (ì—†ìœ¼ë©´ ê¸°ë³¸ê°’ ë˜ëŠ” ì—ëŸ¬)
+conf = ConnectionConfig(
+    MAIL_USERNAME=os.getenv("MAIL_USERNAME", "your_email@gmail.com"),
+    MAIL_PASSWORD=os.getenv("MAIL_PASSWORD", "your_app_password"),
+    MAIL_FROM=os.getenv("MAIL_FROM", "your_email@gmail.com"),
+    MAIL_PORT=int(os.getenv("MAIL_PORT", 587)),
+    MAIL_SERVER=os.getenv("MAIL_SERVER", "smtp.gmail.com"),
+    MAIL_STARTTLS=True,
+    MAIL_SSL_TLS=False,
+    USE_CREDENTIALS=True,
+    VALIDATE_CERTS=True
+)
+
+async def send_verification_email(email: EmailStr, code: str):
+    """ì¸ì¦ ë²ˆí˜¸ ì´ë©”ì¼ ë°œì†¡"""
+
+    html = f"""
+    <h3>Domo í˜‘ì—… í”Œë«í¼ íšŒì›ê°€ì… ì¸ì¦</h3>
+    <p>ì•„ë˜ ì¸ì¦ ì½”ë“œë¥¼ ì…ë ¥í•˜ì—¬ íšŒì›ê°€ì…ì„ ì™„ë£Œí•´ì£¼ì„¸ìš”.</p>
+    <h1>{code}</h1>
+    <p>ì´ ì½”ë“œëŠ” 3ë¶„ê°„ ìœ íš¨í•©ë‹ˆë‹¤.</p>
+    """
+
+    message = MessageSchema(
+        subject="[Domo] íšŒì›ê°€ì… ì¸ì¦ ì½”ë“œ",
+        recipients=[email],
+        body=html,
+        subtype=MessageType.html
+    )
+
+    fm = FastMail(conf)
+    await fm.send_message(message)
\ No newline at end of file
diff --git a/docker-compose.yml b/docker-compose.yml
index a17f1b0..508d422 100644
--- a/docker-compose.yml
+++ b/docker-compose.yml
@@ -11,6 +11,11 @@ services:
       - WEAVIATE_HOST=weaviate
       - WEAVIATE_PORT=8080
       - WEAVIATE_GRPC_PORT=50051
+      - MAIL_USERNAME=${MAIL_USERNAME}
+      - MAIL_PASSWORD=${MAIL_PASSWORD}
+      - MAIL_FROM=${MAIL_FROM}
+      - MAIL_PORT=${MAIL_PORT}
+      - MAIL_SERVER=${MAIL_SERVER}
 
       - OPENAI_API_KEY=${OPENAI_API_KEY}
     volumes:
diff --git a/requirements.txt b/requirements.txt
index 6034350..d7747d8 100644
--- a/requirements.txt
+++ b/requirements.txt
@@ -9,4 +9,5 @@ openai
 weaviate-client>=4.0.0
 vectorwave
 bcrypt
-email-validator
\ No newline at end of file
+email-validator
+fastapi-mail
\ No newline at end of file

commit 12b07d0628674eb3c9eb9048ab7b379400abcb21
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Sat Jan 17 13:57:50 2026 +0900

    Add hearbeat system for workspace
    
    Now user can get status for teammates.
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/routers/workspace.py b/app/routers/workspace.py
index f8fa7a7..2065b2f 100644
--- a/app/routers/workspace.py
+++ b/app/routers/workspace.py
@@ -7,14 +7,15 @@ from app.models.user import User
 from app.models.session import UserSession
 from app.models.workspace import Workspace, WorkspaceMember, Project
 from app.schemas import WorkspaceCreate, WorkspaceResponse, ProjectCreate, ProjectResponse, AddMemberRequest, \
-    WorkspaceMemberResponse
-from datetime import datetime
+    WorkspaceMemberResponse, UserResponse
+from datetime import datetime, timedelta
 from typing import Any
 
 router = APIRouter(tags=["Workspace & Project"])
 
 # ì¿ í‚¤ì—ì„œ ì„¸ì…˜ IDë¥¼ ì¶”ì¶œí•˜ì—¬ ìœ ì € ID ë°˜í™˜í•˜ëŠ” ì˜ì¡´ì„± í•¨ìˆ˜
 from fastapi import Cookie
+
 def get_current_user_id(session_id: str = Cookie(None), db: Session = Depends(get_db)):
     if not session_id:
         raise HTTPException(status_code=401, detail="ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.")
@@ -23,6 +24,12 @@ def get_current_user_id(session_id: str = Cookie(None), db: Session = Depends(ge
     if not session or session.expires_at < datetime.now():
         raise HTTPException(status_code=401, detail="ì„¸ì…˜ì´ ë§Œë£Œë˜ì—ˆìŠµë‹ˆë‹¤.")
 
+    user = db.get(User, session.user_id)
+    if user:
+        user.last_active_at = datetime.now()
+        db.add(user)
+        db.commit()
+
     return session.user_id
 
 
@@ -173,4 +180,30 @@ def get_workspace_members(
             email=r.email,
             role=r.role
         ) for r in results
-    ]
\ No newline at end of file
+    ]
+
+
+@router.get("/workspaces/{workspace_id}/online-members", response_model=List[UserResponse])
+def get_online_members(
+        workspace_id: int,
+        user_id: int = Depends(get_current_user_id),
+        db: Session = Depends(get_db)
+):
+    # 1. ìš”ì²­í•œ ì‚¬ëŒì´ ë©¤ë²„ì¸ì§€ í™•ì¸
+    member = db.get(WorkspaceMember, (workspace_id, user_id))
+    if not member:
+        raise HTTPException(status_code=403, detail="ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ë©¤ë²„ê°€ ì•„ë‹™ë‹ˆë‹¤.")
+
+    # 2. ìµœê·¼ 5ë¶„ ì´ë‚´ì— í™œë™ ê¸°ë¡(last_active_at)ì´ ìˆëŠ” ìœ ì € ì¡°íšŒ
+    active_threshold = datetime.now() - timedelta(minutes=1)
+
+    statement = (
+        select(User)
+        .join(WorkspaceMember, User.id == WorkspaceMember.user_id)
+        .where(WorkspaceMember.workspace_id == workspace_id)
+        .where(User.last_active_at >= active_threshold) # ğŸ‘ˆ í•µì‹¬ ì¡°ê±´
+    )
+
+    online_users = db.exec(statement).all()
+
+    return online_users
\ No newline at end of file

commit 523a095e28c4465f934b246e79cd0547e5c70845
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Sat Jan 17 13:45:49 2026 +0900

    Add file upload and download api
    
    Also it can have versions and download it.
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/.gitignore b/.gitignore
index 7492df4..df0e68b 100644
--- a/.gitignore
+++ b/.gitignore
@@ -41,4 +41,6 @@ redis_data/
 
 .coverage
 htmlcov/
-.pytest_cache/
\ No newline at end of file
+.pytest_cache/
+
+/uploads
\ No newline at end of file
diff --git a/app/main.py b/app/main.py
index a7ce3db..9c61bdd 100644
--- a/app/main.py
+++ b/app/main.py
@@ -6,7 +6,7 @@ import time
 import asyncio
 
 #routers
-from app.routers import auth,workspace,board,schedule
+from app.routers import auth,workspace,board,schedule,file
 
 
 try:
@@ -71,8 +71,9 @@ app = FastAPI(
 #routers
 app.include_router(auth.router, prefix="/api/auth")
 app.include_router(workspace.router, prefix="/api")
-app.include_router(board.router, prefix="/api") # ì¶”ê°€
-app.include_router(schedule.router, prefix="/api") # ë“±ë¡
+app.include_router(board.router, prefix="/api")
+app.include_router(schedule.router, prefix="/api")
+app.include_router(file.router, prefix="/api")
 
 @app.get("/")
 def read_root():
diff --git a/app/models/file.py b/app/models/file.py
new file mode 100644
index 0000000..3285d50
--- /dev/null
+++ b/app/models/file.py
@@ -0,0 +1,29 @@
+from typing import Optional, List
+from datetime import datetime
+from sqlmodel import SQLModel, Field, Relationship
+
+# 1. íŒŒì¼ ë©”íƒ€ë°ì´í„° (í”„ë¡œì íŠ¸ ë‚´ì˜ 'íŒŒì¼' ê°œë…)
+class FileMetadata(SQLModel, table=True):
+    __tablename__ = "files"
+
+    id: Optional[int] = Field(default=None, primary_key=True)
+    project_id: int = Field(foreign_key="projects.id", index=True)
+    filename: str = Field(index=True) # ì›ë³¸ íŒŒì¼ëª… (ì˜ˆ: ê¸°íšì„œ.pdf)
+    owner_id: int = Field(foreign_key="users.id")
+
+    created_at: datetime = Field(default_factory=datetime.now)
+    updated_at: datetime = Field(default_factory=datetime.now)
+
+# 2. íŒŒì¼ ë²„ì „ (ì‹¤ì œ ë¬¼ë¦¬ì  íŒŒì¼ ì •ë³´)
+class FileVersion(SQLModel, table=True):
+    __tablename__ = "file_versions"
+
+    id: Optional[int] = Field(default=None, primary_key=True)
+    file_id: int = Field(foreign_key="files.id", index=True)
+
+    version: int = Field(default=1) # v1, v2, ...
+    saved_path: str # ì„œë²„ì— ì €ì¥ëœ ì‹¤ì œ ê²½ë¡œ (UUID ë“±ìœ¼ë¡œ ë³€í™˜ë¨)
+    file_size: int  # ë°”ì´íŠ¸ ë‹¨ìœ„
+
+    uploader_id: int = Field(foreign_key="users.id") # ë²„ì „ì„ ì˜¬ë¦° ì‚¬ëŒ
+    created_at: datetime = Field(default_factory=datetime.now)
\ No newline at end of file
diff --git a/app/routers/file.py b/app/routers/file.py
new file mode 100644
index 0000000..598d522
--- /dev/null
+++ b/app/routers/file.py
@@ -0,0 +1,144 @@
+import os
+import shutil
+import uuid
+from fastapi import APIRouter, Depends, HTTPException, UploadFile, File
+from fastapi.responses import FileResponse as StreamFileResponse
+from sqlmodel import Session, select, desc
+from datetime import datetime
+
+from app.database import get_db
+from app.routers.workspace import get_current_user_id
+from app.models.file import FileMetadata, FileVersion
+from app.models.workspace import Project, WorkspaceMember
+from app.schemas import FileResponse, FileVersionResponse
+from typing import List
+
+router = APIRouter(tags=["File Management"])
+
+UPLOAD_DIR = "/app/uploads"  # docker-composeì—ì„œ ë§ˆìš´íŠ¸í•œ ê²½ë¡œ
+
+# ì„œë²„ ì‹œì‘ ì‹œ í´ë”ê°€ ì—†ìœ¼ë©´ ìƒì„±
+os.makedirs(UPLOAD_DIR, exist_ok=True)
+
+
+# 1. íŒŒì¼ ì—…ë¡œë“œ (ìë™ ë²„ì „ ê´€ë¦¬)
+@router.post("/projects/{project_id}/files", response_model=FileResponse)
+async def upload_file(
+        project_id: int,
+        file: UploadFile = File(...),
+        user_id: int = Depends(get_current_user_id),
+        db: Session = Depends(get_db)
+):
+    # 0. í”„ë¡œì íŠ¸ ê¶Œí•œ í™•ì¸ (ìƒëµ ê°€ëŠ¥í•˜ë‚˜ ë³´ì•ˆìƒ ê¶Œì¥)
+    # ... (WorkspaceMember ì²´í¬ ë¡œì§) ...
+
+    # 1. ì‹¤ì œ íŒŒì¼ ì €ì¥ (ì´ë¦„ ì¶©ëŒ ë°©ì§€ë¥¼ ìœ„í•´ UUID ì‚¬ìš©)
+    file_ext = os.path.splitext(file.filename)[1]
+    saved_filename = f"{uuid.uuid4()}{file_ext}"
+    saved_path = os.path.join(UPLOAD_DIR, saved_filename)
+
+    with open(saved_path, "wb") as buffer:
+        shutil.copyfileobj(file.file, buffer)
+
+    file_size = os.path.getsize(saved_path)
+
+    # 2. ê°™ì€ ì´ë¦„ì˜ íŒŒì¼ì´ ìˆëŠ”ì§€ í™•ì¸
+    existing_file = db.exec(
+        select(FileMetadata)
+        .where(FileMetadata.project_id == project_id)
+        .where(FileMetadata.filename == file.filename)
+    ).first()
+
+    current_version_num = 1
+
+    if existing_file:
+        # ì´ë¯¸ ì¡´ì¬í•˜ë©´: ë©”íƒ€ë°ì´í„° ì—…ë°ì´íŠ¸ & ë²„ì „ UP
+        last_version = db.exec(
+            select(FileVersion)
+            .where(FileVersion.file_id == existing_file.id)
+            .order_by(desc(FileVersion.version))
+        ).first()
+
+        if last_version:
+            current_version_num = last_version.version + 1
+
+        target_file_id = existing_file.id
+        existing_file.updated_at = datetime.now()
+        db.add(existing_file)
+    else:
+        # ì—†ìœ¼ë©´: ìƒˆë¡œ ìƒì„± (v1)
+        new_file = FileMetadata(
+            project_id=project_id,
+            filename=file.filename,
+            owner_id=user_id
+        )
+        db.add(new_file)
+        db.commit()
+        db.refresh(new_file)
+        target_file_id = new_file.id
+        existing_file = new_file
+
+    # 3. ë²„ì „ ì •ë³´ ì €ì¥
+    new_version = FileVersion(
+        file_id=target_file_id,
+        version=current_version_num,
+        saved_path=saved_path,
+        file_size=file_size,
+        uploader_id=user_id
+    )
+    db.add(new_version)
+    db.commit()
+    db.refresh(new_version)
+
+    # ì‘ë‹µ ìƒì„±
+    return FileResponse(
+        id=existing_file.id,
+        project_id=existing_file.project_id,
+        filename=existing_file.filename,
+        owner_id=existing_file.owner_id,
+        created_at=existing_file.created_at,
+        latest_version=FileVersionResponse(
+            id=new_version.id,
+            version=new_version.version,
+            file_size=new_version.file_size,
+            created_at=new_version.created_at,
+            uploader_id=new_version.uploader_id
+        )
+    )
+
+
+# 2. íŒŒì¼ ë‹¤ìš´ë¡œë“œ (íŠ¹ì • ë²„ì „)
+@router.get("/files/download/{version_id}")
+def download_file_version(version_id: int, db: Session = Depends(get_db)):
+    version = db.get(FileVersion, version_id)
+    if not version:
+        raise HTTPException(status_code=404, detail="íŒŒì¼ ë²„ì „ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
+
+    file_meta = db.get(FileMetadata, version.file_id)
+
+    # ë‹¤ìš´ë¡œë“œ ì‹œ ì›ë˜ íŒŒì¼ëª…ìœ¼ë¡œ ì œê³µ
+    return StreamFileResponse(
+        path=version.saved_path,
+        filename=f"v{version.version}_{file_meta.filename}",
+        media_type="application/octet-stream"
+    )
+
+
+@router.get("/files/{file_id}/versions", response_model=List[FileVersionResponse])
+def get_file_history(
+        file_id: int,
+        db: Session = Depends(get_db)
+):
+    # 1. íŒŒì¼ ë©”íƒ€ë°ì´í„° ì¡´ì¬ í™•ì¸
+    file_meta = db.get(FileMetadata, file_id)
+    if not file_meta:
+        raise HTTPException(status_code=404, detail="íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
+
+    # 2. í•´ë‹¹ íŒŒì¼ì˜ ëª¨ë“  ë²„ì „ì„ ìµœì‹ ìˆœ(ë‚´ë¦¼ì°¨ìˆœ)ìœ¼ë¡œ ì¡°íšŒ
+    versions = db.exec(
+        select(FileVersion)
+        .where(FileVersion.file_id == file_id)
+        .order_by(desc(FileVersion.version))
+    ).all()
+
+    return versions
diff --git a/app/schemas.py b/app/schemas.py
index 50c08a1..a6b50dd 100644
--- a/app/schemas.py
+++ b/app/schemas.py
@@ -1,6 +1,6 @@
 from pydantic import BaseModel, EmailStr
 from typing import Optional
-from datetime import time as dt_time
+from datetime import time as dt_time, datetime
 
 
 # data for register
@@ -112,7 +112,25 @@ class WorkspaceMemberResponse(BaseModel):
     user_id: int
     name: str
     email: EmailStr
-    role: str # admin ë˜ëŠ” member
+    role: str  # admin ë˜ëŠ” member
 
     class Config:
-        from_attributes = True
\ No newline at end of file
+        from_attributes = True
+
+
+class FileVersionResponse(BaseModel):
+    id: int
+    version: int
+    file_size: int
+    created_at: datetime
+    uploader_id: int
+
+
+class FileResponse(BaseModel):
+    id: int
+    project_id: int
+    filename: str
+    owner_id: int
+    created_at: datetime
+    # ê°€ì¥ ìµœì‹  ë²„ì „ì„ ë³´ì—¬ì£¼ê¸° ìœ„í•´
+    latest_version: Optional[FileVersionResponse] = None
diff --git a/docker-compose.yml b/docker-compose.yml
index 960123d..a17f1b0 100644
--- a/docker-compose.yml
+++ b/docker-compose.yml
@@ -15,6 +15,7 @@ services:
       - OPENAI_API_KEY=${OPENAI_API_KEY}
     volumes:
       - ./app:/app/app
+      - ./uploads:/app/uploads
     depends_on:
       - db
       - weaviate

commit 3d6bab3b63a95e2a1c081776e20718259635c102
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Fri Jan 16 23:36:12 2026 +0900

    Add README for frontend
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/README.md b/README.md
new file mode 100644
index 0000000..cc8120a
--- /dev/null
+++ b/README.md
@@ -0,0 +1,65 @@
+
+# ğŸŒŠ Domo Collaboration Platform - Backend
+
+ì „ì£¼ëŒ€í•™êµ íŒ€ í”„ë¡œì íŠ¸ í˜‘ì—…ì„ ìœ„í•œ FastAPI ê¸°ë°˜ ë°±ì—”ë“œ ì„œë²„ì…ë‹ˆë‹¤.
+
+**FastAPI + PostgreSQL + Weaviate(VectorWave)** í™˜ê²½ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
+
+## ğŸ› ï¸ ì‚¬ì „ ì¤€ë¹„ (Prerequisites)
+
+ì´ í”„ë¡œì íŠ¸ëŠ” **Docker** í™˜ê²½ì—ì„œ ì‹¤í–‰í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤.
+
+* [Docker Desktop](https://www.docker.com/products/docker-desktop/) ì„¤ì¹˜ ë° ì‹¤í–‰
+
+## ğŸš€ ì‹œì‘í•˜ê¸° (Getting Started)
+
+### 1. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
+
+í”„ë¡œì íŠ¸ ë£¨íŠ¸ í´ë”ì— `.env` íŒŒì¼ì„ ìƒì„±í•˜ê³  ì•„ë˜ ë‚´ìš©ì„ ì…ë ¥í•©ë‹ˆë‹¤. (OpenAI í‚¤ëŠ” í•„ìˆ˜ê°€ ì•„ë‹™ë‹ˆë‹¤)
+
+```env
+OPENAI_API_KEY=your_openai_api_key_here
+
+```
+
+### 2. ì„œë²„ ì‹¤í–‰
+
+í„°ë¯¸ë„ì—ì„œ ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ì—¬ ì»¨í…Œì´ë„ˆë¥¼ ë¹Œë“œí•˜ê³  ì‹¤í–‰í•©ë‹ˆë‹¤.
+
+```bash
+docker-compose up --build
+
+```
+
+> **ì°¸ê³ :** ì²˜ìŒ ì‹¤í–‰ ì‹œ Weaviate(ë²¡í„° DB)ê°€ ì¤€ë¹„ë  ë•Œê¹Œì§€ ë°±ì—”ë“œ ë¡œê·¸ì— `â³ [VectorWave] DB not ready...` ë©”ì‹œì§€ê°€ ëœ° ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì ì‹œ ê¸°ë‹¤ë¦¬ë©´ ìë™ìœ¼ë¡œ ì—°ê²°ë©ë‹ˆë‹¤.
+
+### 3. ì ‘ì† í™•ì¸
+
+ì„œë²„ê°€ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ë˜ë©´ ì•„ë˜ ì£¼ì†Œë¡œ ì ‘ì† ê°€ëŠ¥í•©ë‹ˆë‹¤.
+
+* **API ì„œë²„:** [http://localhost:8000](https://www.google.com/search?q=http://localhost:8000)
+* **ìë™ ìƒì„±ëœ API ë¬¸ì„œ (Swagger UI):** [http://localhost:8000/docs](https://www.google.com/search?q=http://localhost:8000/docs) âœ… **ì—¬ê¸°ì„œ ëª¨ë“  API í…ŒìŠ¤íŠ¸ ê°€ëŠ¥**
+
+## ğŸ” ì¸ì¦ ë°©ì‹ (Authentication)
+
+ì´ ì„œë²„ëŠ” **ì„¸ì…˜ ê¸°ë°˜ ì¿ í‚¤(HttpOnly Cookie)** ì¸ì¦ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.
+
+1. `/api/auth/signup`ìœ¼ë¡œ ê³„ì • ìƒì„±
+2. `/api/auth/login`ìœ¼ë¡œ ë¡œê·¸ì¸ ì„±ê³µ ì‹œ, ë¸Œë¼ìš°ì €/Postmanì— ì„¸ì…˜ ì¿ í‚¤ê°€ ìë™ ì €ì¥ë©ë‹ˆë‹¤.
+3. ì´í›„ ë‹¤ë¥¸ API í˜¸ì¶œ ì‹œ ë³„ë„ì˜ í† í° ì—†ì´ë„ ì¿ í‚¤ë¥¼ í†µí•´ ì¸ì¦ì´ ìœ ì§€ë©ë‹ˆë‹¤.
+
+## ğŸ“‚ ì£¼ìš” ê¸°ëŠ¥ ë ˆì´ì•„ì›ƒ
+
+* **Auth:** íšŒì›ê°€ì…, ë¡œê·¸ì¸, ë¡œê·¸ì•„ì›ƒ, ë‚´ ì •ë³´ ì¡°íšŒ
+* **Workspace:** íŒ€ ìƒì„±, í”„ë¡œì íŠ¸ ê´€ë¦¬, íŒ€ì› ì´ˆëŒ€(`email` ê¸°ë°˜)
+* **Kanban Board:** ì»¬ëŸ¼ ìƒì„±, ì¹´ë“œ(í¬ìŠ¤íŠ¸ì‡) ìƒì„± ë° ë“œë˜ê·¸ ì•¤ ë“œë¡­ ì´ë™
+* **Schedule:** ê°œì¸ ì‹œê°„í‘œ ë“±ë¡ ë° íŒ€ì› ê°„ **ê³µí†µ ë¹„ì–´ìˆëŠ” ì‹œê°„ ê³„ì‚°**
+
+---
+
+### ğŸ’¡ í”„ë¡ íŠ¸ì—”ë“œ í…ŒìŠ¤íŠ¸ íŒ
+
+* **Postman ì‚¬ìš© ì‹œ:** ë¡œê·¸ì¸ì„ í•œ ë²ˆ ì„±ê³µí•˜ë©´ ì¿ í‚¤ê°€ ìë™ìœ¼ë¡œ ì„¸íŒ…ë˜ì–´ ë‹¤ë¥¸ APIë¥¼ ë°”ë¡œ í˜¸ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
+* **CORS ì„¤ì •:** í˜„ì¬ ë¡œì»¬ ê°œë°œ í™˜ê²½ì— ë§ì¶° ê¸°ë³¸ ì„¤ì •ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
+
+---

commit c1df896f751bc8710a8d580c3b326ec0f70e0c51
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Fri Jan 16 23:32:05 2026 +0900

    Add user invite and get memberlist api
    
    team leader can invite user by user email.
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/routers/workspace.py b/app/routers/workspace.py
index 14f1f8a..f8fa7a7 100644
--- a/app/routers/workspace.py
+++ b/app/routers/workspace.py
@@ -6,8 +6,10 @@ from app.database import get_db
 from app.models.user import User
 from app.models.session import UserSession
 from app.models.workspace import Workspace, WorkspaceMember, Project
-from app.schemas import WorkspaceCreate, WorkspaceResponse, ProjectCreate, ProjectResponse
+from app.schemas import WorkspaceCreate, WorkspaceResponse, ProjectCreate, ProjectResponse, AddMemberRequest, \
+    WorkspaceMemberResponse
 from datetime import datetime
+from typing import Any
 
 router = APIRouter(tags=["Workspace & Project"])
 
@@ -100,4 +102,75 @@ def get_workspace_projects(
 
     # 2. í•´ë‹¹ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ì˜ í”„ë¡œì íŠ¸ë“¤ë§Œ ì¡°íšŒ
     projects = db.exec(select(Project).where(Project.workspace_id == workspace_id)).all()
-    return projects
\ No newline at end of file
+    return projects
+
+# app/routers/workspace.py ë§¨ ì•„ë˜ì— ì¶”ê°€
+
+# 5. ì›Œí¬ìŠ¤í˜ì´ìŠ¤ì— íŒ€ì› ì´ˆëŒ€ (ì´ë©”ì¼ë¡œ ì¶”ê°€)
+@router.post("/workspaces/{workspace_id}/members")
+def add_workspace_member(
+        workspace_id: int,
+        request: AddMemberRequest,
+        user_id: int = Depends(get_current_user_id),
+        db: Session = Depends(get_db)
+):
+    # 1. ê¶Œí•œ í™•ì¸: ì´ˆëŒ€í•˜ëŠ” ì‚¬ëŒ(ë‚˜)ì´ í•´ë‹¹ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ì˜ adminì¸ì§€ í™•ì¸
+    my_membership = db.get(WorkspaceMember, (workspace_id, user_id))
+    if not my_membership or my_membership.role != "admin":
+        raise HTTPException(status_code=403, detail="íŒ€ì› ì´ˆëŒ€ ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤ (ê´€ë¦¬ì ì „ìš©).")
+
+    # 2. ì´ˆëŒ€í•  ìœ ì €ê°€ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸
+    target_user = db.exec(select(User).where(User.email == request.email)).first()
+    if not target_user:
+        raise HTTPException(status_code=404, detail="í•´ë‹¹ ì´ë©”ì¼ì„ ê°€ì§„ ì‚¬ìš©ìê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.")
+
+    # 3. ì´ë¯¸ ë©¤ë²„ì¸ì§€ í™•ì¸
+    existing_member = db.get(WorkspaceMember, (workspace_id, target_user.id))
+    if existing_member:
+        raise HTTPException(status_code=400, detail="ì´ë¯¸ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ì˜ ë©¤ë²„ì…ë‹ˆë‹¤.")
+
+    # 4. ë©¤ë²„ ì¶”ê°€ (ê¸°ë³¸ ì—­í• ì€ 'member')
+    new_member = WorkspaceMember(
+        workspace_id=workspace_id,
+        user_id=target_user.id,
+        role="member"
+    )
+    db.add(new_member)
+    db.commit()
+
+    return {"message": f"{target_user.name} ë‹˜ì´ íŒ€ì›ìœ¼ë¡œ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤."}
+
+
+# app/routers/workspace.py ë§¨ ì•„ë˜ì— ì¶”ê°€
+
+# 6. ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ì „ì²´ ë©¤ë²„ ëª©ë¡ ì¡°íšŒ
+@router.get("/workspaces/{workspace_id}/members", response_model=List[WorkspaceMemberResponse])
+def get_workspace_members(
+        workspace_id: int,
+        user_id: int = Depends(get_current_user_id),
+        db: Session = Depends(get_db)
+) -> Any:
+    # 1. ê¶Œí•œ í™•ì¸: ìš”ì²­í•œ ì‚¬ëŒì´ ì´ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ì˜ ë©¤ë²„ì¸ì§€ í™•ì¸
+    membership = db.get(WorkspaceMember, (workspace_id, user_id))
+    if not membership:
+        raise HTTPException(status_code=403, detail="ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ë©¤ë²„ë§Œ ì¡°íšŒ ê°€ëŠ¥í•©ë‹ˆë‹¤.")
+
+    # 2. User í…Œì´ë¸”ê³¼ WorkspaceMember í…Œì´ë¸”ì„ Joiní•˜ì—¬ ì •ë³´ ì¡°íšŒ
+    # SQLModelì˜ select ë¬¸ë²•ìœ¼ë¡œ ìœ ì € ì •ë³´ì™€ ì—­í• ì„ ë™ì‹œì— ê°€ì ¸ì˜µë‹ˆë‹¤.
+    statement = (
+        select(User.id.label("user_id"), User.name, User.email, WorkspaceMember.role)
+        .join(WorkspaceMember, User.id == WorkspaceMember.user_id)
+        .where(WorkspaceMember.workspace_id == workspace_id)
+    )
+
+    results = db.exec(statement).all()
+
+    # ê²°ê³¼ë¥¼ ìŠ¤í‚¤ë§ˆ í˜•íƒœì— ë§ê²Œ ë³€í™˜í•˜ì—¬ ë°˜í™˜
+    return [
+        WorkspaceMemberResponse(
+            user_id=r.user_id,
+            name=r.name,
+            email=r.email,
+            role=r.role
+        ) for r in results
+    ]
\ No newline at end of file
diff --git a/app/schemas.py b/app/schemas.py
index ee78ad3..50c08a1 100644
--- a/app/schemas.py
+++ b/app/schemas.py
@@ -2,6 +2,7 @@ from pydantic import BaseModel, EmailStr
 from typing import Optional
 from datetime import time as dt_time
 
+
 # data for register
 class UserCreate(BaseModel):
     email: EmailStr
@@ -87,6 +88,7 @@ class ScheduleCreate(BaseModel):
     end_time: dt_time
     description: Optional[str] = None
 
+
 class ScheduleResponse(BaseModel):
     id: int
     user_id: int
@@ -95,7 +97,22 @@ class ScheduleResponse(BaseModel):
     end_time: dt_time
     description: Optional[str] = None
 
+
 class FreeTimeSlot(BaseModel):
     day_of_week: int
     start_time: dt_time
     end_time: dt_time
+
+
+class AddMemberRequest(BaseModel):
+    email: EmailStr
+
+
+class WorkspaceMemberResponse(BaseModel):
+    user_id: int
+    name: str
+    email: EmailStr
+    role: str # admin ë˜ëŠ” member
+
+    class Config:
+        from_attributes = True
\ No newline at end of file

commit e1668d3557713dd6eab4d5f107cdcec7955e97a6
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Fri Jan 16 23:24:57 2026 +0900

    Add get free schedule api
    
    schedule can entered with day of week and start and end time.
    and server automatically calculate the free time for the workspace
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/main.py b/app/main.py
index 469a7c1..a7ce3db 100644
--- a/app/main.py
+++ b/app/main.py
@@ -6,7 +6,7 @@ import time
 import asyncio
 
 #routers
-from app.routers import auth,workspace,board
+from app.routers import auth,workspace,board,schedule
 
 
 try:
@@ -72,7 +72,7 @@ app = FastAPI(
 app.include_router(auth.router, prefix="/api/auth")
 app.include_router(workspace.router, prefix="/api")
 app.include_router(board.router, prefix="/api") # ì¶”ê°€
-
+app.include_router(schedule.router, prefix="/api") # ë“±ë¡
 
 @app.get("/")
 def read_root():
diff --git a/app/models/schedule.py b/app/models/schedule.py
new file mode 100644
index 0000000..894a666
--- /dev/null
+++ b/app/models/schedule.py
@@ -0,0 +1,13 @@
+from typing import Optional
+from datetime import time
+from sqlmodel import SQLModel, Field
+
+class Schedule(SQLModel, table=True):
+    __tablename__ = "schedules"
+
+    id: Optional[int] = Field(default=None, primary_key=True)
+    user_id: int = Field(foreign_key="users.id", index=True)
+    day_of_week: int = Field(description="0:ì›”, 1:í™”, ..., 6:ì¼")
+    start_time: time # ìˆ˜ì—… ì‹œì‘ ì‹œê°„
+    end_time: time   # ìˆ˜ì—… ì¢…ë£Œ ì‹œê°„
+    description: Optional[str] = None # ê³¼ëª©ëª… ë“±
\ No newline at end of file
diff --git a/app/routers/schedule.py b/app/routers/schedule.py
new file mode 100644
index 0000000..7bec593
--- /dev/null
+++ b/app/routers/schedule.py
@@ -0,0 +1,72 @@
+from fastapi import APIRouter, Depends, HTTPException
+from sqlmodel import Session, select
+from typing import List
+from datetime import time, datetime, timedelta
+
+from app.database import get_db
+from app.routers.workspace import get_current_user_id
+from app.models.schedule import Schedule
+from app.models.workspace import WorkspaceMember
+from app.schemas import ScheduleCreate, ScheduleResponse, FreeTimeSlot
+
+router = APIRouter(tags=["Schedule & Free Time"])
+
+# 1. ë‚´ ì‹œê°„í‘œ ë“±ë¡ (ìˆ˜ì—… ì¶”ê°€)
+@router.post("/schedules", response_model=ScheduleResponse)
+def add_schedule(s_data: ScheduleCreate, user_id: int = Depends(get_current_user_id), db: Session = Depends(get_db)):
+    new_schedule = Schedule(**s_data.model_dump(), user_id=user_id)
+    db.add(new_schedule)
+    db.commit()
+    db.refresh(new_schedule)
+    return new_schedule
+
+# 2. íŠ¹ì • ì›Œí¬ìŠ¤í˜ì´ìŠ¤ íŒ€ì›ë“¤ì˜ ê³µí†µ ë¹ˆ ì‹œê°„ ê³„ì‚° (í•µì‹¬!)
+@router.get("/workspaces/{workspace_id}/free-time", response_model=List[FreeTimeSlot])
+def get_common_free_time(workspace_id: int, db: Session = Depends(get_db)):
+    # 1. ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ëª¨ë“  ë©¤ë²„ ID ì¡°íšŒ
+    members = db.exec(select(WorkspaceMember.user_id).where(WorkspaceMember.workspace_id == workspace_id)).all()
+    if not members:
+        raise HTTPException(status_code=404, detail="ë©¤ë²„ê°€ ì—†ìŠµë‹ˆë‹¤.")
+
+    # 2. ëª¨ë“  ë©¤ë²„ì˜ ì‹œê°„í‘œ ê°€ì ¸ì˜¤ê¸°
+    all_schedules = db.exec(select(Schedule).where(Schedule.user_id.in_(members))).all()
+
+    # 3. ë¹ˆ ì‹œê°„ ê³„ì‚° ë¡œì§ (ë‹¨ìˆœí™”ëœ ë²„ì „)
+    # 09:00 ~ 22:00 ì‚¬ì´ë¥¼ ë¹„ì–´ìˆëŠ” ì‹œê°„ì˜ í›„ë³´ë¡œ ì¡ê³ , ìˆ˜ì—… ì‹œê°„ì„ ëºë‹ˆë‹¤.
+    free_slots = []
+
+    for day in range(5):  # ì›”~ê¸ˆ
+        # í•´ë‹¹ ìš”ì¼ì˜ ëª¨ë“  íŒ€ì› ìˆ˜ì—… ì‹œê°„ (ì‹œì‘ ì‹œê°„ ìˆœ ì •ë ¬)
+        day_schedules = sorted(
+            [s for s in all_schedules if s.day_of_week == day],
+            key=lambda x: x.start_time
+        )
+
+        current_time = datetime.combine(datetime.today(), time(9, 0)) # ì˜¤ì „ 9ì‹œ ì‹œì‘
+        end_limit = datetime.combine(datetime.today(), time(22, 0))   # ì˜¤í›„ 10ì‹œ ì¢…ë£Œ
+
+        for s in day_schedules:
+            s_start = datetime.combine(datetime.today(), s.start_time)
+            s_end = datetime.combine(datetime.today(), s.end_time)
+
+            # ìˆ˜ì—… ì‹œì‘ ì „ê¹Œì§€ ì‹œê°„ì´ ë¹„ì–´ìˆë‹¤ë©´ ì¶”ê°€ (ìµœì†Œ 30ë¶„ ì´ìƒì¸ ê²½ìš°ë§Œ)
+            if s_start > current_time + timedelta(minutes=30):
+                free_slots.append(FreeTimeSlot(
+                    day_of_week=day,
+                    start_time=current_time.time(),
+                    end_time=s_start.time()
+                ))
+
+            # í˜„ì¬ ì‹œê°„ì„ ìˆ˜ì—… ì¢…ë£Œ ì‹œê°„ìœ¼ë¡œ ê°±ì‹  (ë” ëŠ¦ì€ ì‹œê°„ ê¸°ì¤€)
+            if s_end > current_time:
+                current_time = s_end
+
+        # ë§ˆì§€ë§‰ ìˆ˜ì—… ì´í›„ë¶€í„° ë°¤ 10ì‹œê¹Œì§€ ë¹„ì–´ìˆë‹¤ë©´ ì¶”ê°€
+        if end_limit > current_time + timedelta(minutes=30):
+            free_slots.append(FreeTimeSlot(
+                day_of_week=day,
+                start_time=current_time.time(),
+                end_time=end_limit.time()
+            ))
+
+    return free_slots
\ No newline at end of file
diff --git a/app/schemas.py b/app/schemas.py
index 52727e4..ee78ad3 100644
--- a/app/schemas.py
+++ b/app/schemas.py
@@ -1,6 +1,6 @@
 from pydantic import BaseModel, EmailStr
 from typing import Optional
-
+from datetime import time as dt_time
 
 # data for register
 class UserCreate(BaseModel):
@@ -74,8 +74,28 @@ class CardResponse(BaseModel):
     assignee_id: Optional[int] = None
 
 
-class CardUpdate(BaseModel): 
+class CardUpdate(BaseModel):
     title: Optional[str] = None
     content: Optional[str] = None
     column_id: Optional[int] = None
     order: Optional[int] = None
+
+
+class ScheduleCreate(BaseModel):
+    day_of_week: int
+    start_time: dt_time
+    end_time: dt_time
+    description: Optional[str] = None
+
+class ScheduleResponse(BaseModel):
+    id: int
+    user_id: int
+    day_of_week: int
+    start_time: dt_time
+    end_time: dt_time
+    description: Optional[str] = None
+
+class FreeTimeSlot(BaseModel):
+    day_of_week: int
+    start_time: dt_time
+    end_time: dt_time

commit 26050ab6d43c949fd71e017c4ae438fe82606c31
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Fri Jan 16 23:11:33 2026 +0900

    Add board and card api
    
    cards can included in columns and board can include
    both.
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/main.py b/app/main.py
index dfc9dd9..469a7c1 100644
--- a/app/main.py
+++ b/app/main.py
@@ -6,7 +6,7 @@ import time
 import asyncio
 
 #routers
-from app.routers import auth,workspace
+from app.routers import auth,workspace,board
 
 
 try:
@@ -71,6 +71,7 @@ app = FastAPI(
 #routers
 app.include_router(auth.router, prefix="/api/auth")
 app.include_router(workspace.router, prefix="/api")
+app.include_router(board.router, prefix="/api") # ì¶”ê°€
 
 
 @app.get("/")
diff --git a/app/models/board.py b/app/models/board.py
new file mode 100644
index 0000000..36d9369
--- /dev/null
+++ b/app/models/board.py
@@ -0,0 +1,28 @@
+from typing import Optional, List
+from datetime import datetime
+from sqlmodel import SQLModel, Field, Relationship
+
+# 1. ë³´ë“œ ì»¬ëŸ¼ (ì˜ˆ: í•  ì¼, ì§„í–‰ ì¤‘, ì™„ë£Œ)
+class BoardColumn(SQLModel, table=True):
+    __tablename__ = "board_columns"
+
+    id: Optional[int] = Field(default=None, primary_key=True)
+    title: str
+    order: int = Field(default=0)  # ì»¬ëŸ¼ ìˆœì„œ
+    project_id: int = Field(foreign_key="projects.id", index=True)
+    created_at: datetime = Field(default_factory=datetime.now)
+
+# 2. ì¹´ë“œ (ì‹¤ì œ í•  ì¼ / í¬ìŠ¤íŠ¸ì‡)
+class Card(SQLModel, table=True):
+    __tablename__ = "cards"
+
+    id: Optional[int] = Field(default=None, primary_key=True)
+    title: str
+    content: Optional[str] = None
+    order: int = Field(default=0)  # ì»¬ëŸ¼ ë‚´ì—ì„œì˜ ì¹´ë“œ ìˆœì„œ
+
+    column_id: int = Field(foreign_key="board_columns.id", index=True)
+    assignee_id: Optional[int] = Field(default=None, foreign_key="users.id") # ë‹´ë‹¹ì
+
+    created_at: datetime = Field(default_factory=datetime.now)
+    updated_at: datetime = Field(default_factory=datetime.now)
\ No newline at end of file
diff --git a/app/routers/board.py b/app/routers/board.py
new file mode 100644
index 0000000..79e9c68
--- /dev/null
+++ b/app/routers/board.py
@@ -0,0 +1,64 @@
+from fastapi import APIRouter, Depends, HTTPException
+from sqlmodel import Session, select
+from typing import List
+from app.database import get_db
+from app.routers.workspace import get_current_user_id # ê¸°ì¡´ ì¸ì¦ í•¨ìˆ˜ ì¬ì‚¬ìš©
+from app.models.board import BoardColumn, Card
+from app.models.workspace import Project, WorkspaceMember
+from app.schemas import BoardColumnCreate, BoardColumnResponse, CardCreate, CardResponse, CardUpdate
+
+router = APIRouter(tags=["Board & Cards"])
+
+# 1. ì»¬ëŸ¼ ìƒì„±
+@router.post("/projects/{project_id}/columns", response_model=BoardColumnResponse)
+def create_column(project_id: int, col_data: BoardColumnCreate, user_id: int = Depends(get_current_user_id), db: Session = Depends(get_db)):
+    project = db.get(Project, project_id)
+    if not project: raise HTTPException(status_code=404, detail="í”„ë¡œì íŠ¸ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
+
+    # ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ë©¤ë²„ ê¶Œí•œ í™•ì¸ ë¡œì§ ìƒëµ(í•„ìš” ì‹œ ì¶”ê°€)
+
+    new_col = BoardColumn(**col_data.model_dump(), project_id=project_id)
+    db.add(new_col)
+    db.commit()
+    db.refresh(new_col)
+    return new_col
+
+# 2. ì¹´ë“œ ìƒì„±
+@router.post("/columns/{column_id}/cards", response_model=CardResponse)
+def create_card(column_id: int, card_data: CardCreate, user_id: int = Depends(get_current_user_id), db: Session = Depends(get_db)):
+    column = db.get(BoardColumn, column_id)
+    if not column: raise HTTPException(status_code=404, detail="ì»¬ëŸ¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
+
+    new_card = Card(**card_data.model_dump(), column_id=column_id)
+    db.add(new_card)
+    db.commit()
+    db.refresh(new_card)
+    return new_card
+
+# 3. íŠ¹ì • í”„ë¡œì íŠ¸ì˜ ëª¨ë“  ì»¬ëŸ¼ ë° ì¹´ë“œ ì¡°íšŒ
+@router.get("/projects/{project_id}/board")
+def get_board(project_id: int, db: Session = Depends(get_db)):
+    columns = db.exec(select(BoardColumn).where(BoardColumn.project_id == project_id).order_by(BoardColumn.order)).all()
+    result = []
+    for col in columns:
+        cards = db.exec(select(Card).where(Card.column_id == col.id).order_by(Card.order)).all()
+        result.append({
+            "column": col,
+            "cards": cards
+        })
+    return result
+
+# 4. ì¹´ë“œ ìˆ˜ì • ë° ì´ë™ (í•µì‹¬: column_idë¥¼ ë°”ê¾¸ë©´ ì´ë™ë¨)
+@router.patch("/cards/{card_id}", response_model=CardResponse)
+def update_card(card_id: int, update_data: CardUpdate, db: Session = Depends(get_db)):
+    card = db.get(Card, card_id)
+    if not card: raise HTTPException(status_code=404, detail="ì¹´ë“œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
+
+    data = update_data.model_dump(exclude_unset=True)
+    for key, value in data.items():
+        setattr(card, key, value)
+
+    db.add(card)
+    db.commit()
+    db.refresh(card)
+    return card
\ No newline at end of file
diff --git a/app/schemas.py b/app/schemas.py
index c86b06e..52727e4 100644
--- a/app/schemas.py
+++ b/app/schemas.py
@@ -45,3 +45,37 @@ class ProjectResponse(BaseModel):
     id: int
     name: str
     workspace_id: int
+
+
+class BoardColumnCreate(BaseModel):
+    title: str
+    order: Optional[int] = 0
+
+
+class BoardColumnResponse(BaseModel):
+    id: int
+    title: str
+    order: int
+    project_id: int
+
+
+class CardCreate(BaseModel):
+    title: str
+    content: Optional[str] = None
+    order: Optional[int] = 0
+
+
+class CardResponse(BaseModel):
+    id: int
+    title: str
+    content: Optional[str] = None
+    order: int
+    column_id: int
+    assignee_id: Optional[int] = None
+
+
+class CardUpdate(BaseModel): 
+    title: Optional[str] = None
+    content: Optional[str] = None
+    column_id: Optional[int] = None
+    order: Optional[int] = None

commit 85db84d9b3fb8ee5b750e4bf9c1ebc667949cfdd
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Fri Jan 16 23:03:23 2026 +0900

    Add workspace api
    
    Workspace can have several projects
    and the workspace member has its role
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/main.py b/app/main.py
index 4ce175f..dfc9dd9 100644
--- a/app/main.py
+++ b/app/main.py
@@ -6,7 +6,7 @@ import time
 import asyncio
 
 #routers
-from app.routers import auth
+from app.routers import auth,workspace
 
 
 try:
@@ -70,6 +70,7 @@ app = FastAPI(
 
 #routers
 app.include_router(auth.router, prefix="/api/auth")
+app.include_router(workspace.router, prefix="/api")
 
 
 @app.get("/")
diff --git a/app/models/workspace.py b/app/models/workspace.py
new file mode 100644
index 0000000..83fee74
--- /dev/null
+++ b/app/models/workspace.py
@@ -0,0 +1,35 @@
+from typing import Optional, List
+from datetime import datetime
+from sqlmodel import SQLModel, Field, Relationship
+
+# 1. ì›Œí¬ìŠ¤í˜ì´ìŠ¤ (íŒ€ ë‹¨ìœ„)
+class Workspace(SQLModel, table=True):
+    __tablename__ = "workspaces"
+
+    id: Optional[int] = Field(default=None, primary_key=True)
+    name: str
+    description: Optional[str] = None
+    owner_id: int = Field(index=True) # ìƒì„±ì(íŒ€ì¥)
+    created_at: datetime = Field(default_factory=datetime.now)
+
+    # ê´€ê³„ ì„¤ì • (ë‚˜ì¤‘ì— í™•ì¥ì„±ì„ ìœ„í•´)
+    # members: List["User"] = Relationship(back_populates="workspaces", link_model="WorkspaceMember")
+
+# 2. ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ë©¤ë²„ (N:M ê´€ê³„ í…Œì´ë¸”)
+class WorkspaceMember(SQLModel, table=True):
+    __tablename__ = "workspace_members"
+
+    workspace_id: int = Field(primary_key=True, foreign_key="workspaces.id")
+    user_id: int = Field(primary_key=True, foreign_key="users.id")
+    role: str = Field(default="member") # admin, member ë“±
+    joined_at: datetime = Field(default_factory=datetime.now)
+
+# 3. í”„ë¡œì íŠ¸ (ì›Œí¬ìŠ¤í˜ì´ìŠ¤ í•˜ìœ„ ì‘ì—… ë‹¨ìœ„)
+class Project(SQLModel, table=True):
+    __tablename__ = "projects"
+
+    id: Optional[int] = Field(default=None, primary_key=True)
+    name: str
+    description: Optional[str] = None
+    workspace_id: int = Field(foreign_key="workspaces.id")
+    created_at: datetime = Field(default_factory=datetime.now)
\ No newline at end of file
diff --git a/app/routers/workspace.py b/app/routers/workspace.py
new file mode 100644
index 0000000..14f1f8a
--- /dev/null
+++ b/app/routers/workspace.py
@@ -0,0 +1,103 @@
+from fastapi import APIRouter, Depends, HTTPException
+from sqlmodel import Session, select
+from typing import List
+
+from app.database import get_db
+from app.models.user import User
+from app.models.session import UserSession
+from app.models.workspace import Workspace, WorkspaceMember, Project
+from app.schemas import WorkspaceCreate, WorkspaceResponse, ProjectCreate, ProjectResponse
+from datetime import datetime
+
+router = APIRouter(tags=["Workspace & Project"])
+
+# ì¿ í‚¤ì—ì„œ ì„¸ì…˜ IDë¥¼ ì¶”ì¶œí•˜ì—¬ ìœ ì € ID ë°˜í™˜í•˜ëŠ” ì˜ì¡´ì„± í•¨ìˆ˜
+from fastapi import Cookie
+def get_current_user_id(session_id: str = Cookie(None), db: Session = Depends(get_db)):
+    if not session_id:
+        raise HTTPException(status_code=401, detail="ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.")
+
+    session = db.get(UserSession, session_id)
+    if not session or session.expires_at < datetime.now():
+        raise HTTPException(status_code=401, detail="ì„¸ì…˜ì´ ë§Œë£Œë˜ì—ˆìŠµë‹ˆë‹¤.")
+
+    return session.user_id
+
+
+# 1. ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ìƒì„± (íŒ€ ë§Œë“¤ê¸°)
+@router.post("/workspaces", response_model=WorkspaceResponse)
+def create_workspace(
+        ws_data: WorkspaceCreate,
+        user_id: int = Depends(get_current_user_id),
+        db: Session = Depends(get_db)
+):
+    # ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ìƒì„±
+    new_ws = Workspace(
+        name=ws_data.name,
+        description=ws_data.description,
+        owner_id=user_id
+    )
+    db.add(new_ws)
+    db.commit()
+    db.refresh(new_ws)
+
+    # ìƒì„±ìë¥¼ ë©¤ë²„(Admin)ë¡œ ì¶”ê°€
+    member = WorkspaceMember(workspace_id=new_ws.id, user_id=user_id, role="admin")
+    db.add(member)
+    db.commit()
+
+    return new_ws
+
+# 2. ë‚´ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ëª©ë¡ ì¡°íšŒ
+@router.get("/workspaces", response_model=List[WorkspaceResponse])
+def get_my_workspaces(
+        user_id: int = Depends(get_current_user_id),
+        db: Session = Depends(get_db)
+):
+    # ë‚´ê°€ ë©¤ë²„ë¡œ ì†í•œ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ì°¾ê¸° (Join ì¿¼ë¦¬)
+    statement = (
+        select(Workspace)
+        .join(WorkspaceMember)
+        .where(WorkspaceMember.user_id == user_id)
+    )
+    results = db.exec(statement).all()
+    return results
+
+# 3. í”„ë¡œì íŠ¸ ìƒì„± (ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ì•ˆì—)
+@router.post("/workspaces/{workspace_id}/projects", response_model=ProjectResponse)
+def create_project(
+        workspace_id: int,
+        project_data: ProjectCreate,
+        user_id: int = Depends(get_current_user_id),
+        db: Session = Depends(get_db)
+):
+    # ê¶Œí•œ í™•ì¸: ë‚´ê°€ ì´ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ë©¤ë²„ì¸ê°€?
+    member = db.get(WorkspaceMember, (workspace_id, user_id))
+    if not member:
+        raise HTTPException(status_code=403, detail="ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ë©¤ë²„ê°€ ì•„ë‹™ë‹ˆë‹¤.")
+
+    new_project = Project(
+        name=project_data.name,
+        description=project_data.description,
+        workspace_id=workspace_id
+    )
+    db.add(new_project)
+    db.commit()
+    db.refresh(new_project)
+
+    return new_project
+
+@router.get("/workspaces/{workspace_id}/projects", response_model=List[ProjectResponse])
+def get_workspace_projects(
+        workspace_id: int,
+        user_id: int = Depends(get_current_user_id),
+        db: Session = Depends(get_db)
+):
+    # 1. ê¶Œí•œ í™•ì¸: ë‚´ê°€ ì´ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ì˜ ë©¤ë²„ì¸ì§€ í™•ì¸ (ë³´ì•ˆ í•„ìˆ˜!)
+    member = db.get(WorkspaceMember, (workspace_id, user_id))
+    if not member:
+        raise HTTPException(status_code=403, detail="ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ë©¤ë²„ê°€ ì•„ë‹ˆê±°ë‚˜ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ì›Œí¬ìŠ¤í˜ì´ìŠ¤ì…ë‹ˆë‹¤.")
+
+    # 2. í•´ë‹¹ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ì˜ í”„ë¡œì íŠ¸ë“¤ë§Œ ì¡°íšŒ
+    projects = db.exec(select(Project).where(Project.workspace_id == workspace_id)).all()
+    return projects
\ No newline at end of file
diff --git a/app/schemas.py b/app/schemas.py
index 667b6b9..c86b06e 100644
--- a/app/schemas.py
+++ b/app/schemas.py
@@ -22,3 +22,26 @@ class UserResponse(BaseModel):
     name: str
     is_student_verified: bool
     profile_image: Optional[str] = None
+
+
+class WorkspaceCreate(BaseModel):
+    name: str
+    description: Optional[str] = None
+
+
+class WorkspaceResponse(BaseModel):
+    id: int
+    name: str
+    owner_id: int
+    description: Optional[str] = None
+
+
+class ProjectCreate(BaseModel):
+    name: str
+    description: Optional[str] = None
+
+
+class ProjectResponse(BaseModel):
+    id: int
+    name: str
+    workspace_id: int

commit ee84c3494c37d1c3c63dfac501e9ec58b2523b32
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Fri Jan 16 22:46:43 2026 +0900

    Add auth routers
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/main.py b/app/main.py
index 9abb57e..4ce175f 100644
--- a/app/main.py
+++ b/app/main.py
@@ -5,6 +5,10 @@ from app.database import create_db_and_tables
 import time
 import asyncio
 
+#routers
+from app.routers import auth
+
+
 try:
     from vectorwave import initialize_database, generate_and_register_metadata
 except ImportError:
@@ -64,6 +68,9 @@ app = FastAPI(
     lifespan=lifespan
 )
 
+#routers
+app.include_router(auth.router, prefix="/api/auth")
+
 
 @app.get("/")
 def read_root():

commit 0538b21067082a8390bbe6841fec86d0487a64f6
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Fri Jan 16 22:43:45 2026 +0900

    Add member register and login paths
    
    for register /api/auth/signup, for login /api/auth/login,
    for logout /api/auth/logout
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/routers/auth.py b/app/routers/auth.py
index e69de29..5bf3d82 100644
--- a/app/routers/auth.py
+++ b/app/routers/auth.py
@@ -0,0 +1,86 @@
+from fastapi import APIRouter, Depends, HTTPException, status, Response, Request
+from sqlmodel import Session, select
+from datetime import datetime, timedelta
+import bcrypt
+
+from app.database import get_db
+from app.models.user import User
+from app.models.session import UserSession
+from app.schemas import UserCreate, UserLogin, UserResponse
+
+router = APIRouter(tags=["Authentication"])
+
+# --- ë¹„ë°€ë²ˆí˜¸ í•´ì‹± í—¬í¼ í•¨ìˆ˜ ---
+def hash_password(password: str) -> str:
+    salt = bcrypt.gensalt()
+    return bcrypt.hashpw(password.encode('utf-8'), salt).decode('utf-8')
+
+def verify_password(plain_password: str, hashed_password: str) -> bool:
+    return bcrypt.checkpw(plain_password.encode('utf-8'), hashed_password.encode('utf-8'))
+
+# --- 1. íšŒì›ê°€ì… API ---
+@router.post("/signup", response_model=UserResponse)
+def signup(user_data: UserCreate, db: Session = Depends(get_db)):
+    # ì´ë©”ì¼ ì¤‘ë³µ í™•ì¸
+    existing_user = db.exec(select(User).where(User.email == user_data.email)).first()
+    if existing_user:
+        raise HTTPException(status_code=400, detail="ì´ë¯¸ ê°€ì…ëœ ì´ë©”ì¼ì…ë‹ˆë‹¤.")
+
+    # ì „ì£¼ëŒ€ ì´ë©”ì¼ ìë™ ì¸ì¦ ì²´í¬ (@jj.ac.kr)
+    is_jj = user_data.email.endswith("@jj.ac.kr")
+
+    # DBì— ìœ ì € ì €ì¥
+    new_user = User(
+        email=user_data.email,
+        password_hash=hash_password(user_data.password),
+        name=user_data.name,
+        is_student_verified=is_jj
+    )
+    db.add(new_user)
+    db.commit()
+    db.refresh(new_user)
+    return new_user
+
+# --- 2. ë¡œê·¸ì¸ API ---
+@router.post("/login")
+def login(response: Response, login_data: UserLogin, db: Session = Depends(get_db)):
+    user = db.exec(select(User).where(User.email == login_data.email)).first()
+
+    # ê²€ì¦ ì‹¤íŒ¨ (ìœ ì €ê°€ ì—†ê±°ë‚˜ ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë¦¼)
+    if not user or not verify_password(login_data.password, user.password_hash):
+        raise HTTPException(status_code=401, detail="ì´ë©”ì¼ ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.")
+
+    # ì„¸ì…˜ ìƒì„± (DBì— ì €ì¥, 24ì‹œê°„ ìœ íš¨)
+    expires = datetime.now() + timedelta(hours=24)
+    session = UserSession(user_id=user.id, expires_at=expires)
+
+    db.add(session)
+    db.commit()
+    db.refresh(session)
+
+    # ë¸Œë¼ìš°ì €ì— ì¿ í‚¤ ë°œê¸‰ (HttpOnlyë¡œ ë³´ì•ˆ ê°•í™”)
+    response.set_cookie(
+        key="session_id",
+        value=session.session_id,
+        httponly=True,  # ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ì ‘ê·¼ ë¶ˆê°€ (XSS ë°©ì§€)
+        secure=False,   # ë¡œì»¬ ê°œë°œ(http)ì´ë¯€ë¡œ False. (ì‹¤ë°°í¬ httpsì—ì„  True ê¶Œì¥)
+        samesite="lax",
+        max_age=60 * 60 * 24 # 24ì‹œê°„
+    )
+
+    return {"message": "ë¡œê·¸ì¸ ì„±ê³µ", "user": {"email": user.email, "name": user.name}}
+
+# --- 3. ë¡œê·¸ì•„ì›ƒ API ---
+@router.post("/logout")
+def logout(response: Response, request: Request, db: Session = Depends(get_db)):
+    session_id = request.cookies.get("session_id")
+    if session_id:
+        # DBì—ì„œ ì„¸ì…˜ ì‚­ì œ (ì„œë²„ ì¸¡ ë¡œê·¸ì•„ì›ƒ)
+        session = db.get(UserSession, session_id)
+        if session:
+            db.delete(session)
+            db.commit()
+
+    # í´ë¼ì´ì–¸íŠ¸ ì¿ í‚¤ ì‚­ì œ
+    response.delete_cookie("session_id")
+    return {"message": "ë¡œê·¸ì•„ì›ƒ ë˜ì—ˆìŠµë‹ˆë‹¤."}
\ No newline at end of file
diff --git a/requirements.txt b/requirements.txt
index b17a7b5..6034350 100644
--- a/requirements.txt
+++ b/requirements.txt
@@ -8,4 +8,5 @@ requests
 openai
 weaviate-client>=4.0.0
 vectorwave
-bcrypt
\ No newline at end of file
+bcrypt
+email-validator
\ No newline at end of file

commit d2ea4cd5b00c09c50d281f94ebb6c3840bce92ba
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Fri Jan 16 22:42:01 2026 +0900

    Add schemas to send and reponse for frontend
    
    add UserCreate for register, UserLogin for login
    and UserReponse for user data for front.
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/app/schemas.py b/app/schemas.py
new file mode 100644
index 0000000..667b6b9
--- /dev/null
+++ b/app/schemas.py
@@ -0,0 +1,24 @@
+from pydantic import BaseModel, EmailStr
+from typing import Optional
+
+
+# data for register
+class UserCreate(BaseModel):
+    email: EmailStr
+    password: str
+    name: str
+
+
+# data for login
+class UserLogin(BaseModel):
+    email: EmailStr
+    password: str
+
+
+# data for response
+class UserResponse(BaseModel):
+    id: int
+    email: EmailStr
+    name: str
+    is_student_verified: bool
+    profile_image: Optional[str] = None

commit 84e345f4a1e7bf508a087d5e6a9d40bff3fd801b
Author: Jun Yeong Kim <junyeonggim5@gmail.com>
Date:   Fri Jan 16 22:16:21 2026 +0900

    Initial Commit
    
    For the initial setting for backend server, make the docker-compose
    file for Backend, PostgreSQL, Weaviate.
    Also set up the elementary structure for FastAPI and Vectorwave.
    And add user, session model.
    
    Signed-off-by: Jun Yeong Kim <junyeonggim5@gmail.com>

diff --git a/.gitignore b/.gitignore
new file mode 100644
index 0000000..7492df4
--- /dev/null
+++ b/.gitignore
@@ -0,0 +1,44 @@
+__pycache__/
+*.py[cod]
+*$py.class
+*.so
+.Python
+env/
+venv/
+.venv/
+build/
+develop-eggs/
+dist/
+downloads/
+eggs/
+.eggs/
+lib/
+lib64/
+parts/
+sdist/
+var/
+wheels/
+*.egg-info/
+.installed.cfg
+*.egg
+
+.env
+.env.*
+!.env.example
+
+.idea/
+.vscode/
+*.swp
+*.swo
+
+
+postgres_data/
+weaviate_data/
+redis_data/
+*.log
+
+.DS_Store
+
+.coverage
+htmlcov/
+.pytest_cache/
\ No newline at end of file
diff --git a/Dockerfile b/Dockerfile
new file mode 100644
index 0000000..cc3e43f
--- /dev/null
+++ b/Dockerfile
@@ -0,0 +1,12 @@
+FROM python:3.11-slim
+
+WORKDIR /app
+
+RUN apt-get update && apt-get install -y gcc libpq-dev
+
+COPY requirements.txt .
+RUN pip install --no-cache-dir -r requirements.txt
+
+COPY . .
+
+CMD ["uvicorn", "app.main:app", "--host", "0.0.0.0", "--port", "8000"]
\ No newline at end of file
diff --git a/app/__init__.py b/app/__init__.py
new file mode 100644
index 0000000..e69de29
diff --git a/app/database.py b/app/database.py
new file mode 100644
index 0000000..0f1068f
--- /dev/null
+++ b/app/database.py
@@ -0,0 +1,12 @@
+from sqlmodel import SQLModel, create_engine, Session
+
+DATABASE_URL = "postgresql://user:password@db:5432/project_db"
+
+engine = create_engine(DATABASE_URL, echo=True)
+
+def get_db():
+    with Session(engine) as session:
+        yield session
+
+def create_db_and_tables():
+    SQLModel.metadata.create_all(engine)
\ No newline at end of file
diff --git a/app/main.py b/app/main.py
new file mode 100644
index 0000000..9abb57e
--- /dev/null
+++ b/app/main.py
@@ -0,0 +1,74 @@
+from contextlib import asynccontextmanager
+from fastapi import FastAPI, Request
+from fastapi.responses import JSONResponse
+from app.database import create_db_and_tables
+import time
+import asyncio
+
+try:
+    from vectorwave import initialize_database, generate_and_register_metadata
+except ImportError:
+    print("âš ï¸ Warning: 'vectorwave' module not found. AI features will be disabled.")
+    initialize_database = None
+    generate_and_register_metadata = None
+
+
+@asynccontextmanager
+async def lifespan(app: FastAPI):
+    print("\n========== ğŸš€ Server Startup Process ==========", flush=True)
+
+    # 1. PostgreSQL í…Œì´ë¸” ìƒì„±
+    print("ğŸ› ï¸  [Database] Checking & Creating Tables...", flush=True)
+    create_db_and_tables()
+    print("âœ… [Database] Ready.", flush=True)
+
+    # 2. VectorWave ì—°ê²° (ì¬ì‹œë„ ë¡œì§ ê°•í™”)
+    if initialize_database:
+        print("ğŸŒŠ [VectorWave] Connecting to Weaviate...", flush=True)
+        client = None
+        max_retries = 15
+
+        for i in range(max_retries):
+            try:
+                # ì—°ê²° ì‹œë„
+                client = initialize_database()
+
+                if client:
+                    print("âœ… [VectorWave] Connected successfully!", flush=True)
+                    print("ğŸ“ [VectorWave] Syncing function metadata...", flush=True)
+                    generate_and_register_metadata()
+                    break # ì„±ê³µí•˜ë©´ ë£¨í”„ íƒˆì¶œ
+
+            except Exception as e:
+                # ì—ëŸ¬ê°€ ë‚˜ë„ ì£½ì§€ ì•Šê³  ì¶œë ¥í•¨
+                print(f"âš ï¸ [VectorWave] Connection attempt failed: {e}", flush=True)
+
+            # ì‹¤íŒ¨ ì‹œ ëŒ€ê¸° (ë§ˆì§€ë§‰ ì‹œë„ê°€ ì•„ë‹ ë•Œë§Œ)
+            if i < max_retries - 1:
+                print(f"â³ [VectorWave] DB not ready. Retrying in 3s... ({i+1}/{max_retries})", flush=True)
+                await asyncio.sleep(3)
+
+        if not client:
+            print("âŒ [VectorWave] Failed to connect after multiple attempts.", flush=True)
+            print("   -> Weaviate ì»¨í…Œì´ë„ˆ ë¡œê·¸ë¥¼ í™•ì¸í•´ë³´ì„¸ìš”.", flush=True)
+
+    print("===============================================\n", flush=True)
+    yield
+    print("\nğŸ‘‹ Server Shutting Down...", flush=True)
+
+
+app = FastAPI(
+    title="Team Project Collaboration Platform",
+    description="FastAPI + VectorWave Backend",
+    version="1.0.0",
+    lifespan=lifespan
+)
+
+
+@app.get("/")
+def read_root():
+    return {
+        "message": "Team Project API Server is Running!",
+        "system": "FastAPI + PostgreSQL + VectorWave",
+        "status": "Healthy"
+    }
diff --git a/app/models/__init__.py b/app/models/__init__.py
new file mode 100644
index 0000000..e69de29
diff --git a/app/models/session.py b/app/models/session.py
new file mode 100644
index 0000000..9b02e94
--- /dev/null
+++ b/app/models/session.py
@@ -0,0 +1,14 @@
+import uuid
+from datetime import datetime
+from sqlmodel import SQLModel, Field
+
+
+class UserSession(SQLModel, table=True):
+    __tablename__ = "user_sessions"
+
+    session_id: str = Field(default_factory=lambda: str(uuid.uuid4()), primary_key=True)
+    user_id: int = Field(index=True)
+
+    created_at: datetime = Field(default_factory=datetime.now)
+    expires_at: datetime
+    ip_address: str | None = None
diff --git a/app/models/user.py b/app/models/user.py
new file mode 100644
index 0000000..1115091
--- /dev/null
+++ b/app/models/user.py
@@ -0,0 +1,18 @@
+from typing import Optional
+from datetime import datetime
+from sqlmodel import SQLModel, Field
+
+
+class User(SQLModel, table=True):
+    __tablename__ = "users"
+
+    id: Optional[int] = Field(default=None, primary_key=True)
+    email: str = Field(unique=True, index=True)
+    password_hash: str
+    name: str
+    profile_image: Optional[str] = None
+
+    is_student_verified: bool = Field(default=False)
+
+    last_active_at: datetime = Field(default_factory=datetime.now)
+    created_at: datetime = Field(default_factory=datetime.now)
diff --git a/app/routers/__init__.py b/app/routers/__init__.py
new file mode 100644
index 0000000..e69de29
diff --git a/app/routers/auth.py b/app/routers/auth.py
new file mode 100644
index 0000000..e69de29
diff --git a/app/services/__init__.py b/app/services/__init__.py
new file mode 100644
index 0000000..e69de29
diff --git a/app/services/auth_service.py b/app/services/auth_service.py
new file mode 100644
index 0000000..e69de29
diff --git a/docker-compose.yml b/docker-compose.yml
new file mode 100644
index 0000000..960123d
--- /dev/null
+++ b/docker-compose.yml
@@ -0,0 +1,53 @@
+version: '3.8'
+
+services:
+  backend:
+    build: .
+    container_name: team_project_backend
+    ports:
+      - "8000:8000"
+    environment:
+      - DATABASE_URL=postgresql://user:password@db:5432/project_db
+      - WEAVIATE_HOST=weaviate
+      - WEAVIATE_PORT=8080
+      - WEAVIATE_GRPC_PORT=50051
+
+      - OPENAI_API_KEY=${OPENAI_API_KEY}
+    volumes:
+      - ./app:/app/app
+    depends_on:
+      - db
+      - weaviate
+    command: uvicorn app.main:app --host 0.0.0.0 --port 8000 --reload
+
+  db:
+    image: postgres:15-alpine
+    container_name: team_project_db
+    volumes:
+      - postgres_data:/var/lib/postgresql/data
+    environment:
+      - POSTGRES_USER=user
+      - POSTGRES_PASSWORD=password
+      - POSTGRES_DB=project_db
+    ports:
+      - "5432:5432"
+
+  weaviate:
+    image: semitechnologies/weaviate:latest
+    container_name: team_project_weaviate
+    ports:
+      - "8080:8080"
+      - "50051:50051"
+    environment:
+      ENABLE_MODULES: 'text2vec-openai'
+      DEFAULT_VECTORIZER_MODULE: 'text2vec-openai'
+      OPENAI_APIKEY: ${OPENAI_API_KEY}
+      AUTHENTICATION_ANONYMOUS_ENABLED: 'true'
+      PERSISTENCE_DATA_PATH: '/var/lib/weaviate'
+      CLUSTER_HOSTNAME: 'node1'
+    volumes:
+      - weaviate_data:/var/lib/weaviate
+
+volumes:
+  postgres_data:
+  weaviate_data:
\ No newline at end of file
diff --git a/requirements.txt b/requirements.txt
new file mode 100644
index 0000000..b17a7b5
--- /dev/null
+++ b/requirements.txt
@@ -0,0 +1,11 @@
+fastapi
+uvicorn[standard]
+sqlmodel
+psycopg2-binary
+asyncpg
+python-multipart
+requests
+openai
+weaviate-client>=4.0.0
+vectorwave
+bcrypt
\ No newline at end of file
